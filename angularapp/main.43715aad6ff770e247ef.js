(self.webpackChunksala_de_juegos=self.webpackChunksala_de_juegos||[]).push([[179],{8255:Bt=>{function tt(G){return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+G+"'");throw E.code="MODULE_NOT_FOUND",E})}tt.keys=()=>[],tt.resolve=tt,tt.id=8255,Bt.exports=tt},7238:(Bt,tt,G)=>{"use strict";G.d(tt,{l3:()=>ne,_j:()=>E,LC:()=>_,ZN:()=>yt,jt:()=>Ne,vP:()=>ke,SB:()=>ue,oB:()=>ye,eR:()=>ae,X$:()=>Se,ZE:()=>Ke,k1:()=>It});class E{}class _{}const ne="*";function Se(st,Me){return{type:7,name:st,definitions:Me,options:{}}}function Ne(st,Me=null){return{type:4,styles:Me,timings:st}}function ke(st,Me=null){return{type:2,steps:st,options:Me}}function ye(st){return{type:6,styles:st,offset:null}}function ue(st,Me,pe){return{type:0,name:st,styles:Me,options:pe}}function ae(st,Me,pe=null){return{type:1,expr:st,animation:Me,options:pe}}function je(st){Promise.resolve(null).then(st)}class yt{constructor(Me=0,pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Me+pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}onStart(Me){this._onStartFns.push(Me)}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){je(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Me=>Me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Me){this._position=this.totalTime?Me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Me){const pe="start"==Me?this._onStartFns:this._onDoneFns;pe.forEach(Ye=>Ye()),pe.length=0}}class Ke{constructor(Me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Me;let pe=0,Ye=0,cn=0;const Pt=this.players.length;0==Pt?je(()=>this._onFinish()):this.players.forEach(Oe=>{Oe.onDone(()=>{++pe==Pt&&this._onFinish()}),Oe.onDestroy(()=>{++Ye==Pt&&this._onDestroy()}),Oe.onStart(()=>{++cn==Pt&&this._onStart()})}),this.totalTime=this.players.reduce((Oe,Ge)=>Math.max(Oe,Ge.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Me=>Me()),this._onDoneFns=[])}init(){this.players.forEach(Me=>Me.init())}onStart(Me){this._onStartFns.push(Me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Me=>Me()),this._onStartFns=[])}onDone(Me){this._onDoneFns.push(Me)}onDestroy(Me){this._onDestroyFns.push(Me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Me=>Me.play())}pause(){this.players.forEach(Me=>Me.pause())}restart(){this.players.forEach(Me=>Me.restart())}finish(){this._onFinish(),this.players.forEach(Me=>Me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Me=>Me.destroy()),this._onDestroyFns.forEach(Me=>Me()),this._onDestroyFns=[])}reset(){this.players.forEach(Me=>Me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Me){const pe=Me*this.totalTime;this.players.forEach(Ye=>{const cn=Ye.totalTime?Math.min(1,pe/Ye.totalTime):1;Ye.setPosition(cn)})}getPosition(){const Me=this.players.reduce((pe,Ye)=>null===pe||Ye.totalTime>pe.totalTime?Ye:pe,null);return null!=Me?Me.getPosition():0}beforeDestroy(){this.players.forEach(Me=>{Me.beforeDestroy&&Me.beforeDestroy()})}triggerCallback(Me){const pe="start"==Me?this._onStartFns:this._onDoneFns;pe.forEach(Ye=>Ye()),pe.length=0}}const It="!"},8583:(Bt,tt,G)=>{"use strict";G.d(tt,{mr:()=>Ke,Ov:()=>gs,ez:()=>wo,K0:()=>ke,Do:()=>st,V_:()=>ee,Ye:()=>Me,S$:()=>je,mk:()=>tn,sg:()=>Xn,O5:()=>Pi,PC:()=>fr,RF:()=>Wi,n9:()=>br,b0:()=>It,lw:()=>ye,EM:()=>ui,JF:()=>qs,PM:()=>Co,w_:()=>be,bD:()=>ss,q:()=>ne,Mx:()=>Qe,HT:()=>Ne});var E=G(3018);let _=null;function ne(){return _}function Ne(U){_||(_=U)}class be{}const ke=new E.OlP("DocumentToken");let ye=(()=>{class U{historyGo(B){throw new Error("Not implemented")}}return U.\u0275fac=function(B){return new(B||U)},U.\u0275prov=(0,E.Yz7)({factory:ue,token:U,providedIn:"platform"}),U})();function ue(){return(0,E.LFG)(ae)}const ee=new E.OlP("Location Initialized");let ae=(()=>{class U extends ye{constructor(B){super(),this._doc=B,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ne().getBaseHref(this._doc)}onPopState(B){const Y=ne().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",B,!1),()=>Y.removeEventListener("popstate",B)}onHashChange(B){const Y=ne().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",B,!1),()=>Y.removeEventListener("hashchange",B)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(B){this.location.pathname=B}pushState(B,Y,De){me()?this._history.pushState(B,Y,De):this.location.hash=De}replaceState(B,Y,De){me()?this._history.replaceState(B,Y,De):this.location.hash=De}forward(){this._history.forward()}back(){this._history.back()}historyGo(B=0){this._history.go(B)}getState(){return this._history.state}}return U.\u0275fac=function(B){return new(B||U)(E.LFG(ke))},U.\u0275prov=(0,E.Yz7)({factory:fe,token:U,providedIn:"platform"}),U})();function me(){return!!window.history.pushState}function fe(){return new ae((0,E.LFG)(ke))}function Ae(U,W){if(0==U.length)return W;if(0==W.length)return U;let B=0;return U.endsWith("/")&&B++,W.startsWith("/")&&B++,2==B?U+W.substring(1):1==B?U+W:U+"/"+W}function qe(U){const W=U.match(/#|\?|$/),B=W&&W.index||U.length;return U.slice(0,B-("/"===U[B-1]?1:0))+U.slice(B)}function $e(U){return U&&"?"!==U[0]?"?"+U:U}let je=(()=>{class U{historyGo(B){throw new Error("Not implemented")}}return U.\u0275fac=function(B){return new(B||U)},U.\u0275prov=(0,E.Yz7)({factory:yt,token:U,providedIn:"root"}),U})();function yt(U){const W=(0,E.LFG)(ke).location;return new It((0,E.LFG)(ye),W&&W.origin||"")}const Ke=new E.OlP("appBaseHref");let It=(()=>{class U extends je{constructor(B,Y){if(super(),this._platformLocation=B,this._removeListenerFns=[],null==Y&&(Y=this._platformLocation.getBaseHrefFromDOM()),null==Y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}prepareExternalUrl(B){return Ae(this._baseHref,B)}path(B=!1){const Y=this._platformLocation.pathname+$e(this._platformLocation.search),De=this._platformLocation.hash;return De&&B?`${Y}${De}`:Y}pushState(B,Y,De,We){const bt=this.prepareExternalUrl(De+$e(We));this._platformLocation.pushState(B,Y,bt)}replaceState(B,Y,De,We){const bt=this.prepareExternalUrl(De+$e(We));this._platformLocation.replaceState(B,Y,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var Y,De;null===(De=(Y=this._platformLocation).historyGo)||void 0===De||De.call(Y,B)}}return U.\u0275fac=function(B){return new(B||U)(E.LFG(ye),E.LFG(Ke,8))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})(),st=(()=>{class U extends je{constructor(B,Y){super(),this._platformLocation=B,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(B){this._removeListenerFns.push(this._platformLocation.onPopState(B),this._platformLocation.onHashChange(B))}getBaseHref(){return this._baseHref}path(B=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(B){const Y=Ae(this._baseHref,B);return Y.length>0?"#"+Y:Y}pushState(B,Y,De,We){let bt=this.prepareExternalUrl(De+$e(We));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(B,Y,bt)}replaceState(B,Y,De,We){let bt=this.prepareExternalUrl(De+$e(We));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(B,Y,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(B=0){var Y,De;null===(De=(Y=this._platformLocation).historyGo)||void 0===De||De.call(Y,B)}}return U.\u0275fac=function(B){return new(B||U)(E.LFG(ye),E.LFG(Ke,8))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})(),Me=(()=>{class U{constructor(B,Y){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=B;const De=this._platformStrategy.getBaseHref();this._platformLocation=Y,this._baseHref=qe(cn(De)),this._platformStrategy.onPopState(We=>{this._subject.emit({url:this.path(!0),pop:!0,state:We.state,type:We.type})})}path(B=!1){return this.normalize(this._platformStrategy.path(B))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(B,Y=""){return this.path()==this.normalize(B+$e(Y))}normalize(B){return U.stripTrailingSlash(function(U,W){return U&&W.startsWith(U)?W.substring(U.length):W}(this._baseHref,cn(B)))}prepareExternalUrl(B){return B&&"/"!==B[0]&&(B="/"+B),this._platformStrategy.prepareExternalUrl(B)}go(B,Y="",De=null){this._platformStrategy.pushState(De,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+$e(Y)),De)}replaceState(B,Y="",De=null){this._platformStrategy.replaceState(De,"",B,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(B+$e(Y)),De)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(B=0){var Y,De;null===(De=(Y=this._platformStrategy).historyGo)||void 0===De||De.call(Y,B)}onUrlChange(B){this._urlChangeListeners.push(B),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)}))}_notifyUrlChangeListeners(B="",Y){this._urlChangeListeners.forEach(De=>De(B,Y))}subscribe(B,Y,De){return this._subject.subscribe({next:B,error:Y,complete:De})}}return U.\u0275fac=function(B){return new(B||U)(E.LFG(je),E.LFG(ye))},U.normalizeQueryParams=$e,U.joinWithSlash=Ae,U.stripTrailingSlash=qe,U.\u0275prov=(0,E.Yz7)({factory:pe,token:U,providedIn:"root"}),U})();function pe(){return new Me((0,E.LFG)(je),(0,E.LFG)(ye))}function cn(U){return U.replace(/\/index.html$/,"")}var Ge=(()=>((Ge=Ge||{})[Ge.Zero=0]="Zero",Ge[Ge.One=1]="One",Ge[Ge.Two=2]="Two",Ge[Ge.Few=3]="Few",Ge[Ge.Many=4]="Many",Ge[Ge.Other=5]="Other",Ge))();const pn=E.kL8;class Pe{}let oe=(()=>{class U extends Pe{constructor(B){super(),this.locale=B}getPluralCategory(B,Y){switch(pn(Y||this.locale)(B)){case Ge.Zero:return"zero";case Ge.One:return"one";case Ge.Two:return"two";case Ge.Few:return"few";case Ge.Many:return"many";default:return"other"}}}return U.\u0275fac=function(B){return new(B||U)(E.LFG(E.soG))},U.\u0275prov=E.Yz7({token:U,factory:U.\u0275fac}),U})();function Qe(U,W){W=encodeURIComponent(W);for(const B of U.split(";")){const Y=B.indexOf("="),[De,We]=-1==Y?[B,""]:[B.slice(0,Y),B.slice(Y+1)];if(De.trim()===W)return decodeURIComponent(We)}return null}let tn=(()=>{class U{constructor(B,Y,De,We){this._iterableDiffers=B,this._keyValueDiffers=Y,this._ngEl=De,this._renderer=We,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(B){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof B?B.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(B){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof B?B.split(/\s+/):B,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const B=this._iterableDiffer.diff(this._rawClass);B&&this._applyIterableChanges(B)}else if(this._keyValueDiffer){const B=this._keyValueDiffer.diff(this._rawClass);B&&this._applyKeyValueChanges(B)}}_applyKeyValueChanges(B){B.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),B.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(B){B.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),B.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(B).forEach(Y=>this._toggleClass(Y,!!B[Y])))}_removeClasses(B){B&&(Array.isArray(B)||B instanceof Set?B.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(B).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(B,Y){(B=B.trim())&&B.split(/\s+/g).forEach(De=>{Y?this._renderer.addClass(this._ngEl.nativeElement,De):this._renderer.removeClass(this._ngEl.nativeElement,De)})}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class qn{constructor(W,B,Y,De){this.$implicit=W,this.ngForOf=B,this.index=Y,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class U{constructor(B,Y,De){this._viewContainer=B,this._template=Y,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(B){this._ngForOf=B,this._ngForOfDirty=!0}set ngForTrackBy(B){this._trackByFn=B}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(B){B&&(this._template=B)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const B=this._ngForOf;if(!this._differ&&B)try{this._differ=this._differs.find(B).create(this.ngForTrackBy)}catch(Y){throw new Error(`Cannot find a differ supporting object '${B}' of type '${function(U){return U.name||typeof U}(B)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const B=this._differ.diff(this._ngForOf);B&&this._applyChanges(B)}}_applyChanges(B){const Y=[];B.forEachOperation((De,We,bt)=>{if(null==De.previousIndex){const F=this._viewContainer.createEmbeddedView(this._template,new qn(null,this._ngForOf,-1,-1),null===bt?void 0:bt),P=new Nr(De,F);Y.push(P)}else if(null==bt)this._viewContainer.remove(null===We?void 0:We);else if(null!==We){const F=this._viewContainer.get(We);this._viewContainer.move(F,bt);const P=new Nr(De,F);Y.push(P)}});for(let De=0;De<Y.length;De++)this._perViewChange(Y[De].view,Y[De].record);for(let De=0,We=this._viewContainer.length;De<We;De++){const bt=this._viewContainer.get(De);bt.context.index=De,bt.context.count=We,bt.context.ngForOf=this._ngForOf}B.forEachIdentityChange(De=>{this._viewContainer.get(De.currentIndex).context.$implicit=De.item})}_perViewChange(B,Y){B.context.$implicit=Y.item}static ngTemplateContextGuard(B,Y){return!0}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class Nr{constructor(W,B){this.record=W,this.view=B}}let Pi=(()=>{class U{constructor(B,Y){this._viewContainer=B,this._context=new Zr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(B){this._context.$implicit=this._context.ngIf=B,this._updateView()}set ngIfThen(B){Wn("ngIfThen",B),this._thenTemplateRef=B,this._thenViewRef=null,this._updateView()}set ngIfElse(B){Wn("ngIfElse",B),this._elseTemplateRef=B,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(B,Y){return!0}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.s_b),E.Y36(E.Rgc))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Zr{constructor(){this.$implicit=null,this.ngIf=null}}function Wn(U,W){if(W&&!W.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,E.AaK)(W)}'.`)}class wi{constructor(W,B){this._viewContainerRef=W,this._templateRef=B,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(W){W&&!this._created?this.create():!W&&this._created&&this.destroy()}}let Wi=(()=>{class U{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(B){this._ngSwitch=B,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(B){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(B)}_matchCase(B){const Y=B==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(B){if(this._defaultViews&&B!==this._defaultUsed){this._defaultUsed=B;for(let Y=0;Y<this._defaultViews.length;Y++)this._defaultViews[Y].enforceState(B)}}}return U.\u0275fac=function(B){return new(B||U)},U.\u0275dir=E.lG2({type:U,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),U})(),br=(()=>{class U{constructor(B,Y,De){this.ngSwitch=De,De._addCase(),this._view=new wi(B,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(Wi,9))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),U})(),fr=(()=>{class U{constructor(B,Y,De){this._ngEl=B,this._differs=Y,this._renderer=De,this._ngStyle=null,this._differ=null}set ngStyle(B){this._ngStyle=B,!this._differ&&B&&(this._differ=this._differs.find(B).create())}ngDoCheck(){if(this._differ){const B=this._differ.diff(this._ngStyle);B&&this._applyChanges(B)}}_setStyle(B,Y){const[De,We]=B.split(".");null!=(Y=null!=Y&&We?`${Y}${We}`:Y)?this._renderer.setStyle(this._ngEl.nativeElement,De,Y):this._renderer.removeStyle(this._ngEl.nativeElement,De)}_applyChanges(B){B.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),B.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),B.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))},U.\u0275dir=E.lG2({type:U,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),U})();class wr{createSubscription(W,B){return W.subscribe({next:B,error:Y=>{throw Y}})}dispose(W){W.unsubscribe()}onDestroy(W){W.unsubscribe()}}class es{createSubscription(W,B){return W.then(B,Y=>{throw Y})}dispose(W){}onDestroy(W){}}const ki=new es,Cr=new wr;let gs=(()=>{class U{constructor(B){this._ref=B,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(B){return this._obj?B!==this._obj?(this._dispose(),this.transform(B)):this._latestValue:(B&&this._subscribe(B),this._latestValue)}_subscribe(B){this._obj=B,this._strategy=this._selectStrategy(B),this._subscription=this._strategy.createSubscription(B,Y=>this._updateLatestValue(B,Y))}_selectStrategy(B){if((0,E.QGY)(B))return ki;if((0,E.F4k)(B))return Cr;throw function(U,W){return Error(`InvalidPipeArgument: '${W}' for pipe '${(0,E.AaK)(U)}'`)}(U,B)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(B,Y){B===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return U.\u0275fac=function(B){return new(B||U)(E.Y36(E.sBO,16))},U.\u0275pipe=E.Yjl({name:"async",type:U,pure:!1}),U})(),wo=(()=>{class U{}return U.\u0275fac=function(B){return new(B||U)},U.\u0275mod=E.oAB({type:U}),U.\u0275inj=E.cJS({providers:[{provide:Pe,useClass:oe}]}),U})();const ss="browser";function Co(U){return"server"===U}let ui=(()=>{class U{}return U.\u0275prov=(0,E.Yz7)({token:U,providedIn:"root",factory:()=>new as((0,E.LFG)(ke),window)}),U})();class as{constructor(W,B){this.document=W,this.window=B,this.offset=()=>[0,0]}setOffset(W){this.offset=Array.isArray(W)?()=>W:W}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(W){this.supportsScrolling()&&this.window.scrollTo(W[0],W[1])}scrollToAnchor(W){if(!this.supportsScrolling())return;const B=function(U,W){const B=U.getElementById(W)||U.getElementsByName(W)[0];if(B)return B;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const Y=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let De=Y.currentNode;for(;De;){const We=De.shadowRoot;if(We){const bt=We.getElementById(W)||We.querySelector(`[name="${W}"]`);if(bt)return bt}De=Y.nextNode()}}return null}(this.document,W);B&&(this.scrollToElement(B),this.attemptFocus(B))}setHistoryScrollRestoration(W){if(this.supportScrollRestoration()){const B=this.window.history;B&&B.scrollRestoration&&(B.scrollRestoration=W)}}scrollToElement(W){const B=W.getBoundingClientRect(),Y=B.left+this.window.pageXOffset,De=B.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(Y-We[0],De-We[1])}attemptFocus(W){return W.focus(),this.document.activeElement===W}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const W=Pr(this.window.history)||Pr(Object.getPrototypeOf(this.window.history));return!(!W||!W.writable&&!W.set)}catch(W){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(W){return!1}}}function Pr(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class qs{}},1841:(Bt,tt,G)=>{"use strict";G.d(tt,{eN:()=>le,JF:()=>yn});var E=G(8583),_=G(3018),ne=G(5917),Se=G(7574),Ne=G(4612),be=G(5435),ke=G(8002);class ye{}class ue{}class ee{constructor(re){this.normalizedNames=new Map,this.lazyUpdate=null,re?this.lazyInit="string"==typeof re?()=>{this.headers=new Map,re.split("\n").forEach(Ce=>{const gt=Ce.indexOf(":");if(gt>0){const dt=Ce.slice(0,gt),Ut=dt.toLowerCase(),ft=Ce.slice(gt+1).trim();this.maybeSetNormalizedName(dt,Ut),this.headers.has(Ut)?this.headers.get(Ut).push(ft):this.headers.set(Ut,[ft])}})}:()=>{this.headers=new Map,Object.keys(re).forEach(Ce=>{let gt=re[Ce];const dt=Ce.toLowerCase();"string"==typeof gt&&(gt=[gt]),gt.length>0&&(this.headers.set(dt,gt),this.maybeSetNormalizedName(Ce,dt))})}:this.headers=new Map}has(re){return this.init(),this.headers.has(re.toLowerCase())}get(re){this.init();const Ce=this.headers.get(re.toLowerCase());return Ce&&Ce.length>0?Ce[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(re){return this.init(),this.headers.get(re.toLowerCase())||null}append(re,Ce){return this.clone({name:re,value:Ce,op:"a"})}set(re,Ce){return this.clone({name:re,value:Ce,op:"s"})}delete(re,Ce){return this.clone({name:re,value:Ce,op:"d"})}maybeSetNormalizedName(re,Ce){this.normalizedNames.has(Ce)||this.normalizedNames.set(Ce,re)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(re=>this.applyUpdate(re)),this.lazyUpdate=null))}copyFrom(re){re.init(),Array.from(re.headers.keys()).forEach(Ce=>{this.headers.set(Ce,re.headers.get(Ce)),this.normalizedNames.set(Ce,re.normalizedNames.get(Ce))})}clone(re){const Ce=new ee;return Ce.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,Ce.lazyUpdate=(this.lazyUpdate||[]).concat([re]),Ce}applyUpdate(re){const Ce=re.name.toLowerCase();switch(re.op){case"a":case"s":let gt=re.value;if("string"==typeof gt&&(gt=[gt]),0===gt.length)return;this.maybeSetNormalizedName(re.name,Ce);const dt=("a"===re.op?this.headers.get(Ce):void 0)||[];dt.push(...gt),this.headers.set(Ce,dt);break;case"d":const Ut=re.value;if(Ut){let ft=this.headers.get(Ce);if(!ft)return;ft=ft.filter(kt=>-1===Ut.indexOf(kt)),0===ft.length?(this.headers.delete(Ce),this.normalizedNames.delete(Ce)):this.headers.set(Ce,ft)}else this.headers.delete(Ce),this.normalizedNames.delete(Ce)}}forEach(re){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ce=>re(this.normalizedNames.get(Ce),this.headers.get(Ce)))}}class ae{encodeKey(re){return qe(re)}encodeValue(re){return qe(re)}decodeKey(re){return decodeURIComponent(re)}decodeValue(re){return decodeURIComponent(re)}}const fe=/%(\d[a-f0-9])/gi,Ae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qe(Ze){return encodeURIComponent(Ze).replace(fe,(re,Ce)=>{var gt;return null!==(gt=Ae[Ce])&&void 0!==gt?gt:re})}function $e(Ze){return`${Ze}`}class je{constructor(re={}){if(this.updates=null,this.cloneFrom=null,this.encoder=re.encoder||new ae,re.fromString){if(re.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(Ze,re){const Ce=new Map;return Ze.length>0&&Ze.replace(/^\?/,"").split("&").forEach(dt=>{const Ut=dt.indexOf("="),[ft,kt]=-1==Ut?[re.decodeKey(dt),""]:[re.decodeKey(dt.slice(0,Ut)),re.decodeValue(dt.slice(Ut+1))],fn=Ce.get(ft)||[];fn.push(kt),Ce.set(ft,fn)}),Ce}(re.fromString,this.encoder)}else re.fromObject?(this.map=new Map,Object.keys(re.fromObject).forEach(Ce=>{const gt=re.fromObject[Ce];this.map.set(Ce,Array.isArray(gt)?gt:[gt])})):this.map=null}has(re){return this.init(),this.map.has(re)}get(re){this.init();const Ce=this.map.get(re);return Ce?Ce[0]:null}getAll(re){return this.init(),this.map.get(re)||null}keys(){return this.init(),Array.from(this.map.keys())}append(re,Ce){return this.clone({param:re,value:Ce,op:"a"})}appendAll(re){const Ce=[];return Object.keys(re).forEach(gt=>{const dt=re[gt];Array.isArray(dt)?dt.forEach(Ut=>{Ce.push({param:gt,value:Ut,op:"a"})}):Ce.push({param:gt,value:dt,op:"a"})}),this.clone(Ce)}set(re,Ce){return this.clone({param:re,value:Ce,op:"s"})}delete(re,Ce){return this.clone({param:re,value:Ce,op:"d"})}toString(){return this.init(),this.keys().map(re=>{const Ce=this.encoder.encodeKey(re);return this.map.get(re).map(gt=>Ce+"="+this.encoder.encodeValue(gt)).join("&")}).filter(re=>""!==re).join("&")}clone(re){const Ce=new je({encoder:this.encoder});return Ce.cloneFrom=this.cloneFrom||this,Ce.updates=(this.updates||[]).concat(re),Ce}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(re=>this.map.set(re,this.cloneFrom.map.get(re))),this.updates.forEach(re=>{switch(re.op){case"a":case"s":const Ce=("a"===re.op?this.map.get(re.param):void 0)||[];Ce.push($e(re.value)),this.map.set(re.param,Ce);break;case"d":if(void 0===re.value){this.map.delete(re.param);break}{let gt=this.map.get(re.param)||[];const dt=gt.indexOf($e(re.value));-1!==dt&&gt.splice(dt,1),gt.length>0?this.map.set(re.param,gt):this.map.delete(re.param)}}}),this.cloneFrom=this.updates=null)}}class Ke{constructor(){this.map=new Map}set(re,Ce){return this.map.set(re,Ce),this}get(re){return this.map.has(re)||this.map.set(re,re.defaultValue()),this.map.get(re)}delete(re){return this.map.delete(re),this}keys(){return this.map.keys()}}function st(Ze){return"undefined"!=typeof ArrayBuffer&&Ze instanceof ArrayBuffer}function Me(Ze){return"undefined"!=typeof Blob&&Ze instanceof Blob}function pe(Ze){return"undefined"!=typeof FormData&&Ze instanceof FormData}class cn{constructor(re,Ce,gt,dt){let Ut;if(this.url=Ce,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=re.toUpperCase(),function(Ze){switch(Ze){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||dt?(this.body=void 0!==gt?gt:null,Ut=dt):Ut=gt,Ut&&(this.reportProgress=!!Ut.reportProgress,this.withCredentials=!!Ut.withCredentials,Ut.responseType&&(this.responseType=Ut.responseType),Ut.headers&&(this.headers=Ut.headers),Ut.context&&(this.context=Ut.context),Ut.params&&(this.params=Ut.params)),this.headers||(this.headers=new ee),this.context||(this.context=new Ke),this.params){const ft=this.params.toString();if(0===ft.length)this.urlWithParams=Ce;else{const kt=Ce.indexOf("?");this.urlWithParams=Ce+(-1===kt?"?":kt<Ce.length-1?"&":"")+ft}}else this.params=new je,this.urlWithParams=Ce}serializeBody(){return null===this.body?null:st(this.body)||Me(this.body)||pe(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pe(this.body)?null:Me(this.body)?this.body.type||null:st(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(re={}){var Ce;const gt=re.method||this.method,dt=re.url||this.url,Ut=re.responseType||this.responseType,ft=void 0!==re.body?re.body:this.body,kt=void 0!==re.withCredentials?re.withCredentials:this.withCredentials,fn=void 0!==re.reportProgress?re.reportProgress:this.reportProgress;let Qn=re.headers||this.headers,ur=re.params||this.params;const Ln=null!==(Ce=re.context)&&void 0!==Ce?Ce:this.context;return void 0!==re.setHeaders&&(Qn=Object.keys(re.setHeaders).reduce((Jn,Vt)=>Jn.set(Vt,re.setHeaders[Vt]),Qn)),re.setParams&&(ur=Object.keys(re.setParams).reduce((Jn,Vt)=>Jn.set(Vt,re.setParams[Vt]),ur)),new cn(gt,dt,ft,{params:ur,headers:Qn,context:Ln,reportProgress:fn,responseType:Ut,withCredentials:kt})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class Oe{constructor(re,Ce=200,gt="OK"){this.headers=re.headers||new ee,this.status=void 0!==re.status?re.status:Ce,this.statusText=re.statusText||gt,this.url=re.url||null,this.ok=this.status>=200&&this.status<300}}class Ge extends Oe{constructor(re={}){super(re),this.type=Pt.ResponseHeader}clone(re={}){return new Ge({headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class Je extends Oe{constructor(re={}){super(re),this.type=Pt.Response,this.body=void 0!==re.body?re.body:null}clone(re={}){return new Je({body:void 0!==re.body?re.body:this.body,headers:re.headers||this.headers,status:void 0!==re.status?re.status:this.status,statusText:re.statusText||this.statusText,url:re.url||this.url||void 0})}}class rt extends Oe{constructor(re){super(re,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${re.url||"(unknown url)"}`:`Http failure response for ${re.url||"(unknown url)"}: ${re.status} ${re.statusText}`,this.error=re.error||null}}function et(Ze,re){return{body:re,headers:Ze.headers,context:Ze.context,observe:Ze.observe,params:Ze.params,reportProgress:Ze.reportProgress,responseType:Ze.responseType,withCredentials:Ze.withCredentials}}let le=(()=>{class Ze{constructor(Ce){this.handler=Ce}request(Ce,gt,dt={}){let Ut;if(Ce instanceof cn)Ut=Ce;else{let fn,Qn;fn=dt.headers instanceof ee?dt.headers:new ee(dt.headers),dt.params&&(Qn=dt.params instanceof je?dt.params:new je({fromObject:dt.params})),Ut=new cn(Ce,gt,void 0!==dt.body?dt.body:null,{headers:fn,context:dt.context,params:Qn,reportProgress:dt.reportProgress,responseType:dt.responseType||"json",withCredentials:dt.withCredentials})}const ft=(0,ne.of)(Ut).pipe((0,Ne.b)(fn=>this.handler.handle(fn)));if(Ce instanceof cn||"events"===dt.observe)return ft;const kt=ft.pipe((0,be.h)(fn=>fn instanceof Je));switch(dt.observe||"body"){case"body":switch(Ut.responseType){case"arraybuffer":return kt.pipe((0,ke.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return fn.body}));case"blob":return kt.pipe((0,ke.U)(fn=>{if(null!==fn.body&&!(fn.body instanceof Blob))throw new Error("Response is not a Blob.");return fn.body}));case"text":return kt.pipe((0,ke.U)(fn=>{if(null!==fn.body&&"string"!=typeof fn.body)throw new Error("Response is not a string.");return fn.body}));case"json":default:return kt.pipe((0,ke.U)(fn=>fn.body))}case"response":return kt;default:throw new Error(`Unreachable: unhandled observe type ${dt.observe}}`)}}delete(Ce,gt={}){return this.request("DELETE",Ce,gt)}get(Ce,gt={}){return this.request("GET",Ce,gt)}head(Ce,gt={}){return this.request("HEAD",Ce,gt)}jsonp(Ce,gt){return this.request("JSONP",Ce,{params:(new je).append(gt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ce,gt={}){return this.request("OPTIONS",Ce,gt)}patch(Ce,gt,dt={}){return this.request("PATCH",Ce,et(dt,gt))}post(Ce,gt,dt={}){return this.request("POST",Ce,et(dt,gt))}put(Ce,gt,dt={}){return this.request("PUT",Ce,et(dt,gt))}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)(_.LFG(ye))},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class vt{constructor(re,Ce){this.next=re,this.interceptor=Ce}handle(re){return this.interceptor.intercept(re,this.next)}}const _t=new _.OlP("HTTP_INTERCEPTORS");let dn=(()=>{class Ze{intercept(Ce,gt){return gt.handle(Ce)}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const we=/^\)\]\}',?\n/;let Gt=(()=>{class Ze{constructor(Ce){this.xhrFactory=Ce}handle(Ce){if("JSONP"===Ce.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Se.y(gt=>{const dt=this.xhrFactory.build();if(dt.open(Ce.method,Ce.urlWithParams),Ce.withCredentials&&(dt.withCredentials=!0),Ce.headers.forEach((Vt,Yt)=>dt.setRequestHeader(Vt,Yt.join(","))),Ce.headers.has("Accept")||dt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ce.headers.has("Content-Type")){const Vt=Ce.detectContentTypeHeader();null!==Vt&&dt.setRequestHeader("Content-Type",Vt)}if(Ce.responseType){const Vt=Ce.responseType.toLowerCase();dt.responseType="json"!==Vt?Vt:"text"}const Ut=Ce.serializeBody();let ft=null;const kt=()=>{if(null!==ft)return ft;const Vt=1223===dt.status?204:dt.status,Yt=dt.statusText||"OK",Te=new ee(dt.getAllResponseHeaders()),se=function(Ze){return"responseURL"in Ze&&Ze.responseURL?Ze.responseURL:/^X-Request-URL:/m.test(Ze.getAllResponseHeaders())?Ze.getResponseHeader("X-Request-URL"):null}(dt)||Ce.url;return ft=new Ge({headers:Te,status:Vt,statusText:Yt,url:se}),ft},fn=()=>{let{headers:Vt,status:Yt,statusText:Te,url:se}=kt(),Le=null;204!==Yt&&(Le=void 0===dt.response?dt.responseText:dt.response),0===Yt&&(Yt=Le?200:0);let Xe=Yt>=200&&Yt<300;if("json"===Ce.responseType&&"string"==typeof Le){const Ve=Le;Le=Le.replace(we,"");try{Le=""!==Le?JSON.parse(Le):null}catch(mt){Le=Ve,Xe&&(Xe=!1,Le={error:mt,text:Le})}}Xe?(gt.next(new Je({body:Le,headers:Vt,status:Yt,statusText:Te,url:se||void 0})),gt.complete()):gt.error(new rt({error:Le,headers:Vt,status:Yt,statusText:Te,url:se||void 0}))},Qn=Vt=>{const{url:Yt}=kt(),Te=new rt({error:Vt,status:dt.status||0,statusText:dt.statusText||"Unknown Error",url:Yt||void 0});gt.error(Te)};let ur=!1;const Ln=Vt=>{ur||(gt.next(kt()),ur=!0);let Yt={type:Pt.DownloadProgress,loaded:Vt.loaded};Vt.lengthComputable&&(Yt.total=Vt.total),"text"===Ce.responseType&&!!dt.responseText&&(Yt.partialText=dt.responseText),gt.next(Yt)},Jn=Vt=>{let Yt={type:Pt.UploadProgress,loaded:Vt.loaded};Vt.lengthComputable&&(Yt.total=Vt.total),gt.next(Yt)};return dt.addEventListener("load",fn),dt.addEventListener("error",Qn),dt.addEventListener("timeout",Qn),dt.addEventListener("abort",Qn),Ce.reportProgress&&(dt.addEventListener("progress",Ln),null!==Ut&&dt.upload&&dt.upload.addEventListener("progress",Jn)),dt.send(Ut),gt.next({type:Pt.Sent}),()=>{dt.removeEventListener("error",Qn),dt.removeEventListener("abort",Qn),dt.removeEventListener("load",fn),dt.removeEventListener("timeout",Qn),Ce.reportProgress&&(dt.removeEventListener("progress",Ln),null!==Ut&&dt.upload&&dt.upload.removeEventListener("progress",Jn)),dt.readyState!==dt.DONE&&dt.abort()}})}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)(_.LFG(E.JF))},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const En=new _.OlP("XSRF_COOKIE_NAME"),mn=new _.OlP("XSRF_HEADER_NAME");class rr{}let or=(()=>{class Ze{constructor(Ce,gt,dt){this.doc=Ce,this.platform=gt,this.cookieName=dt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ce=this.doc.cookie||"";return Ce!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(Ce,this.cookieName),this.lastCookieString=Ce),this.lastToken}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)(_.LFG(E.K0),_.LFG(_.Lbi),_.LFG(En))},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),pn=(()=>{class Ze{constructor(Ce,gt){this.tokenService=Ce,this.headerName=gt}intercept(Ce,gt){const dt=Ce.url.toLowerCase();if("GET"===Ce.method||"HEAD"===Ce.method||dt.startsWith("http://")||dt.startsWith("https://"))return gt.handle(Ce);const Ut=this.tokenService.getToken();return null!==Ut&&!Ce.headers.has(this.headerName)&&(Ce=Ce.clone({headers:Ce.headers.set(this.headerName,Ut)})),gt.handle(Ce)}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)(_.LFG(rr),_.LFG(mn))},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Vn=(()=>{class Ze{constructor(Ce,gt){this.backend=Ce,this.injector=gt,this.chain=null}handle(Ce){if(null===this.chain){const gt=this.injector.get(_t,[]);this.chain=gt.reduceRight((dt,Ut)=>new vt(dt,Ut),this.backend)}return this.chain.handle(Ce)}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)(_.LFG(ue),_.LFG(_.zs3))},Ze.\u0275prov=_.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Zn=(()=>{class Ze{static disable(){return{ngModule:Ze,providers:[{provide:pn,useClass:dn}]}}static withOptions(Ce={}){return{ngModule:Ze,providers:[Ce.cookieName?{provide:En,useValue:Ce.cookieName}:[],Ce.headerName?{provide:mn,useValue:Ce.headerName}:[]]}}}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)},Ze.\u0275mod=_.oAB({type:Ze}),Ze.\u0275inj=_.cJS({providers:[pn,{provide:_t,useExisting:pn,multi:!0},{provide:rr,useClass:or},{provide:En,useValue:"XSRF-TOKEN"},{provide:mn,useValue:"X-XSRF-TOKEN"}]}),Ze})(),yn=(()=>{class Ze{}return Ze.\u0275fac=function(Ce){return new(Ce||Ze)},Ze.\u0275mod=_.oAB({type:Ze}),Ze.\u0275inj=_.cJS({providers:[le,{provide:ye,useClass:Vn},Gt,{provide:ue,useExisting:Gt}],imports:[[Zn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ze})()},3018:(Bt,tt,G)=>{"use strict";G.d(tt,{deG:()=>Aa,tb:()=>lw,AFp:()=>ow,ip1:()=>hE,CZH:()=>Ff,hGG:()=>$A,z2F:()=>cm,sBO:()=>MT,Sil:()=>lm,_Vd:()=>qd,EJc:()=>dw,SBq:()=>yl,qLn:()=>Ft,vpe:()=>_l,gxx:()=>cl,tBr:()=>Wo,XFs:()=>re,OlP:()=>Un,zs3:()=>Rr,ZZ4:()=>Qy,aQg:()=>Jy,soG:()=>l_,YKP:()=>Q0,v3s:()=>wA,h0i:()=>zd,PXZ:()=>mA,R0b:()=>wa,FiY:()=>Ko,Lbi:()=>uw,g9A:()=>aw,Qsj:()=>yT,FYo:()=>Yy,JOm:()=>Xo,Tiy:()=>Uv,q3G:()=>mr,tp0:()=>go,EAV:()=>DA,Rgc:()=>Qg,dDg:()=>gw,DyG:()=>xo,q4F:()=>Bv,GfV:()=>Z0,s_b:()=>t_,ifc:()=>Ln,eFA:()=>Ew,G48:()=>lA,Gpc:()=>$e,X6Q:()=>vE,_c5:()=>FA,VLi:()=>uA,c2e:()=>cw,zSh:()=>zl,wAp:()=>Sn,vHH:()=>It,EiD:()=>Yu,mCW:()=>Sl,qzn:()=>Wu,JVY:()=>nr,pB0:()=>mc,eBb:()=>lh,L6k:()=>uh,LAX:()=>di,cg1:()=>xv,Tjo:()=>PA,kL8:()=>h0,yhl:()=>ci,dqk:()=>se,sIi:()=>cf,CqO:()=>Rg,QGY:()=>xg,F4k:()=>ky,RDi:()=>B,AaK:()=>fe,z3N:()=>eo,qOj:()=>fs,TTD:()=>Br,_Bn:()=>U0,xp6:()=>fp,uIk:()=>_y,Tol:()=>Hg,ekj:()=>jg,Suo:()=>Vb,Xpm:()=>Jr,lG2:()=>zr,Yz7:()=>mn,cJS:()=>or,oAB:()=>Lr,Yjl:()=>Vr,Y36:()=>Vd,_UZ:()=>Oy,BQk:()=>Ng,ynx:()=>Sg,qZA:()=>Ef,TgZ:()=>Dg,EpF:()=>Py,n5z:()=>ct,Ikx:()=>Sv,LFG:()=>jr,$8M:()=>zt,NdJ:()=>Fy,CRH:()=>Ub,oxw:()=>Mg,ALo:()=>Ob,lcZ:()=>Pb,Q6J:()=>_f,s9C:()=>Pg,DdM:()=>Ib,VKq:()=>Db,WLB:()=>Ab,iGM:()=>Lb,CHM:()=>Ka,oJD:()=>Xu,LSH:()=>Mo,kYT:()=>Er,Udp:()=>If,d8E:()=>Nv,YNc:()=>by,_uU:()=>ie,Oqu:()=>he,hij:()=>xe});var E=G(9765),_=G(5319),ne=G(7574),Se=G(6682),Ne=G(2441);var ye=G(1307);function ue(){return new E.xQ}function ae(i){for(let s in i)if(i[s]===ae)return s;throw Error("Could not find renamed property on target object.")}function me(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function fe(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(fe).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ae(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const qe=ae({__forward_ref__:ae});function $e(i){return i.__forward_ref__=$e,i.toString=function(){return fe(this())},i}function je(i){return yt(i)?i():i}function yt(i){return"function"==typeof i&&i.hasOwnProperty(qe)&&i.__forward_ref__===$e}class It extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function pe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ye(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pe(i)}function Ge(i,s){const o=s?` in ${s}`:"";throw new It("201",`No provider for ${Ye(i)} found${o}`)}function ge(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function or(i){return{providers:i.providers||[],imports:i.imports||[]}}function pn(i){return Vn(i,yn)||Vn(i,sr)}function Vn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Zn(i){return i&&(i.hasOwnProperty(Dn)||i.hasOwnProperty(Ze))?i[Dn]:null}const yn=ae({\u0275prov:ae}),Dn=ae({\u0275inj:ae}),sr=ae({ngInjectableDef:ae}),Ze=ae({ngInjectorDef:ae});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Ce;function dt(i){const s=Ce;return Ce=i,s}function Ut(i,s,o){const l=pn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&re.Optional?null:void 0!==s?s:void Ge(fe(i),"Injector")}function kt(i){return{toString:i}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),Ln=(()=>((Ln=Ln||{})[Ln.Emulated=0]="Emulated",Ln[Ln.None=2]="None",Ln[Ln.ShadowDom=3]="ShadowDom",Ln))();const Jn="undefined"!=typeof globalThis&&globalThis,Vt="undefined"!=typeof window&&window,Yt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te="undefined"!=typeof global&&global,se=Jn||Te||Vt||Yt,Ve={},mt=[],Wt=ae({\u0275cmp:ae}),An=ae({\u0275dir:ae}),Nn=ae({\u0275pipe:ae}),bn=ae({\u0275mod:ae}),yr=ae({\u0275loc:ae}),nn=ae({\u0275fac:ae}),jn=ae({__NG_ELEMENT_ID__:ae});let Qr=0;function Jr(i){return kt(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ln.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,y=i.pipes;return l.id+=Qr++,l.inputs=$r(i.inputs,o),l.outputs=$r(i.outputs),f&&f.forEach(C=>C(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(pi):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(gi):null,l})}function pi(i){return en(i)||function(i){return i[An]||null}(i)}function gi(i){return function(i){return i[Nn]||null}(i)}const Oi={};function Lr(i){return kt(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Oi[i.id]=i.type),s})}function Er(i,s){return kt(()=>{const o=In(i,!0);o.declarations=s.declarations||mt,o.imports=s.imports||mt,o.exports=s.exports||mt})}function $r(i,s){if(null==i)return Ve;const o={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=l,s&&(s[d]=f)}return o}const zr=Jr;function Vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function en(i){return i[Wt]||null}function In(i,s){const o=i[bn]||null;if(!o&&!0===s)throw new Error(`Type ${fe(i)} does not have '\u0275mod' property.`);return o}function Kr(i){return Array.isArray(i)&&"object"==typeof i[1]}function pr(i){return Array.isArray(i)&&!0===i[1]}function wr(i){return 0!=(8&i.flags)}function es(i){return 2==(2&i.flags)}function ki(i){return 1==(1&i.flags)}function Cr(i){return null!==i.template}function gs(i){return 0!=(512&i[2])}function Di(i,s){return i.hasOwnProperty(nn)?i[nn]:null}class _s{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Br(){return Co}function Co(i){return i.type.prototype.ngOnChanges&&(i.setInput=Gs),Bo}function Bo(){const i=ui(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ve)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Gs(i,s,o,l){const d=ui(i)||function(i,s){return i[os]=s}(i,{previous:Ve,current:null}),f=d.current||(d.current={}),y=d.previous,C=this.declaredInputs[o],N=y[C];f[C]=new _s(N&&N.currentValue,s,y===Ve),i[l]=s}Br.ngInherit=!0;const os="__ngSimpleChanges__";function ui(i){return i[os]||null}let W;function B(i){W=i}function Y(){return void 0!==W?W:"undefined"!=typeof document?document:void 0}function We(i){return!!i.listen}const F={createRenderer:(i,s)=>Y()};function M(i){for(;Array.isArray(i);)i=i[0];return i}function Ot(i,s){return M(s[i])}function Xt(i,s){return M(s[i.index])}function er(i,s){return i.data[s]}function Kn(i,s){const o=s[i];return Kr(o)?o:o[0]}function ni(i){return 4==(4&i[2])}function zs(i){return 128==(128&i[2])}function Ui(i,s){return null==s?null:i[s]}function To(i){i[18]=0}function ao(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const on={lFrame:xs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Io(){return on.bindingsEnabled}function wt(){return on.lFrame.lView}function Hn(){return on.lFrame.tView}function Ka(i){return on.lFrame.contextLView=i,i[8]}function Tr(){let i=jo();for(;null!==i&&64===i.type;)i=i.parent;return i}function jo(){return on.lFrame.currentTNode}function _i(i,s){const o=on.lFrame;o.currentTNode=i,o.isParent=s}function Ho(){return on.lFrame.isParent}function ji(){on.lFrame.isParent=!1}function Do(){return on.isInCheckNoChangesMode}function ws(i){on.isInCheckNoChangesMode=i}function Yr(){const i=on.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Yi(){return on.lFrame.bindingIndex++}function Qi(i){const s=on.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function $o(i,s){const o=on.lFrame;o.bindingIndex=o.bindingRootIndex=i,Cs(s)}function Cs(i){on.lFrame.currentDirectiveIndex=i}function Zo(i){const s=on.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Ja(){return on.lFrame.currentQueryIndex}function Xa(i){on.lFrame.currentQueryIndex=i}function eu(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ua(i,s,o){if(o&re.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||o&re.Host||(d=eu(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=on.lFrame=tu();return l.currentTNode=s,l.lView=i,!0}function uo(i){const s=tu(),o=i[1];on.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function tu(){const i=on.lFrame,s=null===i?null:i.child;return null===s?xs(i):s}function xs(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function nu(){const i=on.lFrame;return on.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const vl=nu;function la(){const i=nu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ri(){return on.lFrame.selectedIndex}function ii(i){on.lFrame.selectedIndex=i}function Ir(){const i=on.lFrame;return er(i.tView,i.selectedIndex)}function lo(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const f=i.data[o].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:C,ngAfterViewInit:N,ngAfterViewChecked:k,ngOnDestroy:$}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-o,y),C&&((i.contentHooks||(i.contentHooks=[])).push(o,C),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,C)),N&&(i.viewHooks||(i.viewHooks=[])).push(-o,N),k&&((i.viewHooks||(i.viewHooks=[])).push(o,k),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,k)),null!=$&&(i.destroyHooks||(i.destroyHooks=[])).push(o,$)}}function Rs(i,s,o){fa(i,s,3,o)}function co(i,s,o,l){(3&i[2])===o&&fa(i,s,o,l)}function ha(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function fa(i,s,o,l){const f=null!=l?l:-1,y=s.length-1;let C=0;for(let N=void 0!==l?65535&i[18]:0;N<y;N++)if("number"==typeof s[N+1]){if(C=s[N],null!=l&&C>=l)break}else s[N]<0&&(i[18]+=65536),(C<f||-1==f)&&(vi(i,o,s,N),i[18]=(4294901760&i[18])+N+2),N++}function vi(i,s,o,l){const d=o[l]<0,f=o[l+1],C=i[d?-o[l]:o[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class li{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function Ms(i,s,o){const l=We(i);let d=0;for(;d<o.length;){const f=o[d];if("number"==typeof f){if(0!==f)break;d++;const y=o[d++],C=o[d++],N=o[d++];l?i.setAttribute(s,C,N,y):s.setAttributeNS(y,C,N)}else{const y=f,C=o[++d];V(y)?l&&i.setProperty(s,y,C):l?i.setAttribute(s,y,C):s.setAttribute(y,C),d++}}return d}function Da(i){return 3===i||4===i||6===i}function V(i){return 64===i.charCodeAt(0)}function b(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?o=d:0===o||w(i,o,d,null,-1===o||2===o?s[++l]:null)}}return i}function w(i,s,o,l,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const C=i[f++];if("number"==typeof C){if(C===s){y=-1;break}if(C>s){y=f-1;break}}}for(;f<i.length;){const C=i[f];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,o),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function R(i){return-1!==i}function Z(i){return 32767&i}function ce(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let _e=!0;function He(i){const s=_e;return _e=i,s}let sn=0;function an(i,s){const o=un(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ut(l.data,i),ut(s,null),ut(l.blueprint,null));const d=lr(i,s),f=i.injectorIndex;if(R(d)){const y=Z(d),C=ce(d,s),N=C[1].data;for(let k=0;k<8;k++)s[f+k]=C[y+k]|N[y+k]}return s[f+8]=d,f}function ut(i,s){i.push(0,0,0,0,0,0,0,0,s)}function un(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function lr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,d=s;for(;null!==d;){const f=d[1],y=f.type;if(l=2===y?f.declTNode:1===y?d[6]:null,null===l)return-1;if(o++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function Dr(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(jn)&&(l=o[jn]),null==l&&(l=o[jn]=sn++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,o)}function Jt(i,s,o){if(o&re.Optional)return i;Ge(s,"NodeInjector")}function zo(i,s,o,l){if(o&re.Optional&&void 0===l&&(l=null),0==(o&(re.Self|re.Host))){const d=i[9],f=dt(void 0);try{return d?d.get(s,l,o&re.Optional):Ut(s,l,o&re.Optional)}finally{dt(f)}}return Jt(l,s,o)}function x(i,s,o,l=re.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(jn)?i[jn]:void 0;return"number"==typeof s?s>=0?255&s:T:s}(o);if("function"==typeof f){if(!ua(s,i,l))return l&re.Host?Jt(d,o,l):zo(s,o,l,d);try{const y=f(l);if(null!=y||l&re.Optional)return y;Ge(o)}finally{vl()}}else if("number"==typeof f){let y=null,C=un(i,s),N=-1,k=l&re.Host?s[16][6]:null;for((-1===C||l&re.SkipSelf)&&(N=-1===C?lr(i,s):s[C+8],-1!==N&&pt(l,!1)?(y=s[1],C=Z(N),s=ce(N,s)):C=-1);-1!==C;){const $=s[1];if(Ie(f,C,$.data)){const Q=O(C,s,o,y,l,k);if(Q!==I)return Q}N=s[C+8],-1!==N&&pt(l,s[1].data[C+8]===k)&&Ie(f,C,s)?(y=$,C=Z(N),s=ce(N,s)):C=-1}}}return zo(s,o,l,d)}const I={};function T(){return new Zt(Tr(),wt())}function O(i,s,o,l,d,f){const y=s[1],C=y.data[i+8],$=j(C,y,o,null==l?es(C)&&_e:l!=y&&0!=(3&C.type),d&re.Host&&f===C);return null!==$?K(s,y,$,C):I}function j(i,s,o,l,d){const f=i.providerIndexes,y=s.data,C=1048575&f,N=i.directiveStart,$=f>>20,te=d?C+$:i.directiveEnd;for(let ve=l?C:C+$;ve<te;ve++){const Fe=y[ve];if(ve<N&&o===Fe||ve>=N&&Fe.type===o)return ve}if(d){const ve=y[N];if(ve&&Cr(ve)&&ve.type===o)return N}return null}function K(i,s,o,l){let d=i[o];const f=s.data;if(function(i){return i instanceof li}(d)){const y=d;y.resolving&&function(i,s){throw new It("200",`Circular dependency in DI detected for ${i}`)}(Ye(f[o]));const C=He(y.canSeeViewProviders);y.resolving=!0;const N=y.injectImpl?dt(y.injectImpl):null;ua(i,l,re.Default);try{d=i[o]=y.factory(void 0,f,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const y=Co(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,y),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,y)}d&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,d),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,f))}(o,f[o],s)}finally{null!==N&&dt(N),He(C),y.resolving=!1,vl()}}return d}function Ie(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function pt(i,s){return!(i&re.Self||i&re.Host&&s)}class Zt{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return x(this._tNode,this._lView,s,void 0,o)}}function ct(i){return kt(()=>{const s=i.prototype.constructor,o=s[nn]||Mt(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[nn]||Mt(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Mt(i){return yt(i)?()=>{const s=Mt(je(i));return s&&s()}:Di(i)}function zt(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let d=0;for(;d<l;){const f=o[d];if(Da(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(Tr(),i)}const zn="__parameters__";function Yn(i,s,o){return kt(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return C.annotation=y,C;function C(N,k,$){const Q=N.hasOwnProperty(zn)?N[zn]:Object.defineProperty(N,zn,{value:[]})[zn];for(;Q.length<=$;)Q.push(null);return(Q[$]=Q[$]||[]).push(y),N}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Un{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=mn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Aa=new Un("AnalyzeForEntryComponents"),xo=Function;function Js(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),Js(l,s)):s!==i&&s.push(l)}return s}function Os(i,s){i.forEach(o=>Array.isArray(o)?Os(o,s):s(o))}function ku(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function fo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function cs(i,s,o){let l=xa(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let d=i.length;if(d==s)i.push(o,l);else if(1===d)i.push(l,i[0]),i[0]=o;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function kr(i,s){const o=xa(i,s);if(o>=0)return i[1|o]}function xa(i,s){return function(i,s,o){let l=0,d=i.length>>o;for(;d!==l;){const f=l+(d-l>>1),y=i[f<<o];if(s===y)return f<<o;y>s?d=f:l=f+1}return~(d<<o)}(i,s,1)}const su={},Bu="__NG_DI_FLAG__",Ra="ngTempTokenPath",ou=/\n/gm,ga="__source",wl=ae({provide:String,useValue:ae});let ju;function Ds(i){const s=ju;return ju=i,s}function lc(i,s=re.Default){if(void 0===ju)throw new Error("inject() must be called from an injection context");return null===ju?Ut(i,void 0,s):ju.get(i,s&re.Optional?null:void 0,s)}function jr(i,s=re.Default){return(Ce||lc)(je(i),s)}function Ro(i){const s=[];for(let o=0;o<i.length;o++){const l=je(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=re.Default;for(let y=0;y<l.length;y++){const C=l[y],N=ed(C);"number"==typeof N?-1===N?d=C.token:f|=N:d=C}s.push(jr(d,f))}else s.push(jr(l))}return s}function au(i,s){return i[Bu]=s,i.prototype[Bu]=s,i}function ed(i){return i[Bu]}function Ma(i,s,o,l){const d=i[Ra];throw s[ga]&&d.unshift(s[ga]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=fe(s);if(Array.isArray(s))d=s.map(fe).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let C=s[y];f.push(y+":"+("string"==typeof C?JSON.stringify(C):fe(C)))}d=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${d}]: ${i.replace(ou,"\n  ")}`}("\n"+i.message,d,o,l),i.ngTokenPath=d,i[Ra]=null,i}const Wo=au(Yn("Inject",i=>({token:i})),-1),Ko=au(Yn("Optional"),8),go=au(Yn("SkipSelf"),4);let Yo,pc;function cu(i){var s;return(null===(s=function(){if(void 0===Yo&&(Yo=null,se.trustedTypes))try{Yo=se.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Yo}())||void 0===s?void 0:s.createHTML(i))||i}function sh(i){var s;return(null===(s=function(){if(void 0===pc&&(pc=null,se.trustedTypes))try{pc=se.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return pc}())||void 0===s?void 0:s.createHTML(i))||i}class Qo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ps extends Qo{getTypeName(){return"HTML"}}class oh extends Qo{getTypeName(){return"Style"}}class ah extends Qo{getTypeName(){return"Script"}}class gc extends Qo{getTypeName(){return"URL"}}class Al extends Qo{getTypeName(){return"ResourceURL"}}function eo(i){return i instanceof Qo?i.changingThisBreaksApplicationSecurity:i}function Wu(i,s){const o=ci(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function ci(i){return i instanceof Qo&&i.getTypeName()||null}function nr(i){return new Ps(i)}function uh(i){return new oh(i)}function lh(i){return new ah(i)}function di(i){return new gc(i)}function mc(i){return new Al(i)}class si{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(cu(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class ch{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=cu(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=cu(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let d=o.length-1;0<d;d--){const y=o.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const to=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,od=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Sl(i){return(i=String(i)).match(to)||i.match(od)?i:"unsafe:"+i}function mo(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function cr(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const hh=mo("area,br,col,hr,img,wbr"),Oa=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ku=mo("rp,rt"),_c=cr(hh,cr(Oa,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cr(Ku,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr(Ku,Oa)),vc=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ud=mo("srcset"),ph=cr(vc,ud,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gh=mo("script,style,template");class Yf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let d=this.checkClobberedElement(o,o.nextSibling);if(d){o=d;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!_c.hasOwnProperty(o))return this.sanitizedSomething=!0,!gh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,C=y.toLowerCase();if(!ph.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let N=f.value;vc[C]&&(N=Sl(N)),ud[C]&&(i=N,N=(i=String(i)).split(",").map(s=>Sl(s.trim())).join(", ")),this.buf.push(" ",y,'="',yh(N),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();_c.hasOwnProperty(o)&&!hh.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(yh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const xl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mh=/([^\#-~ |!])/g;function yh(i){return i.replace(/&/g,"&amp;").replace(xl,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(mh,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let oi;function Yu(i,s){let o=null;try{oi=oi||function(i){const s=new ch(i);return function(){try{return!!(new window.DOMParser).parseFromString(cu(""),"text/html")}catch(i){return!1}}()?new si(s):s}(i);let l=s?String(s):"";o=oi.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=o.innerHTML,o=oi.getInertBodyElement(l)}while(l!==f);return cu((new Yf).sanitizeChildren(Qu(o)||o))}finally{if(o){const l=Qu(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Qu(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function Xu(i){const s=hu();return s?sh(s.sanitize(mr.HTML,i)||""):Wu(i,"HTML")?sh(eo(i)):Yu(Y(),pe(i))}function Mo(i){const s=hu();return s?s.sanitize(mr.URL,i)||"":Wu(i,"URL")?eo(i):Sl(pe(i))}function hu(){const i=wt();return i&&i[12]}const Tc="__ngContext__";function vr(i,s){i[Tc]=s}function Ml(i){const s=function(i){return i[Tc]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function X(i){return i.ngOriginalError}function it(i,...s){i.error(...s)}class Ft{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||it;var i;d(this._console,"ERROR",s),o&&d(this._console,"ORIGINAL ERROR",o),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(X(s)):null}_findOriginalError(s){let o=s&&X(s);for(;o&&X(o);)o=X(o);return o||null}}const no=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(se))();function hs(i){return i instanceof Function?i():i}var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();function Fa(i,s){return undefined(i,s)}function Ac(i){const s=i[3];return pr(s)?s[3]:s}function nl(i){return kl(i[13])}function rl(i){return kl(i[4])}function kl(i){for(;null!==i&&!pr(i);)i=i[4];return i}function Fl(i,s,o,l,d){if(null!=l){let f,y=!1;pr(l)?f=l:Kr(l)&&(y=!0,l=l[0]);const C=M(l);0===i&&null!==o?null==d?Vl(s,o,C):Ll(s,o,C,d||null,!0):1===i&&null!==o?Ll(s,o,C,d||null,!0):2===i?function(i,s,o){const l=La(i,s);l&&function(i,s,o,l){We(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,C,y):3===i&&s.destroyNode(C),null!=f&&function(i,s,o,l,d){const f=o[7];f!==M(o)&&Fl(s,i,l,f,d);for(let C=10;C<o.length;C++){const N=o[C];ea(N[1],N,i,s,l,f)}}(s,i,f,o,d)}}function Ih(i,s,o){return We(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function rp(i,s){const o=i[9],l=o.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ao(d,-1)),o.splice(l,1)}function Sc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const d=l[17];null!==d&&d!==i&&rp(d,l),s>0&&(i[o-1][4]=l[4]);const f=fo(i,10+s);!function(i,s){ea(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Dh(i,s){if(!(256&s[2])){const o=s[11];We(o)&&o.destroyNode&&ea(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Ah(i[1],i);for(;s;){let o=null;if(Kr(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)Kr(s)&&Ah(s[1],s),s=s[3];null===s&&(s=i),Kr(s)&&Ah(s[1],s),o=s&&s[4]}s=o}}(s)}}function Ah(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const d=s[o[l]];if(!(d instanceof li)){const f=o[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const C=d[f[y]],N=f[y+1];try{N.call(C)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let d=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const y=o[f+1],C="function"==typeof y?y(s):M(s[y]),N=l[d=o[f+2]],k=o[f+3];"boolean"==typeof k?C.removeEventListener(o[f],N,k):k>=0?l[d=k]():l[d=-k].unsubscribe(),f+=2}else{const y=l[d=o[f+1]];o[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&We(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&pr(s[3])){o!==s[3]&&rp(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function ip(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Ln.None||d===Ln.Emulated)return null}return Xt(l,o)}(i,s.parent,o)}function Ll(i,s,o,l,d){We(i)?i.insertBefore(s,o,l,d):s.insertBefore(o,l,d)}function Vl(i,s,o){We(i)?i.appendChild(s,o):s.appendChild(o)}function sp(i,s,o,l,d){null!==l?Ll(i,s,o,l,d):Vl(i,s,o)}function La(i,s){return We(i)?i.parentNode(s):s.parentNode}let Cm=function(i,s,o){return 40&i.type?Xt(i,o):null};function Ul(i,s,o,l){const d=ip(i,l,s),f=s[11],C=function(i,s,o){return Cm(i,s,o)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(o))for(let N=0;N<o.length;N++)sp(f,d,o[N],C,!1);else sp(f,d,o,C,!1)}function pu(i,s){if(null!==s){const o=s.type;if(3&o)return Xt(s,i);if(4&o)return cp(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return pu(i,l);{const d=i[s.index];return pr(d)?cp(-1,d):M(d)}}if(32&o)return Fa(s,i)()||M(i[s.index]);{const l=lp(i,s);return null!==l?Array.isArray(l)?l[0]:pu(Ac(i[16]),l):pu(i,s.next)}}return null}function lp(i,s){return null!==s?i[16][6].projection[s.projection]:null}function cp(i,s){const o=10+i+1;if(o<s.length){const l=s[o],d=l[1].firstChild;if(null!==d)return pu(l,d)}return s[7]}function Sh(i,s,o,l,d,f,y){for(;null!=o;){const C=l[o.index],N=o.type;if(y&&0===s&&(C&&vr(M(C),l),o.flags|=4),64!=(64&o.flags))if(8&N)Sh(i,s,o.child,l,d,f,!1),Fl(s,i,d,C,f);else if(32&N){const k=Fa(o,l);let $;for(;$=k();)Fl(s,i,d,$,f);Fl(s,i,d,C,f)}else 16&N?Dm(i,s,l,o,d,f):Fl(s,i,d,C,f);o=y?o.projectionNext:o.next}}function ea(i,s,o,l,d,f){Sh(o,l,i.firstChild,s,d,f,!1)}function Dm(i,s,o,l,d,f){const y=o[16],N=y[6].projection[l.projection];if(Array.isArray(N))for(let k=0;k<N.length;k++)Fl(s,i,d,N[k],f);else Sh(i,s,N,y[3],d,f,!0)}function xh(i,s,o){We(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Bl(i,s,o){We(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function yd(i,s,o){let l=i.length;for(;;){const d=i.indexOf(s,o);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}o=d+1}}const Nm="ng-template";function xm(i,s,o){let l=0;for(;l<i.length;){let d=i[l++];if(o&&"class"===d){if(d=i[l],-1!==yd(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function Rh(i){return 4===i.type&&i.value!==Nm}function Rm(i,s,o){return s===(4!==i.type||o?i.value:Nm)}function C_(i,s,o){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(Da(i[s]))return s;return i.length}(d);let y=!1;for(let C=0;C<s.length;C++){const N=s[C];if("number"!=typeof N){if(!y)if(4&l){if(l=2|1&l,""!==N&&!Rm(i,N,o)||""===N&&1===s.length){if(ta(l))return!1;y=!0}}else{const k=8&l?N:s[++C];if(8&l&&null!==i.attrs){if(!xm(i.attrs,k,o)){if(ta(l))return!1;y=!0}continue}const Q=Mm(8&l?"class":N,d,Rh(i),o);if(-1===Q){if(ta(l))return!1;y=!0;continue}if(""!==k){let te;te=Q>f?"":d[Q+1].toLowerCase();const ve=8&l?te:null;if(ve&&-1!==yd(ve,k,0)||2&l&&k!==te){if(ta(l))return!1;y=!0}}}}else{if(!y&&!ta(l)&&!ta(N))return!1;if(y&&ta(N))continue;y=!1,l=N|1&l}}return ta(l)||y}function ta(i){return 0==(1&i)}function Mm(i,s,o,l){if(null===s)return-1;let d=0;if(l||!o){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let C=s[++d];for(;"string"==typeof C;)C=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Mh(i,s,o=!1){for(let l=0;l<s.length;l++)if(C_(i,s[l],o))return!0;return!1}function km(i,s){return i?":not("+s.trim()+")":s}function xc(i){let s=i[0],o=1,l=2,d="",f=!1;for(;o<i.length;){let y=i[o];if("string"==typeof y)if(2&l){const C=i[++o];d+="["+y+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ta(y)&&(s+=km(f,d),d=""),l=y,f=f||!ta(l);o++}return""!==d&&(s+=km(f,d)),s}const Mn={};function fp(i){pp(Hn(),wt(),ri()+i,Do())}function pp(i,s,o,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Rs(s,f,o)}else{const f=i.preOrderHooks;null!==f&&co(s,f,0,o)}ii(o)}function Oh(i,s){return i<<17|s<<2}function ko(i){return i>>17&32767}function mp(i){return 2|i}function ma(i){return(131068&i)>>2}function yp(i,s){return-131069&i|s<<2}function Gi(i){return 1|i}function mu(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const d=o[l],f=o[l+1];if(-1!==f){const y=i.data[f];Xa(d),y.contentQueries(2,s[f],f)}}}function Hl(i,s,o,l,d,f,y,C,N,k){const $=s.blueprint.slice();return $[0]=d,$[2]=140|l,To($),$[3]=$[15]=i,$[8]=o,$[10]=y||i&&i[10],$[11]=C||i&&i[11],$[12]=N||i&&i[12]||null,$[9]=k||i&&i[9]||null,$[6]=f,$[16]=2==s.type?i[16]:$,$}function Oc(i,s,o,l,d){let f=i.data[s];if(null===f)f=function(i,s,o,l,d){const f=jo(),y=Ho(),N=i.data[s]=function(i,s,o,l,d,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,o,s,l,d);return null===i.firstChild&&(i.firstChild=N),null!==f&&(y?null==f.child&&null!==N.parent&&(f.child=N):null===f.next&&(f.next=N)),N}(i,s,o,l,d),on.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=d;const y=function(){const i=on.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return _i(f,!0),f}function Pc(i,s,o,l){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function $l(i,s,o){uo(s);try{const l=i.viewQuery;null!==l&&Sd(1,l,o);const d=i.template;null!==d&&Ap(i,s,d,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&mu(i,s),i.staticViewQueries&&Sd(2,i.viewQuery,o);const f=i.components;null!==f&&function(i,s){for(let o=0;o<s.length;o++)kp(i,s[o])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,la()}}function yu(i,s,o,l){const d=s[2];if(256==(256&d))return;uo(s);const f=Do();try{To(s),function(i){on.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Ap(i,s,o,2,l);const y=3==(3&d);if(!f)if(y){const k=i.preOrderCheckHooks;null!==k&&Rs(s,k,null)}else{const k=i.preOrderHooks;null!==k&&co(s,k,0,null),ha(s,0)}if(function(i){for(let s=nl(i);null!==s;s=rl(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const d=o[l],f=d[3];0==(1024&d[2])&&ao(f,1),d[2]|=1024}}}(s),function(i){for(let s=nl(i);null!==s;s=rl(s))for(let o=10;o<s.length;o++){const l=s[o],d=l[1];zs(l)&&yu(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&mu(i,s),!f)if(y){const k=i.contentCheckHooks;null!==k&&Rs(s,k)}else{const k=i.contentHooks;null!==k&&co(s,k,1),ha(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const d=o[l];if(d<0)ii(~d);else{const f=d,y=o[++l],C=o[++l];$o(y,f),C(2,s[f])}}}finally{ii(-1)}}(i,s);const C=i.components;null!==C&&function(i,s){for(let o=0;o<s.length;o++)B_(i,s[o])}(s,C);const N=i.viewQuery;if(null!==N&&Sd(2,N,l),!f)if(y){const k=i.viewCheckHooks;null!==k&&Rs(s,k)}else{const k=i.viewHooks;null!==k&&co(s,k,2),ha(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ao(s[3],-1))}finally{la()}}function Dp(i,s,o,l){const d=s[10],f=!Do(),y=ni(s);try{f&&!y&&d.begin&&d.begin(),y&&$l(i,s,l),yu(i,s,o,l)}finally{f&&!y&&d.end&&d.end()}}function Ap(i,s,o,l,d){const f=ri(),y=2&l;try{ii(-1),y&&s.length>20&&pp(i,s,20,Do()),o(l,d)}finally{ii(f)}}function Zl(i,s,o){if(wr(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,o[f],f)}}}function wd(i,s,o){!Io()||(function(i,s,o,l){const d=o.directiveStart,f=o.directiveEnd;i.firstCreatePass||an(o,s),vr(l,s);const y=o.initialInputs;for(let C=d;C<f;C++){const N=i.data[C],k=Cr(N);k&&Jm(s,o,N);const $=K(s,i,C,o);vr($,s),null!==y&&Xm(0,C-d,$,N,0,y),k&&(Kn(o.index,s)[8]=$)}}(i,s,o,Xt(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,d=o.directiveEnd,y=o.index,C=on.lFrame.currentDirectiveIndex;try{ii(y);for(let N=l;N<d;N++){const k=i.data[N],$=s[N];Cs(N),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Gh(k,$)}}finally{ii(-1),Cs(C)}}(i,s,o))}function Sp(i,s,o=Xt){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],C=-1===y?o(s,i):i[y];i[d++]=C}}}function Hm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Cd(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Cd(i,s,o,l,d,f,y,C,N,k){const $=20+l,Q=$+d,te=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:Mn);return o}($,Q),ve="function"==typeof k?k():k;return te[1]={type:i,blueprint:te,template:o,queries:null,viewQuery:C,declTNode:s,data:te.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:N,consts:ve,incompleteFirstPass:!1}}function $h(i,s,o,l){const d=ry(s);null===o?d.push(l):(d.push(o),i.firstCreatePass&&Qh(i).push(l,d.length-1))}function Zh(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,d):o[l]=[s,d]}return o}function ro(i,s,o,l,d,f,y,C){const N=Xt(s,o);let $,k=s.inputs;!C&&null!=k&&($=k[l])?(Xh(i,o,$,l,d),es(s)&&function(i,s){const o=Kn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,We(f)?f.setProperty(N,l,d):V(l)||(N.setProperty?N.setProperty(l,d):N[l]=d))}function ll(i,s,o,l){let d=!1;if(Io()){const f=function(i,s,o){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];Mh(o,y.selectors,!1)&&(d||(d=[]),Dr(an(o,s),i,y.type),Cr(y)?(Ym(i,o),d.unshift(y)):d.push(y))}return d}(i,s,o),y=null===l?null:{"":-1};if(null!==f){d=!0,qh(o,i.data.length,f.length);for(let $=0;$<f.length;$++){const Q=f[$];Q.providersResolver&&Q.providersResolver(Q)}let C=!1,N=!1,k=Pc(i,s,f.length,null);for(let $=0;$<f.length;$++){const Q=f[$];o.mergedAttrs=b(o.mergedAttrs,Q.hostAttrs),Qm(i,o,s,k,Q),Pp(k,Q,y),null!==Q.contentQueries&&(o.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(o.flags|=128);const te=Q.type.prototype;!C&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),C=!0),!N&&(te.ngOnChanges||te.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),N=!0),k++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,y=[];let C=null,N=null;for(let k=s.directiveStart;k<l;k++){const $=d[k],Q=$.inputs,te=null===f||Rh(s)?null:ey(Q,f);y.push(te),C=Zh(Q,k,C),N=Zh($.outputs,k,N)}null!==C&&(C.hasOwnProperty("class")&&(s.flags|=16),C.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=C,s.outputs=N}(i,o)}y&&function(i,s,o){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new It("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(o,l,y)}return o.mergedAttrs=b(o.mergedAttrs,o.attrs),d}function Km(i,s,o,l,d,f){const y=f.hostBindings;if(y){let C=i.hostBindingOpCodes;null===C&&(C=i.hostBindingOpCodes=[]);const N=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(C)!=N&&C.push(N),C.push(l,d,y)}}function Gh(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ym(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Pp(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;Cr(s)&&(o[""]=i)}}function qh(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Qm(i,s,o,l,d){i.data[l]=d;const f=d.factory||(d.factory=Di(d.type)),y=new li(f,Cr(d),null);i.blueprint[l]=y,o[l]=y,Km(i,s,0,l,Pc(i,o,d.hostVars,Mn),d)}function Jm(i,s,o){const l=Xt(s,i),d=Hm(o),f=i[10],y=Wh(i,Hl(i,d,null,o.onPush?64:16,l,s,f,f.createRenderer(l,o),null,null));i[s.index]=y}function Va(i,s,o,l,d,f){const y=Xt(i,s);!function(i,s,o,l,d,f,y){if(null==f)We(i)?i.removeAttribute(s,d,o):s.removeAttribute(d);else{const C=null==y?pe(f):y(f,l||"",d);We(i)?i.setAttribute(s,d,C,o):o?s.setAttributeNS(o,d,C):s.setAttribute(d,C)}}(s[11],y,f,i.value,o,l,d)}function Xm(i,s,o,l,d,f){const y=f[s];if(null!==y){const C=l.setInput;for(let N=0;N<y.length;){const k=y[N++],$=y[N++],Q=y[N++];null!==C?l.setInput(o,Q,k,$):o[$]=Q}}}function ey(i,s){let o=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===o&&(o=[]),o.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return o}function ty(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function B_(i,s){const o=Kn(s,i);if(zs(o)){const l=o[1];80&o[2]?yu(l,o,l.template,o[8]):o[5]>0&&Id(o)}}function Id(i){for(let l=nl(i);null!==l;l=rl(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const y=f[1];yu(y,f,y.template,f[8])}else f[5]>0&&Id(f)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const d=Kn(o[l],i);zs(d)&&d[5]>0&&Id(d)}}function kp(i,s){const o=Kn(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),$l(l,o,o[8])}function Wh(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Dd(i){for(;i;){i[2]|=64;const s=Ac(i);if(gs(i)&&!s)return i;i=s}return null}function Kh(i,s,o){const l=s[10];l.begin&&l.begin();try{yu(i,s,i.template,o)}catch(d){throw Jh(s,d),d}finally{l.end&&l.end()}}function Yh(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=Ml(o),d=l[1];Dp(d,l,d.template,o)}}(i[8])}function Sd(i,s,o){Xa(0),s(i,o)}const Lp=(()=>Promise.resolve(null))();function ry(i){return i[7]||(i[7]=[])}function Qh(i){return i.cleanup||(i.cleanup=[])}function Jh(i,s){const o=i[9],l=o?o.get(Ft,null):null;l&&l.handleError(s)}function Xh(i,s,o,l,d){for(let f=0;f<o.length;){const y=o[f++],C=o[f++],N=s[y],k=i.data[y];null!==k.setInput?k.setInput(N,d,l,C):N[C]=d}}function _a(i,s,o){const l=Ot(s,i);!function(i,s,o){We(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function _u(i,s,o){let l=o?i.styles:null,d=o?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?f=C:1==f?d=Ae(d,C):2==f&&(l=Ae(l,C+": "+s[++y]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=d:i.classesWithoutHost=d}const cl=new Un("INJECTOR",-1);class Ua{get(s,o=su){if(o===su){const l=new Error(`NullInjectorError: No provider for ${fe(s)}!`);throw l.name="NullInjectorError",l}return o}}const zl=new Un("Set Injector scope."),Nd={},Up={};let Bp;function oy(){return void 0===Bp&&(Bp=new Ua),Bp}function ay(i,s=null,o=null,l){return new Hp(i,o,s||oy(),l)}class Hp{constructor(s,o,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&Os(o,C=>this.processProvider(C,s,o)),Os([s],C=>this.processInjectorType(C,[],f)),this.records.set(cl,Wl(void 0,this));const y=this.records.get(zl);this.scope=null!=y?y.value:null,this.source=d||("object"==typeof s?null:fe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=su,l=re.Default){this.assertNotDestroyed();const d=Ds(this),f=dt(void 0);try{if(!(l&re.SkipSelf)){let C=this.records.get(s);if(void 0===C){const N=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Un)&&pn(s);C=N&&this.injectableDefInScope(N)?Wl($p(s),Nd):null,this.records.set(s,C)}if(null!=C)return this.hydrate(s,C)}return(l&re.Self?oy():this.parent).get(s,o=l&re.Optional&&o===su?null:o)}catch(y){if("NullInjectorError"===y.name){if((y[Ra]=y[Ra]||[]).unshift(fe(s)),d)throw y;return Ma(y,s,"R3InjectorError",this.source)}throw y}finally{dt(f),Ds(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(fe(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=je(s)))return!1;let d=Zn(s);const f=null==d&&s.ngModule||void 0,y=void 0===f?s:f,C=-1!==l.indexOf(y);if(void 0!==f&&(d=Zn(f)),null==d)return!1;if(null!=d.imports&&!C){let $;l.push(y);try{Os(d.imports,Q=>{this.processInjectorType(Q,o,l)&&(void 0===$&&($=[]),$.push(Q))})}finally{}if(void 0!==$)for(let Q=0;Q<$.length;Q++){const{ngModule:te,providers:ve}=$[Q];Os(ve,Fe=>this.processProvider(Fe,te,ve||mt))}}this.injectorDefTypes.add(y);const N=Di(y)||(()=>new y);this.records.set(y,Wl(N,Nd));const k=d.providers;if(null!=k&&!C){const $=s;Os(k,Q=>this.processProvider(Q,$,k))}return void 0!==f&&void 0!==s.providers}processProvider(s,o,l){let d=Fc(s=je(s))?s:je(s&&s.provide);const f=tf(i=s)?Wl(void 0,i.useValue):Wl(ef(i),Nd);var i;if(Fc(s)||!0!==s.multi)this.records.get(d);else{let y=this.records.get(d);y||(y=Wl(void 0,Nd,!0),y.factory=()=>Ro(y.multi),this.records.set(d,y)),d=s,y.multi.push(s)}this.records.set(d,f)}hydrate(s,o){return o.value===Nd&&(o.value=Up,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=je(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function $p(i){const s=pn(i),o=null!==s?s.factory:Di(i);if(null!==o)return o;if(i instanceof Un)throw new Error(`Token ${fe(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=function(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${fe(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[yn]||i[sr]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function ef(i,s,o){let l;if(Fc(i)){const d=je(i);return Di(d)||$p(d)}if(tf(i))l=()=>je(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Ro(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>jr(je(i.useExisting));else{const d=je(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Di(d)||$p(d);l=()=>new d(...Ro(i.deps))}return l}function Wl(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function tf(i){return null!==i&&"object"==typeof i&&wl in i}function Fc(i){return"function"==typeof i}const Wp=function(i,s,o){return function(i,s=null,o=null,l){const d=ay(i,s,o,l);return d._resolveInjectorDefTypes(),d}({name:o},s,i,o)};class Rr{static create(s,o){return Array.isArray(s)?Wp(s,o,""):Wp(s.providers,s.parent,s.name||"")}}function Rd(i,s){lo(Ml(i)[1],Tr())}function fs(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let d;if(Cr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(o){l.push(d);const y=i;y.inputs=af(i.inputs),y.declaredInputs=af(i.declaredInputs),y.outputs=af(i.outputs);const C=d.hostBindings;C&&gy(i,C);const N=d.viewQuery,k=d.contentQueries;if(N&&nv(i,N),k&&uf(i,k),me(i.inputs,d.inputs),me(i.declaredInputs,d.declaredInputs),me(i.outputs,d.outputs),Cr(d)&&d.data.animation){const $=i.data;$.animation=($.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const C=f[y];C&&C.ngInherit&&C(i),C===fs&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=b(d.hostAttrs,o=b(o,d.hostAttrs))}}(l)}function af(i){return i===Ve?{}:i===mt?[]:i}function nv(i,s){const o=i.viewQuery;i.viewQuery=o?(l,d)=>{s(l,d),o(l,d)}:s}function uf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,d,f)=>{s(l,d,f),o(l,d,f)}:s}function gy(i,s){const o=i.hostBindings;i.hostBindings=o?(l,d)=>{s(l,d),o(l,d)}:s}Rr.THROW_IF_NOT_FOUND=su,Rr.NULL=new Ua,Rr.\u0275prov=mn({token:Rr,providedIn:"any",factory:()=>jr(cl)}),Rr.__NG_ELEMENT_ID__=-1;let lf=null;function Uc(){if(!lf){const i=se.Symbol;if(i&&i.iterator)lf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lf=l)}}}return lf}class Ha{constructor(s){this.wrapped=s}static wrap(s){return new Ha(s)}static unwrap(s){return Ha.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Ha}}function cf(i){return!!cg(i)&&(Array.isArray(i)||!(i instanceof Map)&&Uc()in i)}function cg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function $a(i,s,o){return i[s]=o}function Fs(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function _y(i,s,o,l){const d=wt();return Fs(d,Yi(),s)&&(Hn(),Va(Ir(),d,i,s,o,l)),_y}function Hc(i,s,o,l){return Fs(i,Yi(),o)?s+pe(o)+l:Mn}function by(i,s,o,l,d,f,y,C){const N=wt(),k=Hn(),$=i+20,Q=k.firstCreatePass?function(i,s,o,l,d,f,y,C,N){const k=s.consts,$=Oc(s,i,4,y||null,Ui(k,C));ll(s,o,$,Ui(k,N)),lo(s,$);const Q=$.tViews=Cd(2,$,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k);return null!==s.queries&&(s.queries.template(s,$),Q.queries=s.queries.embeddedTView($)),$}($,k,N,s,o,l,d,f,y):k.data[$];_i(Q,!1);const te=N[11].createComment("");Ul(k,N,te,Q),vr(te,N),Wh(N,N[$]=ty(te,N,te,Q)),ki(Q)&&wd(k,N,Q),null!=y&&Sp(N,Q,C)}function Vd(i,s=re.Default){const o=wt();return null===o?jr(i,s):x(Tr(),o,je(i),s)}function _f(i,s,o){const l=wt();return Fs(l,Yi(),s)&&ro(Hn(),Ir(),l,i,s,l[11],o,!1),_f}function vf(i,s,o,l,d){const y=d?"class":"style";Xh(i,o,s.inputs[y],y,l)}function Dg(i,s,o,l){const d=wt(),f=Hn(),y=20+i,C=d[11],N=d[y]=Ih(C,s,on.lFrame.currentNamespace),k=f.firstCreatePass?function(i,s,o,l,d,f,y){const C=s.consts,k=Oc(s,i,2,d,Ui(C,f));return ll(s,o,k,Ui(C,y)),null!==k.attrs&&_u(k,k.attrs,!1),null!==k.mergedAttrs&&_u(k,k.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,k),k}(y,f,d,0,s,o,l):f.data[y];_i(k,!0);const $=k.mergedAttrs;null!==$&&Ms(C,N,$);const Q=k.classes;null!==Q&&Bl(C,N,Q);const te=k.styles;null!==te&&xh(C,N,te),64!=(64&k.flags)&&Ul(f,d,N,k),0===on.lFrame.elementDepthCount&&vr(N,d),on.lFrame.elementDepthCount++,ki(k)&&(wd(f,d,k),Zl(f,k,d)),null!==l&&Sp(d,k)}function Ef(){let i=Tr();Ho()?ji():(i=i.parent,_i(i,!1));const s=i;on.lFrame.elementDepthCount--;const o=Hn();o.firstCreatePass&&(lo(o,i),wr(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&vf(o,s,wt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&vf(o,s,wt(),s.stylesWithoutHost,!1)}function Oy(i,s,o,l){Dg(i,s,o,l),Ef()}function Sg(i,s,o){const l=wt(),d=Hn(),f=i+20,y=d.firstCreatePass?function(i,s,o,l,d){const f=s.consts,y=Ui(f,l),C=Oc(s,i,8,"ng-container",y);return null!==y&&_u(C,y,!0),ll(s,o,C,Ui(f,d)),null!==s.queries&&s.queries.elementStart(s,C),C}(f,d,l,s,o):d.data[f];_i(y,!0);const C=l[f]=l[11].createComment("");Ul(d,l,C,y),vr(C,l),ki(y)&&(wd(d,l,y),Zl(d,y,l)),null!=o&&Sp(l,y)}function Ng(){let i=Tr();const s=Hn();Ho()?ji():(i=i.parent,_i(i,!1)),s.firstCreatePass&&(lo(s,i),wr(i)&&s.queries.elementEnd(i))}function Py(){return wt()}function xg(i){return!!i&&"function"==typeof i.then}function ky(i){return!!i&&"function"==typeof i.subscribe}const Rg=ky;function Fy(i,s,o,l){const d=wt(),f=Hn(),y=Tr();return function(i,s,o,l,d,f,y,C){const N=ki(l),$=i.firstCreatePass&&Qh(i),Q=s[8],te=ry(s);let ve=!0;if(3&l.type||C){const ze=Xt(l,s),Lt=C?C(ze):ze,Et=te.length,wn=C?On=>C(M(On[l.index])):l.index;if(We(o)){let On=null;if(!C&&N&&(On=function(i,s,o,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===o&&d[f+1]===l){const C=s[7],N=d[f+2];return C.length>N?C[N]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,l.index)),null!==On)(On.__ngLastListenerFn__||On).__ngNextListenerFn__=f,On.__ngLastListenerFn__=f,ve=!1;else{f=wf(l,s,Q,f,!1);const dr=o.listen(Lt,d,f);te.push(f,dr),$&&$.push(d,wn,Et,Et+1)}}else f=wf(l,s,Q,f,!0),Lt.addEventListener(d,f,y),te.push(f),$&&$.push(d,wn,Et,y)}else f=wf(l,s,Q,f,!1);const Fe=l.outputs;let ot;if(ve&&null!==Fe&&(ot=Fe[d])){const ze=ot.length;if(ze)for(let Lt=0;Lt<ze;Lt+=2){const Ss=s[ot[Lt]][ot[Lt+1]].subscribe(f),za=te.length;te.push(f,Ss),$&&$.push(d,l.index,za,-(za+1))}}}(f,d,d[11],y,i,s,!!o,l),Fy}function bf(i,s,o,l){try{return!1!==o(l)}catch(d){return Jh(i,d),!1}}function wf(i,s,o,l,d){return function f(y){if(y===Function)return l;const C=2&i.flags?Kn(i.index,s):s;0==(32&s[2])&&Dd(C);let N=bf(s,0,l,y),k=f.__ngNextListenerFn__;for(;k;)N=bf(s,0,k,y)&&N,k=k.__ngNextListenerFn__;return d&&!1===N&&(y.preventDefault(),y.returnValue=!1),N}}function Mg(i=1){return function(i){return(on.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,on.lFrame.contextLView))[8]}(i)}function Pg(i,s,o){return Cf(i,"",s,"",o),Pg}function Cf(i,s,o,l,d){const f=wt(),y=Hc(f,s,o,l);return y!==Mn&&ro(Hn(),Ir(),f,i,y,f[11],d,!1),Cf}function Vs(i,s,o,l,d){const f=i[o+1],y=null===s;let C=l?ko(f):ma(f),N=!1;for(;0!==C&&(!1===N||y);){const $=i[C+1];Ev(i[C],s)&&(N=!0,i[C+1]=l?Gi($):mp($)),C=l?ko($):ma($)}N&&(i[o+1]=l?mp(f):Gi(f))}function Ev(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&xa(i,s)>=0}const Ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tc(i){return i.substring(Ri.key,Ri.keyEnd)}function ml(i,s){const o=Ri.textEnd;return o===s?-1:(s=Ri.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Ri.key=s,o),Lo(i,s,o))}function Lo(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function If(i,s,o){return oa(i,s,o,!1),If}function jg(i,s){return oa(i,s,null,!0),jg}function Hg(i){!function(i,s,o,l){const d=Hn(),f=Qi(2);d.firstUpdatePass&&Zg(d,null,f,l);const y=wt();if(o!==Mn&&Fs(y,f,o)){const C=d.data[ri()];if(q(C,l)&&!$g(d,f)){let N=l?C.classesWithoutHost:C.stylesWithoutHost;null!==N&&(o=Ae(N,o||"")),vf(d,C,y,o,l)}else!function(i,s,o,l,d,f,y,C){d===Mn&&(d=mt);let N=0,k=0,$=0<d.length?d[0]:null,Q=0<f.length?f[0]:null;for(;null!==$||null!==Q;){const te=N<d.length?d[N+1]:void 0,ve=k<f.length?f[k+1]:void 0;let ot,Fe=null;$===Q?(N+=2,k+=2,te!==ve&&(Fe=Q,ot=ve)):null===Q||null!==$&&$<Q?(N+=2,Fe=$):(k+=2,Fe=Q,ot=ve),null!==Fe&&h(i,s,o,l,Fe,ot,y,C),$=N<d.length?d[N]:null,Q=k<f.length?f[k]:null}}(d,C,y,y[11],y[f+1],y[f+1]=function(i,s,o){if(null==o||""===o)return mt;const l=[],d=eo(o);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,o),l,f)}}(cs,va,i,!0)}function va(i,s){for(let o=function(i){return function(i){Ri.key=0,Ri.keyEnd=0,Ri.value=0,Ri.valueEnd=0,Ri.textEnd=i.length}(i),ml(i,Lo(i,0,Ri.textEnd))}(s);o>=0;o=ml(s,o))cs(i,tc(s),!0)}function oa(i,s,o,l){const d=wt(),f=Hn(),y=Qi(2);f.firstUpdatePass&&Zg(f,i,y,l),s!==Mn&&Fs(d,y,s)&&h(f,f.data[ri()],d,d[11],i,d[y+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=fe(eo(i)))),i}(s,o),l,y)}function $g(i,s){return s>=i.expandoStartIndex}function Zg(i,s,o,l){const d=i.data;if(null===d[o+1]){const f=d[ri()],y=$g(i,o);q(f,l)&&null===s&&!y&&(s=!1),s=function(i,s,o,l){const d=Zo(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(o=u(o=Gg(null,i,s,o,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(o=Gg(d,i,s,o,l),null===f){let N=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==ma(l))return i[ko(l)]}(i,s,l);void 0!==N&&Array.isArray(N)&&(N=Gg(null,i,s,N[1],l),N=u(N,s.attrs,l),function(i,s,o,l){i[ko(o?s.classBindings:s.styleBindings)]=l}(i,s,l,N))}else f=function(i,s,o){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=u(l,i[f].hostAttrs,o);return u(l,s.attrs,o)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,l),function(i,s,o,l,d,f){let y=f?s.classBindings:s.styleBindings,C=ko(y),N=ma(y);i[l]=o;let $,k=!1;if(Array.isArray(o)){const Q=o;$=Q[1],(null===$||xa(Q,$)>0)&&(k=!0)}else $=o;if(d)if(0!==N){const te=ko(i[C+1]);i[l+1]=Oh(te,C),0!==te&&(i[te+1]=yp(i[te+1],l)),i[C+1]=function(i,s){return 131071&i|s<<17}(i[C+1],l)}else i[l+1]=Oh(C,0),0!==C&&(i[C+1]=yp(i[C+1],l)),C=l;else i[l+1]=Oh(N,0),0===C?C=l:i[N+1]=yp(i[N+1],l),N=l;k&&(i[l+1]=mp(i[l+1])),Vs(i,$,l,!0),Vs(i,$,l,!1),function(i,s,o,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&xa(f,s)>=0&&(o[l+1]=Gi(o[l+1]))}(s,$,i,l,f),y=Oh(C,N),f?s.classBindings=y:s.styleBindings=y}(d,f,s,o,y,l)}}function Gg(i,s,o,l,d){let f=null;const y=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<y&&(f=s[C],l=u(l,f.hostAttrs,d),f!==i);)C++;return null!==i&&(o.directiveStylingLast=C),l}function u(i,s,o){const l=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),cs(i,y,!!o||s[++f]))}return void 0===i?null:i}function h(i,s,o,l,d,f,y,C){if(!(3&s.type))return;const N=i.data,k=N[C+1];S(function(i){return 1==(1&i)}(k)?v(N,s,o,d,ma(k),y):void 0)||(S(f)||function(i){return 2==(2&i)}(k)&&(f=v(N,null,o,d,C,y)),function(i,s,o,l,d){const f=We(i);if(s)d?f?i.addClass(o,l):o.classList.add(l):f?i.removeClass(o,l):o.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Xo.DashCase;if(null==d)f?i.removeStyle(o,l,y):o.style.removeProperty(l);else{const C="string"==typeof d&&d.endsWith("!important");C&&(d=d.slice(0,-10),y|=Xo.Important),f?i.setStyle(o,l,d,y):o.style.setProperty(l,d,C?"important":"")}}}(l,y,Ot(ri(),o),d,f))}function v(i,s,o,l,d,f){const y=null===s;let C;for(;d>0;){const N=i[d],k=Array.isArray(N),$=k?N[1]:N,Q=null===$;let te=o[d+1];te===Mn&&(te=Q?mt:void 0);let ve=Q?kr(te,l):$===l?te:void 0;if(k&&!S(ve)&&(ve=kr(N,l)),S(ve)&&(C=ve,y))return C;const Fe=i[d+1];d=y?ko(Fe):ma(Fe)}if(null!==s){let N=f?s.residualClasses:s.residualStyles;null!=N&&(C=kr(N,l))}return C}function S(i){return void 0!==i}function q(i,s){return 0!=(i.flags&(s?16:32))}function ie(i,s=""){const o=wt(),l=Hn(),d=i+20,f=l.firstCreatePass?Oc(l,d,1,s,null):l.data[d],y=o[d]=function(i,s){return We(i)?i.createText(s):i.createTextNode(s)}(o[11],s);Ul(l,o,y,f),_i(f,!1)}function he(i){return xe("",i,""),he}function xe(i,s,o){const l=wt(),d=Hc(l,i,s,o);return d!==Mn&&_a(l,ri(),d),xe}function Sv(i,s,o){const l=wt();return Fs(l,Yi(),s)&&ro(Hn(),Ir(),l,i,s,l[11],o,!0),Sv}function Nv(i,s,o){const l=wt();if(Fs(l,Yi(),s)){const f=Hn(),y=Ir();ro(f,y,l,i,s,function(i,s,o){return(null===i||Cr(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(Zo(f.data),y,l),o,!0)}return Nv}const Gd=void 0;var fC=["en",[["a","p"],["AM","PM"],Gd],[["AM","PM"],Gd,Gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gd,"{1} 'at' {0}",Gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let Af={};function xv(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=f0(s);if(o)return o;const l=s.split("-")[0];if(o=f0(l),o)return o;if("en"===l)return fC;throw new Error(`Missing locale data for the locale "${i}".`)}function h0(i){return xv(i)[Sn.PluralCase]}function f0(i){return i in Af||(Af[i]=se.ng&&se.ng.common&&se.ng.common.locales&&se.ng.common.locales[i]),Af[i]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const Zy="en-US";let p0=Zy;function Rv(i){ge(i,"Expected localeId to be defined"),"string"==typeof i&&(p0=i.toLowerCase().replace(/_/g,"-"))}function Pv(i,s,o,l,d){if(i=je(i),Array.isArray(i))for(let f=0;f<i.length;f++)Pv(i[f],s,o,l,d);else{const f=Hn(),y=wt();let C=Fc(i)?i:je(i.provide),N=ef(i);const k=Tr(),$=1048575&k.providerIndexes,Q=k.directiveStart,te=k.providerIndexes>>20;if(Fc(i)||!i.multi){const ve=new li(N,d,Vd),Fe=Fv(C,s,d?$:$+te,Q);-1===Fe?(Dr(an(k,y),f,C),kv(f,i,s.length),s.push(C),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),o.push(ve),y.push(ve)):(o[Fe]=ve,y[Fe]=ve)}else{const ve=Fv(C,s,$+te,Q),Fe=Fv(C,s,$,$+te),ot=ve>=0&&o[ve],ze=Fe>=0&&o[Fe];if(d&&!ze||!d&&!ot){Dr(an(k,y),f,C);const Lt=function(i,s,o,l,d){const f=new li(i,o,Vd);return f.multi=[],f.index=s,f.componentProviders=0,V0(f,d,l&&!o),f}(d?cT:lT,o.length,d,l,N);!d&&ze&&(o[Fe].providerFactory=Lt),kv(f,i,s.length,0),s.push(C),k.directiveStart++,k.directiveEnd++,d&&(k.providerIndexes+=1048576),o.push(Lt),y.push(Lt)}else kv(f,i,ve>-1?ve:Fe,V0(o[d?Fe:ve],N,!d&&l));!d&&l&&ze&&o[Fe].componentProviders++}}}function kv(i,s,o,l){const d=Fc(s);if(d||function(i){return!!i.useClass}(s)){const y=(s.useClass||s).prototype.ngOnDestroy;if(y){const C=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const N=C.indexOf(o);-1===N?C.push(o,[l,y]):C[N+1].push(l,y)}else C.push(o,y)}}}function V0(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function Fv(i,s,o,l){for(let d=o;d<l;d++)if(s[d]===i)return d;return-1}function lT(i,s,o,l){return Lv(this.multi,[])}function cT(i,s,o,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,C=K(o,o[1],this.providerFactory.index,l);f=C.slice(0,y),Lv(d,f);for(let N=y;N<C.length;N++)f.push(C[N])}else f=[],Lv(d,f);return f}function Lv(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function U0(i,s=[]){return o=>{o.providersResolver=(l,d)=>function(i,s,o){const l=Hn();if(l.firstCreatePass){const d=Cr(i);Pv(o,l.data,l.blueprint,d,!0),Pv(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class B0{}const H0="ngComponent";class fT{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${fe(i)}. Did you add it to @NgModule.entryComponents?`);return s[H0]=i,s}(s)}}class qd{}function Ky(...i){}function Nf(i,s){return new yl(Xt(i,s))}qd.NULL=new fT;const mT=function(){return Nf(Tr(),wt())};let yl=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=mT,i})();function $0(i){return i instanceof yl?i.nativeElement:i}class Yy{}let yT=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>vT(),i})();const vT=function(){const i=wt(),o=Kn(Tr().index,i);return function(i){return i[11]}(Kr(o)?o:i)};let Uv=(()=>{class i{}return i.\u0275prov=mn({token:i,providedIn:"root",factory:()=>null}),i})();class Z0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Bv=new Z0("12.2.4");class G0{constructor(){}supports(s){return cf(s)}create(s){return new CT(s)}}const wT=(i,s)=>s;class CT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||wT}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,d=0,f=null;for(;o||l;){const y=!l||o&&o.currentIndex<z0(l,d,f)?o:l,C=z0(y,d,f),N=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(o=o._next,null==y.previousIndex)d++;else{f||(f=[]);const k=C-d,$=N-d;if(k!=$){for(let te=0;te<k;te++){const ve=te<f.length?f[te]:f[te]=0,Fe=ve+te;$<=Fe&&Fe<k&&(f[te]=ve+1)}f[y.previousIndex]=$-k}}C!==N&&s(y,C,N)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!cf(s))throw new Error(`Error trying to diff '${fe(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let C=0;C<this.length;C++)f=s[C],y=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,f,y,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,y,C),l=!0),o=o._next}else d=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Uc()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,C=>{y=this._trackByFn(d,C),null!==o&&Object.is(o.trackById,y)?(l&&(o=this._verifyReinsertion(o,C,y,d)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,y,d),l=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new TT(o,l),f,d),s}_verifyReinsertion(s,o,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class TT{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class q0{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new IT,this.map.set(o,l)),l.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function z0(i,s,o){const l=i.previousIndex;if(null===l)return l;let d=0;return o&&l<o.length&&(d=o[l]),l+s+d}class W0{constructor(){}supports(s){return s instanceof Map||cg(s)}create(){return new DT}}class DT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||cg(s)))throw new Error(`Error trying to diff '${fe(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new AT(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class AT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function K0(){return new Qy([new G0])}let Qy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||K0()),deps:[[i,new go,new Ko]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=mn({token:i,providedIn:"root",factory:K0}),i})();function Y0(){return new Jy([new W0])}let Jy=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const d=l.factories.slice();o=o.concat(d)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||Y0()),deps:[[i,new go,new Ko]]}}find(o){const l=this.factories.find(d=>d.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=mn({token:i,providedIn:"root",factory:Y0}),i})();function Xy(i,s,o,l,d=!1){for(;null!==o;){const f=s[o.index];if(null!==f&&l.push(M(f)),pr(f))for(let C=10;C<f.length;C++){const N=f[C],k=N[1].firstChild;null!==k&&Xy(N[1],N,k,l)}const y=o.type;if(8&y)Xy(i,s,o.child,l);else if(32&y){const C=Fa(o,s);let N;for(;N=C();)l.push(N)}else if(16&y){const C=lp(s,o);if(Array.isArray(C))l.push(...C);else{const N=Ac(s[16]);Xy(N[1],N,C,l,!0)}}o=d?o.projectionNext:o.next}return l}class Yg{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Xy(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(pr(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Sc(s,l),fo(o,l))}this._attachedToViewContainer=!1}Dh(this._lView[1],this._lView)}onDestroy(s){$h(this._lView[1],this._lView,null,s)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Kh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){ws(!0);try{Kh(i,s,o)}finally{ws(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,ea(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class NT extends Yg{constructor(s){super(s),this._view=s}detectChanges(){Yh(this._view)}checkNoChanges(){!function(i){ws(!0);try{Yh(i)}finally{ws(!1)}}(this._view)}get context(){return null}}const RT=function(i){return function(i,s,o){if(es(i)&&!o){const l=Kn(i.index,s);return new Yg(l,l)}return 47&i.type?new Yg(s[16],s):null}(Tr(),wt(),16==(16&i))};let MT=(()=>{class i{}return i.__NG_ELEMENT_ID__=RT,i})();const kT=[new W0],LT=new Qy([new G0]),VT=new Jy(kT),BT=function(){return e_(Tr(),wt())};let Qg=(()=>{class i{}return i.__NG_ELEMENT_ID__=BT,i})();const jT=Qg,HT=class extends jT{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Hl(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),$l(o,l,s),new Yg(l)}};function e_(i,s){return 4&i.type?new HT(s,i,Nf(i,s)):null}class zd{}class Q0{}const GT=function(){return eb(Tr(),wt())};let t_=(()=>{class i{}return i.__NG_ELEMENT_ID__=GT,i})();const zT=t_,J0=class extends zT{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Nf(this._hostTNode,this._hostLView)}get injector(){return new Zt(this._hostTNode,this._hostLView)}get parentInjector(){const s=lr(this._hostTNode,this._hostLView);if(R(s)){const o=ce(s,this._hostLView),l=Z(s);return new Zt(o[1].data[l+8],o)}return new Zt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=X0(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const d=s.createEmbeddedView(o||{});return this.insert(d,l),d}createComponent(s,o,l,d,f){const y=l||this.parentInjector;if(!f&&null==s.ngModule&&y){const N=y.get(zd,null);N&&(f=N)}const C=s.create(y,d,void 0,f);return this.insert(C.hostView,o),C}insert(s,o){const l=s._lView,d=l[1];if(pr(l[3])){const $=this.indexOf(s);if(-1!==$)this.detach($);else{const Q=l[3],te=new J0(Q,Q[6],Q[3]);te.detach(te.indexOf(s))}}const f=this._adjustIndex(o),y=this._lContainer;!function(i,s,o,l){const d=10+l,f=o.length;l>0&&(o[d-1][4]=s),l<f-10?(s[4]=o[d],ku(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const y=s[17];null!==y&&o!==y&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(y,s);const C=s[19];null!==C&&C.insertView(i),s[2]|=128}(d,l,y,f);const C=cp(f,y),N=l[11],k=La(N,y[7]);return null!==k&&function(i,s,o,l,d,f){l[0]=d,l[6]=s,ea(i,l,o,1,d,f)}(d,y[6],N,l,k,C),s.attachToViewContainerRef(),ku(jv(y),f,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=X0(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Sc(this._lContainer,o);l&&(fo(jv(this._lContainer),o),Dh(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Sc(this._lContainer,o);return l&&null!=fo(jv(this._lContainer),o)?new Yg(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function X0(i){return i[8]}function jv(i){return i[8]||(i[8]=[])}function eb(i,s){let o;const l=s[i.index];if(pr(l))o=l;else{let d;if(8&i.type)d=M(l);else{const f=s[11];d=f.createComment("");const y=Xt(i,s);Ll(f,La(f,y),d,function(i,s){return We(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=o=ty(l,s,d,i),Wh(s,o)}return new J0(o,i,s)}const Of={};class Eb extends qd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=en(s);return new wb(o,this.ngModule)}}function bb(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const $I=new Un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>no});class wb extends B0{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(xc).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return bb(this.componentDef.inputs)}get outputs(){return bb(this.componentDef.outputs)}create(s,o,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(o,l,d)=>{const f=i.get(o,Of,d);return f!==Of||l===Of?f:s.get(o,l,d)}}}(s,d.injector):s,y=f.get(Yy,F),C=f.get(Uv,null),N=y.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",$=l?function(i,s,o){if(We(i))return i.selectRootElement(s,o===Ln.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(N,l,this.componentDef.encapsulation):Ih(y.createRenderer(null,this.componentDef),k,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(k)),Q=this.componentDef.onPush?576:528,te=function(i,s){return{components:[],scheduler:i||no,clean:Lp,playerHandler:s||null,flags:0}}(),ve=Cd(0,null,null,1,0,null,null,null,null,null),Fe=Hl(null,ve,te,Q,null,null,y,N,C,f);let ot,ze;uo(Fe);try{const Lt=function(i,s,o,l,d,f){const y=o[1];o[20]=i;const N=Oc(y,20,2,"#host",null),k=N.mergedAttrs=s.hostAttrs;null!==k&&(_u(N,k,!0),null!==i&&(Ms(d,i,k),null!==N.classes&&Bl(d,i,N.classes),null!==N.styles&&xh(d,i,N.styles)));const $=l.createRenderer(i,s),Q=Hl(o,Hm(s),null,s.onPush?64:16,o[20],N,l,$,f||null,null);return y.firstCreatePass&&(Dr(an(N,o),y,s.type),Ym(y,N),qh(N,o.length,1)),Wh(o,Q),o[20]=Q}($,this.componentDef,Fe,y,N);if($)if(l)Ms(N,$,["ng-version",Bv.full]);else{const{attrs:Et,classes:wn}=function(i){const s=[],o=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&o.push(f);else{if(!ta(d))break;d=f}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Et&&Ms(N,$,Et),wn&&wn.length>0&&Bl(N,$,wn.join(" "))}if(ze=er(ve,20),void 0!==o){const Et=ze.projection=[];for(let wn=0;wn<this.ngContentSelectors.length;wn++){const On=o[wn];Et.push(null!=On?Array.from(On):null)}}ot=function(i,s,o,l,d){const f=o[1],y=function(i,s,o){const l=Tr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Qm(i,l,s,Pc(i,s,1,null),o));const d=K(s,i,l.directiveStart,l);vr(d,s);const f=Xt(l,s);return f&&vr(f,s),d}(f,o,s);if(l.components.push(y),i[8]=y,d&&d.forEach(N=>N(y,s)),s.contentQueries){const N=Tr();s.contentQueries(1,y,N.directiveStart)}const C=Tr();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ii(C.index),Km(o[1],C,0,C.directiveStart,C.directiveEnd,s),Gh(s,y)),y}(Lt,this.componentDef,Fe,te,[Rd]),$l(ve,Fe,null)}finally{la()}return new qI(this.componentType,ot,Nf(ze,Fe),Fe,ze)}}class qI extends class{}{constructor(s,o,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new NT(d),this.componentType=s}get injector(){return new Zt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Pf=new Map;class KI extends zd{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const l=In(s),d=s[yr]||null;d&&Rv(d),this._bootstrapComponents=hs(l.bootstrap),this._r3Injector=ay(s,o,[{provide:zd,useValue:this},{provide:qd,useValue:this.componentFactoryResolver}],fe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=Rr.THROW_IF_NOT_FOUND,l=re.Default){return s===Rr||s===zd||s===cl?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class eE extends Q0{constructor(s){super(),this.moduleType=s,null!==In(s)&&function(i){const s=new Set;!function o(l){const d=In(l,!0),f=d.id;null!==f&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${fe(s)} vs ${fe(s.name)}`)}(f,Pf.get(f),l),Pf.set(f,l));const y=hs(d.imports);for(const C of y)s.has(C)||(s.add(C),o(C))}(i)}(s)}create(s){return new KI(this.moduleType,s)}}function Ib(i,s,o){const l=Yr()+i,d=wt();return d[l]===Mn?$a(d,l,o?s.call(o):s()):function(i,s){return i[s]}(d,l)}function Db(i,s,o,l){return Sb(wt(),Yr(),i,s,o,l)}function Ab(i,s,o,l,d){return function(i,s,o,l,d,f,y){const C=s+o;return function(i,s,o,l){const d=Fs(i,s,o);return Fs(i,s+1,l)||d}(i,C,d,f)?$a(i,C+2,y?l.call(y,d,f):l(d,f)):sm(i,C+2)}(wt(),Yr(),i,s,o,l,d)}function sm(i,s){const o=i[s];return o===Mn?void 0:o}function Sb(i,s,o,l,d,f){const y=s+o;return Fs(i,y,d)?$a(i,y+1,f?l.call(f,d):l(d)):sm(i,y+1)}function Ob(i,s){const o=Hn();let l;const d=i+20;o.firstCreatePass?(l=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}throw new It("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[d]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(d,l.onDestroy)):l=o.data[d];const f=l.factory||(l.factory=Di(l.type)),y=dt(Vd);try{const C=He(!1),N=f();return He(C),function(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,wt(),d,N),N}finally{dt(y)}}function Pb(i,s,o){const l=i+20,d=wt(),f=function(i,s){return i[s]}(d,l);return function(i,s){Ha.isWrapped(s)&&(s=Ha.unwrap(s),i[on.lFrame.bindingIndex]=Mn);return s}(d,function(i,s){return i[1].data[s].pure}(d,l)?Sb(d,Yr(),s,f.transform,o,f):f.transform(o))}function tE(i){return s=>{setTimeout(i,void 0,s)}}const _l=class extends E.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var d,f,y;let C=s,N=o||(()=>null),k=l;if(s&&"object"==typeof s){const Q=s;C=null===(d=Q.next)||void 0===d?void 0:d.bind(Q),N=null===(f=Q.error)||void 0===f?void 0:f.bind(Q),k=null===(y=Q.complete)||void 0===y?void 0:y.bind(Q)}this.__isAsync&&(N=tE(N),C&&(C=tE(C)),k&&(k=tE(k)));const $=super.subscribe({next:C,error:N,complete:k});return s instanceof _.w&&s.add($),$}};function lD(){return this._results[Uc()]()}class o_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Uc(),l=o_.prototype;l[o]||(l[o]=lD)}get changes(){return this._changes||(this._changes=new _l)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const d=Js(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(l._results,d,o))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class nE{constructor(s){this.queryList=s,this.matches=null}clone(){return new nE(this.queryList)}setDirty(){this.queryList.setDirty()}}class rE{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<l;f++){const y=o.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new rE(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Hb(s,o).matches&&this.queries[o].setDirty()}}class kb{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class iE{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const d=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new iE(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sE{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new sE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,o,hD(o,f)),this.matchTNodeWithReadOption(s,o,j(o,s,f,!1,!1))}else l===Qg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,j(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===yl||d===t_||d===Qg&&4&o.type)this.addMatch(o.index,-2);else{const f=j(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function hD(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function pD(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Nf(i,s):4&i.type?e_(i,s):null}(s,i):-2===o?function(i,s,o){return o===yl?Nf(s,i):o===Qg?e_(s,i):o===t_?eb(s,i):void 0}(i,s,l):K(i,i[1],o,s)}function Fb(i,s,o,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,y=o.matches,C=[];for(let N=0;N<y.length;N+=2){const k=y[N];C.push(k<0?null:pD(s,f[k],y[N+1],o.metadata.read))}d.matches=C}return d.matches}function oE(i,s,o,l){const d=i.queries.getByIndex(o),f=d.matches;if(null!==f){const y=Fb(i,s,d,o);for(let C=0;C<f.length;C+=2){const N=f[C];if(N>0)l.push(y[C/2]);else{const k=f[C+1],$=s[-N];for(let Q=10;Q<$.length;Q++){const te=$[Q];te[17]===te[3]&&oE(te[1],te,k,l)}if(null!==$[9]){const Q=$[9];for(let te=0;te<Q.length;te++){const ve=Q[te];oE(ve[1],ve,k,l)}}}}}return l}function Lb(i){const s=wt(),o=Hn(),l=Ja();Xa(l+1);const d=Hb(o,l);if(i.dirty&&ni(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?oE(o,s,l,[]):Fb(o,s,d,l);i.reset(f,$0),i.notifyOnChanges()}return!0}return!1}function Vb(i,s,o,l){const d=Hn();if(d.firstCreatePass){const f=Tr();(function(i,s,o){null===i.queries&&(i.queries=new iE),i.queries.track(new sE(s,o))})(d,new kb(s,o,l),f.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(d,i),2==(2&o)&&(d.staticContentQueries=!0)}!function(i,s,o){const l=new o_(4==(4&o));$h(i,s,l,l.destroy),null===s[19]&&(s[19]=new rE),s[19].queries.push(new nE(l))}(d,wt(),o)}function Ub(){return i=wt(),s=Ja(),i[19].queries[s].queryList;var i,s}function Hb(i,s){return i.queries.getByIndex(s)}const hE=new Un("Application Initializer");let Ff=(()=>{class i{constructor(o){this.appInits=o,this.resolve=Ky,this.reject=Ky,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(xg(f))o.push(f);else if(Rg(f)){const y=new Promise((C,N)=>{f.subscribe({complete:C,error:N})});o.push(y)}}Promise.all(o).then(()=>{l()}).catch(d=>{this.reject(d)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(jr(hE,8))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const ow=new Un("AppId"),qD={provide:ow,useFactory:function(){return`${fE()}${fE()}${fE()}`},deps:[]};function fE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aw=new Un("Platform Initializer"),uw=new Un("Platform ID"),lw=new Un("appBootstrapListener");let cw=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const l_=new Un("LocaleId"),dw=new Un("DefaultCurrencyCode");class WD{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const pE=function(i){return new eE(i)},KD=pE,YD=function(i){return Promise.resolve(pE(i))},hw=function(i){const s=pE(i),l=hs(In(i).declarations).reduce((d,f)=>{const y=en(f);return y&&d.push(new wb(y)),d},[]);return new WD(s,l)},QD=hw,JD=function(i){return Promise.resolve(hw(i))};let lm=(()=>{class i{constructor(){this.compileModuleSync=KD,this.compileModuleAsync=YD,this.compileModuleAndAllComponentsSync=QD,this.compileModuleAndAllComponentsAsync=JD}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();const tA=(()=>Promise.resolve(0))();function gE(i){"undefined"==typeof Zone?tA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class wa{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _l(!1),this.onMicrotaskEmpty=new _l(!1),this.onStable=new _l(!1),this.onError=new _l(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&o,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=se.requestAnimationFrame,s=se.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(se,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,yE(i),i.isCheckStableRunning=!0,mE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),yE(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,d,f,y,C)=>{try{return fw(i),o.invokeTask(d,f,y,C)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),pw(i)}},onInvoke:(o,l,d,f,y,C,N)=>{try{return fw(i),o.invoke(d,f,y,C,N)}finally{i.shouldCoalesceRunChangeDetection&&s(),pw(i)}},onHasTask:(o,l,d,f)=>{o.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,yE(i),mE(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,d,f)=>(o.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(wa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,rA,Ky,Ky);try{return f.runTask(y,o,l)}finally{f.cancelTask(y)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const rA={};function mE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function yE(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function fw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function pw(i){i._nesting--,mE(i)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _l,this.onMicrotaskEmpty=new _l,this.onStable=new _l,this.onError=new _l}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,d){return s.apply(o,l)}}let gw=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wa.assertNotInAngularZone(),gE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,d){return[]}}return i.\u0275fac=function(o){return new(o||i)(jr(wa))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})(),mw=(()=>{class i{constructor(){this._applications=new Map,_E.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return _E.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();class aA{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function uA(i){_E=i}let _E=new aA,yw=!0,_w=!1;function vE(){return _w=!0,yw}function lA(){if(_w)throw new Error("Cannot enable prod mode after platform setup.");yw=!1}let Cu;const vw=new Un("AllowMultipleToken");class mA{constructor(s,o){this.name=s,this.token=o}}function Ew(i,s,o=[]){const l=`Platform: ${s}`,d=new Un(l);return(f=[])=>{let y=bw();if(!y||y.injector.get(vw,!1))if(i)i(o.concat(f).concat({provide:d,useValue:!0}));else{const C=o.concat(f).concat({provide:d,useValue:!0},{provide:zl,useValue:"platform"});!function(i){if(Cu&&!Cu.destroyed&&!Cu.injector.get(vw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cu=i.get(ww);const s=i.get(aw,null);s&&s.forEach(o=>o())}(Rr.create({providers:C,name:l}))}return function(i){const s=bw();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function bw(){return Cu&&!Cu.destroyed?Cu:null}let ww=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const C=function(i,s){let o;return o="noop"===i?new oA:("zone.js"===i?void 0:i)||new wa({enableLongStackTrace:vE(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),N=[{provide:wa,useValue:C}];return C.run(()=>{const k=Rr.create({providers:N,parent:this.injector,name:o.moduleType.name}),$=o.create(k),Q=$.injector.get(Ft,null);if(!Q)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return C.runOutsideAngular(()=>{const te=C.onError.subscribe({next:ve=>{Q.handleError(ve)}});$.onDestroy(()=>{EE(this._modules,$),te.unsubscribe()})}),function(i,s,o){try{const l=o();return xg(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(Q,C,()=>{const te=$.injector.get(Ff);return te.runInitializers(),te.donePromise.then(()=>(Rv($.injector.get(l_,Zy)||Zy),this._moduleDoBootstrap($),$))})})}bootstrapModule(o,l=[]){const d=Cw({},l);return function(i,s,o){const l=new eE(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const l=o.injector.get(cm);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${fe(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(jr(Rr))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function Cw(i,s){return Array.isArray(s)?s.reduce(Cw,i):Object.assign(Object.assign({},i),s)}let cm=(()=>{class i{constructor(o,l,d,f,y){this._zone=o,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new ne.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),N=new ne.y(k=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{wa.assertNotInAngularZone(),gE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const Q=this._zone.onUnstable.subscribe(()=>{wa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{$.unsubscribe(),Q.unsubscribe()}});this.isStable=(0,Se.T)(C,N.pipe(i=>(0,ye.x)()(function(i,s){return function(l){let d;d="function"==typeof i?i:function(){return i};const f=Object.create(l,Ne.N);return f.source=l,f.subjectFactory=d,f}}(ue)(i))))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=o instanceof B0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(zd),C=d.create(Rr.NULL,[],l||d.selector,f),N=C.location.nativeElement,k=C.injector.get(gw,null),$=k&&C.injector.get(mw);return k&&$&&$.registerApplication(N,k),C.onDestroy(()=>{this.detachView(C.hostView),EE(this.components,C),$&&$.unregisterApplication(N)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;EE(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(lw,[]).concat(this._bootstrapListeners).forEach(d=>d(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(jr(wa),jr(Rr),jr(Ft),jr(qd),jr(Ff))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function EE(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class wA{}class TA{}const IA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let DA=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||IA}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,d]=o.split("#");return void 0===d&&(d="default"),G(8255)(l).then(f=>f[d]).then(f=>Aw(f,l,d)).then(f=>this._compiler.compileModuleAsync(f))}loadFactory(o){let[l,d]=o.split("#"),f="NgFactory";return void 0===d&&(d="default",f=""),G(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[d+f]).then(y=>Aw(y,l,d))}}return i.\u0275fac=function(o){return new(o||i)(jr(lm),jr(TA,8))},i.\u0275prov=mn({token:i,factory:i.\u0275fac}),i})();function Aw(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const PA=function(i){return null},FA=Ew(null,"core",[{provide:uw,useValue:"unknown"},{provide:ww,deps:[Rr]},{provide:mw,deps:[]},{provide:cw,deps:[]}]),jA=[{provide:cm,useClass:cm,deps:[wa,Rr,Ft,qd,Ff]},{provide:$I,deps:[wa],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:Ff,useClass:Ff,deps:[[new Ko,hE]]},{provide:lm,useClass:lm,deps:[]},qD,{provide:Qy,useFactory:function(){return LT},deps:[]},{provide:Jy,useFactory:function(){return VT},deps:[]},{provide:l_,useFactory:function(i){return Rv(i=i||"undefined"!=typeof $localize&&$localize.locale||Zy),i},deps:[[new Wo(l_),new Ko,new go]]},{provide:dw,useValue:"USD"}];let $A=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(jr(cm))},i.\u0275mod=Lr({type:i}),i.\u0275inj=or({providers:jA}),i})()},8006:(Bt,tt,G)=>{"use strict";G.d(tt,{zQ:()=>_t,ww:()=>dn,rT:()=>rt,f7:()=>le,L6:()=>Ge,_Q:()=>Je,lh:()=>et,Qv:()=>Oe,nw:()=>vt});var E=G(3018),_=G(9765),ne=G(5917),Se=G(7574),Ne=G(4402),be=G(6682),ke=G(7771),ye=G(5319),ue=G(309),ee=G(7971),ae=G(8858);class me extends _.xQ{constructor(xt=Number.POSITIVE_INFINITY,Qt=Number.POSITIVE_INFINITY,vn){super(),this.scheduler=vn,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=xt<1?1:xt,this._windowTime=Qt<1?1:Qt,Qt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(xt){if(!this.isStopped){const Qt=this._events;Qt.push(xt),Qt.length>this._bufferSize&&Qt.shift()}super.next(xt)}nextTimeWindow(xt){this.isStopped||(this._events.push(new fe(this._getNow(),xt)),this._trimBufferThenGetEvents()),super.next(xt)}_subscribe(xt){const Qt=this._infiniteTimeWindow,vn=Qt?this._events:this._trimBufferThenGetEvents(),nt=this.scheduler,at=vn.length;let ge;if(this.closed)throw new ee.N;if(this.isStopped||this.hasError?ge=ye.w.EMPTY:(this.observers.push(xt),ge=new ae.W(this,xt)),nt&&xt.add(xt=new ue.ht(xt,nt)),Qt)for(let we=0;we<at&&!xt.closed;we++)xt.next(vn[we]);else for(let we=0;we<at&&!xt.closed;we++)xt.next(vn[we].value);return this.hasError?xt.error(this.thrownError):this.isStopped&&xt.complete(),ge}_getNow(){return(this.scheduler||ke.c).now()}_trimBufferThenGetEvents(){const xt=this._getNow(),Qt=this._bufferSize,vn=this._windowTime,nt=this._events,at=nt.length;let ge=0;for(;ge<at&&!(xt-nt[ge].time<vn);)ge++;return at>Qt&&(ge=Math.max(ge,at-Qt)),ge>0&&nt.splice(0,ge),nt}}class fe{constructor(xt,Qt){this.time=xt,this.value=Qt}}function Ae(Nt,xt,Qt){let vn;return vn=Nt&&"object"==typeof Nt?Nt:{bufferSize:Nt,windowTime:xt,refCount:!1,scheduler:Qt},nt=>nt.lift(function({bufferSize:Nt=Number.POSITIVE_INFINITY,windowTime:xt=Number.POSITIVE_INFINITY,refCount:Qt,scheduler:vn}){let nt,ge,at=0,we=!1,Dt=!1;return function(En){let mn;at++,!nt||we?(we=!1,nt=new me(Nt,xt,vn),mn=nt.subscribe(this),ge=En.subscribe({next(rr){nt.next(rr)},error(rr){we=!0,nt.error(rr)},complete(){Dt=!0,ge=void 0,nt.complete()}}),Dt&&(ge=void 0)):mn=nt.subscribe(this),this.add(()=>{at--,mn.unsubscribe(),mn=void 0,ge&&!Dt&&Qt&&0===at&&(ge.unsubscribe(),ge=void 0,nt=void 0)})}}(vn))}var $e=G(3190);function je(Nt,xt){return xt?(0,$e.w)(()=>Nt,xt):(0,$e.w)(()=>Nt)}var yt=G(8002),Ke=G(8049),It=G(2639),st=G(5435),Me=G(9126),pe=G(8939),Ye=G(8583),cn=G(7841);const Oe=new E.OlP("angularfire2.auth.use-emulator"),Ge=new E.OlP("angularfire2.auth.settings"),Je=new E.OlP("angularfire2.auth.tenant-id"),rt=new E.OlP("angularfire2.auth.langugage-code"),et=new E.OlP("angularfire2.auth.use-device-language"),le=new E.OlP("angularfire.auth.persistence"),vt=(Nt,xt,Qt,vn,nt,at,ge,we)=>(0,Me.cc)(`${Nt.name}.auth`,"AngularFireAuth",Nt.name,()=>{const Dt=xt.runOutsideAngular(()=>Nt.auth());if(Qt&&Dt.useEmulator(...Qt),vn&&(Dt.tenantId=vn),Dt.languageCode=nt,at&&Dt.useDeviceLanguage(),ge)for(const[Gt,En]of Object.entries(ge))Dt.settings[Gt]=En;return we&&Dt.setPersistence(we),Dt},[Qt,vn,nt,at,ge,we]);let _t=(()=>{class Nt{constructor(Qt,vn,nt,at,ge,we,Dt,Gt,En,mn,rr){const or=new _.xQ,pn=(0,ne.of)(void 0).pipe((0,ue.QV)(ge.outsideAngular),(0,$e.w)(()=>at.runOutsideAngular(()=>Promise.resolve().then(G.bind(G,9083)))),(0,yt.U)(()=>(0,pe.on)(Qt,at,vn)),(0,yt.U)(Vn=>vt(Vn,at,we,Gt,En,mn,Dt,rr)),Ae({bufferSize:1,refCount:!1}));if((0,Ye.PM)(nt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{pn.pipe((0,Ke.P)()).subscribe();const Gn=pn.pipe((0,$e.w)(yn=>yn.getRedirectResult().then(Dn=>Dn,()=>null)),Me.iC,Ae({bufferSize:1,refCount:!1})),ir=pn.pipe((0,$e.w)(yn=>new Se.y(Dn=>({unsubscribe:at.runOutsideAngular(()=>yn.onAuthStateChanged(sr=>Dn.next(sr),sr=>Dn.error(sr),()=>Dn.complete()))})))),Zn=pn.pipe((0,$e.w)(yn=>new Se.y(Dn=>({unsubscribe:at.runOutsideAngular(()=>yn.onIdTokenChanged(sr=>Dn.next(sr),sr=>Dn.error(sr),()=>Dn.complete()))}))));this.authState=Gn.pipe(je(ir),(0,It.R)(ge.outsideAngular),(0,ue.QV)(ge.insideAngular)),this.user=Gn.pipe(je(Zn),(0,It.R)(ge.outsideAngular),(0,ue.QV)(ge.insideAngular)),this.idToken=this.user.pipe((0,$e.w)(yn=>yn?(0,Ne.D)(yn.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe((0,$e.w)(yn=>yn?(0,Ne.D)(yn.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,be.T)(Gn,or,this.authState.pipe((0,st.h)(yn=>!yn))).pipe((0,yt.U)(yn=>(null==yn?void 0:yn.user)?yn:null),(0,It.R)(ge.outsideAngular),(0,ue.QV)(ge.insideAngular))}return(0,pe.pX)(this,pn,at,{spy:{apply:(Vn,Gn,ir)=>{(Vn.startsWith("signIn")||Vn.startsWith("createUser"))&&ir.then(Zn=>or.next(Zn))}}})}}return Nt.\u0275fac=function(Qt){return new(Qt||Nt)(E.LFG(pe.Dh),E.LFG(pe.xv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(Me.HU),E.LFG(Oe,8),E.LFG(Ge,8),E.LFG(Je,8),E.LFG(rt,8),E.LFG(et,8),E.LFG(le,8))},Nt.\u0275prov=E.Yz7({token:Nt,factory:Nt.\u0275fac,providedIn:"any"}),Nt})(),dn=(()=>{class Nt{constructor(){cn.Z.registerVersion("angularfire",Me.q4.full,"auth-compat")}}return Nt.\u0275fac=function(Qt){return new(Qt||Nt)},Nt.\u0275mod=E.oAB({type:Nt}),Nt.\u0275inj=E.cJS({providers:[_t]}),Nt})()},5391:(Bt,tt,G)=>{"use strict";G.d(tt,{ST:()=>$y,yb:()=>Gg});var E=G(3018),_=G(3637),ne=G(7574),Se=G(4402),Ne=G(5917),be=G(9126),ke=G(7393);function ye(){return u=>u.lift(new ue)}class ue{call(r,a){return a.subscribe(new ee(r))}}class ee extends ke.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let a;this.hasPrev?a=[this.prev,r]:this.hasPrev=!0,this.prev=r,a&&this.destination.next(a)}}class me{constructor(r,a){this.compare=r,this.keySelector=a}call(r,a){return a.subscribe(new fe(r,this.compare,this.keySelector))}}class fe extends ke.L{constructor(r,a,c){super(r),this.keySelector=c,this.hasKey=!1,"function"==typeof a&&(this.compare=a)}compare(r,a){return r===a}_next(r){let a;try{const{keySelector:h}=this;a=h?h(r):r}catch(h){return this.destination.error(h)}let c=!1;if(this.hasKey)try{const{compare:h}=this;c=h(this.key,a)}catch(h){return this.destination.error(h)}else this.hasKey=!0;c||(this.key=a,this.destination.next(r))}}var Ae=G(9761),qe=G(8002),$e=G(2145),je=G(5435),yt=G(309),Ke=G(8939),It=G(8583),Me=(G(9083),G(4486)),pe=G(8239),Ye=G(5452),cn=G(6034),Pt=G(300),Oe=G(4685),Ge=function(u,r){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(a[h]=c[h])})(u,r)};function rt(u){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&u[r],c=0;if(a)return a.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var le,et="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vt=vt||{},_t=et||self;function dn(){}function Nt(u){var r=typeof u;return"array"==(r="object"!=r?r:u?Array.isArray(u)?"array":r:"null")||"object"==r&&"number"==typeof u.length}function xt(u){var r=typeof u;return"object"==r&&null!=u||"function"==r}var vn="closure_uid_"+(1e9*Math.random()>>>0),nt=0;function at(u,r,a){return u.call.apply(u.bind,arguments)}function ge(u,r,a){if(!u)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,c),u.apply(r,h)}}return function(){return u.apply(r,arguments)}}function we(u,r,a){return(we=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?at:ge).apply(null,arguments)}function Dt(u,r){var a=Array.prototype.slice.call(arguments,1);return function(){var c=a.slice();return c.push.apply(c,arguments),u.apply(this,c)}}function Gt(u,r){function a(){}a.prototype=r.prototype,u.Z=r.prototype,u.prototype=new a,u.prototype.constructor=u,u.Vb=function(c,h,v){for(var S=Array(arguments.length-2),L=2;L<arguments.length;L++)S[L-2]=arguments[L];return r.prototype[h].apply(c,S)}}function En(){this.s=this.s,this.o=this.o}var rr={};En.prototype.s=!1,En.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function(u){return Object.prototype.hasOwnProperty.call(u,vn)&&u[vn]||(u[vn]=++nt)}(this);delete rr[u]}},En.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var or=Array.prototype.indexOf?function(u,r){return Array.prototype.indexOf.call(u,r,void 0)}:function(u,r){if("string"==typeof u)return"string"!=typeof r||1!=r.length?-1:u.indexOf(r,0);for(var a=0;a<u.length;a++)if(a in u&&u[a]===r)return a;return-1},pn=Array.prototype.forEach?function(u,r,a){Array.prototype.forEach.call(u,r,a)}:function(u,r,a){for(var c=u.length,h="string"==typeof u?u.split(""):u,v=0;v<c;v++)v in h&&r.call(a,h[v],v,u)};function Gn(u){return Array.prototype.concat.apply([],arguments)}function ir(u){var r=u.length;if(0<r){for(var a=Array(r),c=0;c<r;c++)a[c]=u[c];return a}return[]}function Zn(u){return/^[\s\xa0]*$/.test(u)}var Ze,yn=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function Dn(u,r){return-1!=u.indexOf(r)}function sr(u,r){return u<r?-1:u>r?1:0}e:{var re=_t.navigator;if(re){var Ce=re.userAgent;if(Ce){Ze=Ce;break e}}Ze=""}function gt(u,r,a){for(var c in u)r.call(a,u[c],c,u)}function dt(u){var r={};for(var a in u)r[a]=u[a];return r}var Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(u,r){for(var a,c,h=1;h<arguments.length;h++){for(a in c=arguments[h])u[a]=c[a];for(var v=0;v<Ut.length;v++)a=Ut[v],Object.prototype.hasOwnProperty.call(c,a)&&(u[a]=c[a])}}function kt(u){return kt[" "](u),u}kt[" "]=dn;var se,u,Qn=Dn(Ze,"Opera"),ur=Dn(Ze,"Trident")||Dn(Ze,"MSIE"),Ln=Dn(Ze,"Edge"),Jn=Ln||ur,Vt=Dn(Ze,"Gecko")&&!(Dn(Ze.toLowerCase(),"webkit")&&!Dn(Ze,"Edge"))&&!(Dn(Ze,"Trident")||Dn(Ze,"MSIE"))&&!Dn(Ze,"Edge"),Yt=Dn(Ze.toLowerCase(),"webkit")&&!Dn(Ze,"Edge");function Te(){var u=_t.document;return u?u.documentMode:void 0}e:{var Le="",Xe=(u=Ze,Vt?/rv:([^\);]+)(\)|;)/.exec(u):Ln?/Edge\/([\d\.]+)/.exec(u):ur?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Yt?/WebKit\/(\S+)/.exec(u):Qn?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Xe&&(Le=Xe?Xe[1]:""),ur){var Ve=Te();if(null!=Ve&&Ve>parseFloat(Le)){se=String(Ve);break e}}se=Le}var mt={};function Wt(){return r=mt,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var u=0,r=yn(String(se)).split("."),a=yn("9").split("."),c=Math.max(r.length,a.length),h=0;0==u&&h<c;h++){var v=r[h]||"",S=a[h]||"";do{if(v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],0==v[0].length&&0==S[0].length)break;u=sr(0==v[1].length?0:parseInt(v[1],10),0==S[1].length?0:parseInt(S[1],10))||sr(0==v[2].length,0==S[2].length)||sr(v[2],S[2]),v=v[3],S=S[3]}while(0==u)}return 0<=u}();var r}var bn=_t.document&&ur&&(Te()||parseInt(se,10))||void 0,yr=function(){if(!_t.addEventListener||!Object.defineProperty)return!1;var u=!1,r=Object.defineProperty({},"passive",{get:function(){u=!0}});try{_t.addEventListener("test",dn,r),_t.removeEventListener("test",dn,r)}catch(a){}return u}();function nn(u,r){this.type=u,this.g=this.target=r,this.defaultPrevented=!1}function jn(u,r){if(nn.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var a=this.type=u.type,c=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=r,r=u.relatedTarget){if(Vt){e:{try{kt(r.nodeName);var h=!0;break e}catch(v){}h=!1}h||(r=null)}}else"mouseover"==a?r=u.fromElement:"mouseout"==a&&(r=u.toElement);this.relatedTarget=r,c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Qr[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&jn.Z.h.call(this)}}nn.prototype.h=function(){this.defaultPrevented=!0},Gt(jn,nn);var Qr={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jr="closure_listenable_"+(1e6*Math.random()|0),ps=0;function pi(u,r,a,c,h){this.listener=u,this.proxy=null,this.src=r,this.type=a,this.capture=!!c,this.ia=h,this.key=++ps,this.ca=this.fa=!1}function gi(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function Oi(u){this.src=u,this.g={},this.h=0}function Lr(u,r){var a=r.type;if(a in u.g){var v,c=u.g[a],h=or(c,r);(v=0<=h)&&Array.prototype.splice.call(c,h,1),v&&(gi(r),0==u.g[a].length&&(delete u.g[a],u.h--))}}function Er(u,r,a,c){for(var h=0;h<u.length;++h){var v=u[h];if(!v.ca&&v.listener==r&&v.capture==!!a&&v.ia==c)return h}return-1}Oi.prototype.add=function(u,r,a,c,h){var v=u.toString();(u=this.g[v])||(u=this.g[v]=[],this.h++);var S=Er(u,r,c,h);return-1<S?(r=u[S],a||(r.fa=!1)):((r=new pi(r,this.src,v,!!c,h)).fa=a,u.push(r)),r};var $r="closure_lm_"+(1e6*Math.random()|0),zr={};function Vr(u,r,a,c,h){if(c&&c.once)return Xr(u,r,a,c,h);if(Array.isArray(r)){for(var v=0;v<r.length;v++)Vr(u,r[v],a,c,h);return null}return a=Sr(a),u&&u[Jr]?u.N(r,a,xt(c)?!!c.capture:!!c,h):en(u,r,a,!1,c,h)}function en(u,r,a,c,h,v){if(!r)throw Error("Invalid event type");var S=xt(h)?!!h.capture:!!h,L=gn(u);if(L||(u[$r]=L=new Oi(u)),(a=L.add(r,a,c,S,v)).proxy)return a;if(c=function(){var r=Rt;return function u(a){return r.call(u.src,u.listener,a)}}(),a.proxy=c,c.src=u,c.listener=a,u.addEventListener)yr||(h=S),void 0===h&&(h=!1),u.addEventListener(r.toString(),c,h);else if(u.attachEvent)u.attachEvent(Ar(r.toString()),c);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(c)}return a}function Xr(u,r,a,c,h){if(Array.isArray(r)){for(var v=0;v<r.length;v++)Xr(u,r[v],a,c,h);return null}return a=Sr(a),u&&u[Jr]?u.O(r,a,xt(c)?!!c.capture:!!c,h):en(u,r,a,!0,c,h)}function In(u,r,a,c,h){if(Array.isArray(r))for(var v=0;v<r.length;v++)In(u,r[v],a,c,h);else c=xt(c)?!!c.capture:!!c,a=Sr(a),u&&u[Jr]?(u=u.i,(r=String(r).toString())in u.g&&-1<(a=Er(v=u.g[r],a,c,h))&&(gi(v[a]),Array.prototype.splice.call(v,a,1),0==v.length&&(delete u.g[r],u.h--))):u&&(u=gn(u))&&(r=u.g[r.toString()],u=-1,r&&(u=Er(r,a,c,h)),(a=-1<u?r[u]:null)&&zi(a))}function zi(u){if("number"!=typeof u&&u&&!u.ca){var r=u.src;if(r&&r[Jr])Lr(r.i,u);else{var a=u.type,c=u.proxy;r.removeEventListener?r.removeEventListener(a,c,u.capture):r.detachEvent?r.detachEvent(Ar(a),c):r.addListener&&r.removeListener&&r.removeListener(c),(a=gn(r))?(Lr(a,u),0==a.h&&(a.src=null,r[$r]=null)):gi(u)}}}function Ar(u){return u in zr?zr[u]:zr[u]="on"+u}function Rt(u,r){if(u.ca)u=!0;else{r=new jn(r,this);var a=u.listener,c=u.ia||u.src;u.fa&&zi(u),u=a.call(c,r)}return u}function gn(u){return(u=u[$r])instanceof Oi?u:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sr(u){return"function"==typeof u?u:(u[Pn]||(u[Pn]=function(r){return u.handleEvent(r)}),u[Pn])}function kn(){En.call(this),this.i=new Oi(this),this.P=this,this.I=null}function Cn(u,r){var a,c=u.I;if(c)for(a=[];c;c=c.I)a.push(c);if(u=u.P,c=r.type||r,"string"==typeof r)r=new nn(r,u);else if(r instanceof nn)r.target=r.target||u;else{var h=r;ft(r=new nn(c,u),h)}if(h=!0,a)for(var v=a.length-1;0<=v;v--){var S=r.g=a[v];h=Pe(S,c,!0,r)&&h}if(h=Pe(S=r.g=u,c,!0,r)&&h,h=Pe(S,c,!1,r)&&h,a)for(v=0;v<a.length;v++)h=Pe(S=r.g=a[v],c,!1,r)&&h}function Pe(u,r,a,c){if(!(r=u.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,v=0;v<r.length;++v){var S=r[v];if(S&&!S.ca&&S.capture==a){var L=S.listener,q=S.ia||S.src;S.fa&&Lr(u.i,S),h=!1!==L.call(q,c)&&h}}return h&&!c.defaultPrevented}Gt(kn,En),kn.prototype[Jr]=!0,kn.prototype.removeEventListener=function(u,r,a,c){In(this,u,r,a,c)},kn.prototype.M=function(){if(kn.Z.M.call(this),this.i){var r,u=this.i;for(r in u.g){for(var a=u.g[r],c=0;c<a.length;c++)gi(a[c]);delete u.g[r],u.h--}}this.I=null},kn.prototype.N=function(u,r,a,c){return this.i.add(String(u),r,!1,a,c)},kn.prototype.O=function(u,r,a,c){return this.i.add(String(u),r,!0,a,c)};var Ee=_t.JSON.stringify;function oe(){var u=Pi,r=null;return u.g&&(r=u.g,u.g=u.g.next,u.g||(u.h=null),r.next=null),r}var Xn,Be=function(){function u(){this.h=this.g=null}return u.prototype.add=function(r,a){var c=Qe.get();c.set(r,a),this.h?this.h.next=c:this.g=c,this.h=c},u}(),Qe=new(function(){function u(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return u.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},u}())(function(){return new tn},function(u){return u.reset()}),tn=function(){function u(){this.next=this.g=this.h=null}return u.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},u.prototype.reset=function(){this.next=this.g=this.h=null},u}();function Tn(u){_t.setTimeout(function(){throw u},0)}function qn(u,r){Xn||function(){var u=_t.Promise.resolve(void 0);Xn=function(){u.then(Zr)}}(),ai||(Xn(),ai=!0),Pi.add(u,r)}var ai=!1,Pi=new Be;function Zr(){for(var u;u=oe();){try{u.h.call(u.g)}catch(a){Tn(a)}var r=Qe;r.j(u),100>r.h&&(r.h++,u.next=r.g,r.g=u)}ai=!1}function Wn(u,r){kn.call(this),this.h=u||1,this.g=r||_t,this.j=we(this.kb,this),this.l=Date.now()}function wi(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function Wi(u,r,a){if("function"==typeof u)a&&(u=we(u,a));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=we(u.handleEvent,u)}return 2147483647<Number(r)?-1:_t.setTimeout(u,r||0)}function br(u){u.g=Wi(function(){u.g=null,u.i&&(u.i=!1,br(u))},u.j);var r=u.h;u.h=null,u.m.apply(null,r)}Gt(Wn,kn),(le=Wn.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Cn(this,"tick"),this.da&&(wi(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){Wn.Z.M.call(this),wi(this),delete this.g};var ei=function(u){function r(a,c){var h=u.call(this)||this;return h.m=a,h.j=c,h.h=null,h.i=!1,h.g=null,h}return function(u,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=u}Ge(u,r),u.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,u),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:br(this)},r.prototype.M=function(){u.prototype.M.call(this),this.g&&(_t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(En);function Ur(u){En.call(this),this.h=u,this.g={}}Gt(Ur,En);var Ki=[];function Ci(u,r,a,c){Array.isArray(a)||(a&&(Ki[0]=a.toString()),a=Ki);for(var h=0;h<a.length;h++){var v=Vr(r,a[h],c||u.handleEvent,!1,u.h||u);if(!v)break;u.g[v.key]=v}}function fr(u){gt(u.g,function(r,a){this.g.hasOwnProperty(a)&&zi(r)},u),u.g={}}function _r(){this.g=!0}function wr(u,r,a,c){u.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(u,r){if(!u.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(u=0;u<a.length;u++)if(Array.isArray(a[u])){var c=a[u];if(!(2>c.length)){var h=c[1];if(Array.isArray(h)&&!(1>h.length)){var v=h[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var S=1;S<h.length;S++)h[S]=""}}}return Ee(a)}catch(L){return r}}(u,a)+(c?" "+c:"")})}Ur.prototype.M=function(){Ur.Z.M.call(this),fr(this)},Ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Aa=function(){this.g=!1},_r.prototype.info=function(){};var Cr={},gs=null;function ms(){return gs=gs||new kn}function Hs(u){nn.call(this,Cr.Ma,u)}function ts(u){var r=ms();Cn(r,new Hs(r,u))}function so(u,r){nn.call(this,Cr.STAT_EVENT,u),this.stat=r}function Mr(u){var r=ms();Cn(r,new so(r,u))}function ns(u,r){nn.call(this,Cr.Na,u),this.size=r}function Fi(u,r){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return _t.setTimeout(function(){u()},r)}Cr.Ma="serverreachability",Gt(Hs,nn),Cr.STAT_EVENT="statevent",Gt(so,nn),Cr.Na="timingevent",Gt(ns,nn);var Ti={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},mi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ns(){}function Li(){}Ns.prototype.h=null;var is,rs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ii(){nn.call(this,"d")}function oo(){nn.call(this,"c")}function ys(){}function Vi(u,r,a,c){this.l=u,this.j=r,this.m=a,this.X=c||1,this.V=new Ur(this),this.P=wo,this.W=new Wn(u=Jn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}Gt(Ii,nn),Gt(oo,nn),Gt(ys,Ns),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},is=new ys;var wo=45e3,ss={},Zs={};function Di(u,r,a){u.K=1,u.v=Ot(bt(r)),u.s=a,u.U=!0,_s(u,null)}function _s(u,r){u.F=Date.now(),Gs(u),u.A=bt(u.v);var a=u.A,c=u.X;Array.isArray(c)||(c=[String(c)]),Wa(a.h,"t",c),u.C=0,a=u.l.H,u.h=new ti,u.g=Ts(u.l,a?r:null,!u.s),0<u.O&&(u.L=new ei(we(u.Ia,u,u.g),u.O)),Ci(u.V,u.g,"readystatechange",u.gb),r=u.H?dt(u.H):{},u.s?(u.u||(u.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,r)):(u.u="GET",u.g.ea(u.A,u.u,null,r)),ts(1),function(u,r,a,c,h,v){u.info(function(){if(u.g)if(v)for(var S="",L=v.split("&"),q=0;q<L.length;q++){var ie=L[q].split("=");if(1<ie.length){var he=ie[0];ie=ie[1];var xe=he.split("_");S=2<=xe.length&&"type"==xe[1]?S+(he+"=")+ie+"&":S+(he+"=redacted&")}}else S=null;else S=v;return"XMLHTTP REQ ("+c+") [attempt "+h+"]: "+r+"\n"+a+"\n"+S})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Br(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function Co(u,r,a){for(var h,c=!0;!u.I&&u.C<a.length;){if((h=Bo(u,a))==Zs){4==r&&(u.o=4,Mr(14),c=!1),wr(u.j,u.m,null,"[Incomplete Response]");break}if(h==ss){u.o=4,Mr(15),wr(u.j,u.m,a,"[Invalid Chunk]"),c=!1;break}wr(u.j,u.m,h,null),vs(u,h)}Br(u)&&h!=Zs&&h!=ss&&(u.h.g="",u.C=0),4!=r||0!=a.length||u.h.h||(u.o=1,Mr(16),c=!1),u.i=u.i&&c,c?0<a.length&&!u.aa&&(u.aa=!0,(r=u.l).g==u&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),co(r),r.L=!0,Mr(11))):(wr(u.j,u.m,a,"[Invalid Chunked Response]"),Pr(u),as(u))}function Bo(u,r){var a=u.C,c=r.indexOf("\n",a);return-1==c?Zs:(a=Number(r.substring(a,c)),isNaN(a)?ss:(c+=1)+a>r.length?Zs:(r=r.substr(c,a),u.C=c+a,r))}function Gs(u){u.Y=Date.now()+u.P,os(u,u.P)}function os(u,r){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Fi(we(u.eb,u),r)}function ui(u){u.B&&(_t.clearTimeout(u.B),u.B=null)}function as(u){0==u.l.G||u.I||vi(u.l,u)}function Pr(u){ui(u);var r=u.L;r&&"function"==typeof r.na&&r.na(),u.L=null,wi(u.W),fr(u.V),u.g&&(r=u.g,u.g=null,r.abort(),r.na())}function vs(u,r){try{var a=u.l;if(0!=a.G&&(a.g==u||Tr(a.i,u)))if(a.I=u.N,!u.J&&Tr(a.i,u)&&3==a.G){try{var c=a.Ca.g.parse(r)}catch(Fn){c=null}if(Array.isArray(c)&&3==c.length){var h=c;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=Fi(we(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<u.F))break e;fa(a),ii(a)}Rs(a),Mr(18)}if(1>=Ka(a.i)&&a.ka){try{a.ka()}catch(Fn){}a.ka=void 0}}else li(a,11)}else if((u.J||a.g==u)&&fa(a),!Zn(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var v=h[r];if(a.U=v[0],v=v[1],2==a.G)if("c"==v[0]){a.J=v[1],a.la=v[2];var S=v[3];null!=S&&(a.ma=S,a.h.info("VER="+a.ma));var L=v[4];null!=L&&(a.za=L,a.h.info("SVER="+a.za));var q=v[5];null!=q&&"number"==typeof q&&0<q&&(a.K=c=1.5*q,a.h.info("backChannelRequestTimeoutMs_="+c)),c=a;var ie=u.g;if(ie){var he=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var xe=c.i;!xe.g&&(Dn(he,"spdy")||Dn(he,"quic")||Dn(he,"h2"))&&(xe.j=xe.l,xe.g=new Set,xe.h&&(jo(xe,xe.h),xe.h=null))}if(c.D){var lt=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;lt&&(c.sa=lt,Re(c.F,c.D,lt))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-u.F,a.h.info("Handshake RTT: "+a.O+"ms"));var Ct=u;if((c=a).oa=us(c,c.H?c.la:null,c.W),Ct.J){bs(c.i,Ct);var jt=Ct,_n=c.K;_n&&jt.setTimeout(_n),jt.B&&(ui(jt),Gs(jt)),c.g=Ct}else lo(c);0<a.l.length&&Go(a)}else"stop"!=v[0]&&"close"!=v[0]||li(a,7);else 3==a.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?li(a,7):ri(a):"noop"!=v[0]&&a.j&&a.j.wa(v),a.A=0)}ts(4)}catch(Fn){}}function qs(u,r){if(u.forEach&&"function"==typeof u.forEach)u.forEach(r,void 0);else if(Nt(u)||"string"==typeof u)pn(u,r,void 0);else{if(u.T&&"function"==typeof u.T)var a=u.T();else if(u.R&&"function"==typeof u.R)a=void 0;else if(Nt(u)||"string"==typeof u){a=[];for(var c=u.length,h=0;h<c;h++)a.push(h)}else for(h in a=[],c=0,u)a[c++]=h;h=(c=function(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(Nt(u)){for(var r=[],a=u.length,c=0;c<a;c++)r.push(u[c]);return r}for(c in r=[],a=0,u)r[a++]=u[c];return r}(u)).length;for(var v=0;v<h;v++)r.call(void 0,c[v],a&&a[v],u)}}function U(u,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else if(u)if(u instanceof U)for(a=u.T(),c=0;c<a.length;c++)this.set(a[c],u.get(a[c]));else for(c in u)this.set(c,u[c])}function W(u){if(u.i!=u.g.length){for(var r=0,a=0;r<u.g.length;){var c=u.g[r];B(u.h,c)&&(u.g[a++]=c),r++}u.g.length=a}if(u.i!=u.g.length){var h={};for(a=r=0;r<u.g.length;)B(h,c=u.g[r])||(u.g[a++]=c,h[c]=1),r++;u.g.length=a}}function B(u,r){return Object.prototype.hasOwnProperty.call(u,r)}(le=Vi.prototype).setTimeout=function(u){this.P=u},le.gb=function(u){u=u.target;var r=this.L;r&&3==xs(u)?r.l():this.Ia(u)},le.Ia=function(u){try{if(u==this.g)e:{var r=xs(this.g),a=this.g.Da(),c=this.g.ba();if(!(3>r)&&(3!=r||Jn||this.g&&(this.h.h||this.g.ga()||nu(this.g)))){this.I||4!=r||7==a||ts(8==a||0>=c?3:2),ui(this);var h=this.g.ba();this.N=h;t:if(Br(this)){var v=nu(this.g);u="";var S=v.length,L=4==xs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Pr(this),as(this);var q="";break t}this.h.i=new _t.TextDecoder}for(a=0;a<S;a++)this.h.h=!0,u+=this.h.i.decode(v[a],{stream:L&&a==S-1});v.splice(0,S),this.h.g+=u,this.C=0,q=this.h.g}else q=this.g.ga();if(this.i=200==h,function(u,r,a,c,h,v,S){u.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+v+" "+S})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var ie,he=this.g;if((ie=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zn(ie)){var xe=ie;break t}}xe=null}if(!(h=xe)){this.i=!1,this.o=3,Mr(12),Pr(this),as(this);break e}wr(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vs(this,h)}this.U?(Co(this,r,q),Jn&&this.i&&3==r&&(Ci(this.V,this.W,"tick",this.fb),this.W.start())):(wr(this.j,this.m,q,null),vs(this,q)),4==r&&Pr(this),this.i&&!this.I&&(4==r?vi(this.l,this):(this.i=!1,Gs(this)))}else 400==h&&0<q.indexOf("Unknown SID")?(this.o=3,Mr(12)):(this.o=0,Mr(13)),Pr(this),as(this)}}}catch(lt){}},le.fb=function(){if(this.g){var u=xs(this.g),r=this.g.ga();this.C<r.length&&(ui(this),Co(this,u,r),this.i&&4!=u&&Gs(this))}},le.cancel=function(){this.I=!0,Pr(this)},le.eb=function(){this.B=null;var u=Date.now();0<=u-this.Y?(function(u,r){u.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(ts(3),Mr(17)),Pr(this),this.o=2,as(this)):os(this,this.Y-u)},(le=U.prototype).R=function(){W(this);for(var u=[],r=0;r<this.g.length;r++)u.push(this.h[this.g[r]]);return u},le.T=function(){return W(this),this.g.concat()},le.get=function(u,r){return B(this.h,u)?this.h[u]:r},le.set=function(u,r){B(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=r},le.forEach=function(u,r){for(var a=this.T(),c=0;c<a.length;c++){var h=a[c],v=this.get(h);u.call(r,v,h,this)}};var Y=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function We(u,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof We){this.g=void 0!==r?r:u.g,F(this,u.j),this.s=u.s,P(this,u.i),M(this,u.m),this.l=u.l,r=u.h;var a=new ao;a.i=r.i,r.g&&(a.g=new U(r.g),a.h=r.h),z(this,a),this.o=u.o}else u&&(a=String(u).match(Y))?(this.g=!!r,F(this,a[1]||"",!0),this.s=er(a[2]||""),P(this,a[3]||"",!0),M(this,a[4]),this.l=er(a[5]||"",!0),z(this,a[6]||"",!0),this.o=er(a[7]||"")):(this.g=!!r,this.h=new ao(null,this.g))}function bt(u){return new We(u)}function F(u,r,a){u.j=a?er(r,!0):r,u.j&&(u.j=u.j.replace(/:$/,""))}function P(u,r,a){u.i=a?er(r,!0):r}function M(u,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);u.m=r}else u.m=null}function z(u,r,a){r instanceof ao?(u.h=r,function(u,r){r&&!u.j&&(on(u),u.i=null,u.g.forEach(function(a,c){var h=c.toLowerCase();c!=h&&(Du(this,c),Wa(this,h,a))},u)),u.j=r}(u.h,u.g)):(a||(r=gr(r,Ui)),u.h=new ao(r,u.g))}function Re(u,r,a){u.h.set(r,a)}function Ot(u){return Re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function er(u,r){return u?r?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,r,a){return"string"==typeof u?(u=encodeURI(u).replace(r,Kn),a&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Kn(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}We.prototype.toString=function(){var u=[],r=this.j;r&&u.push(gr(r,ni,!0),":");var a=this.i;return(a||"file"==r)&&(u.push("//"),(r=this.s)&&u.push(gr(r,ni,!0),"@"),u.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&u.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&u.push("/"),u.push(gr(a,"/"==a.charAt(0)?Es:zs,!0))),(a=this.h.toString())&&u.push("?",a),(a=this.o)&&u.push("#",gr(a,To)),u.join("")};var ni=/[#\/\?@]/g,zs=/[#\?:]/g,Es=/[#\?]/g,Ui=/[#\?@]/g,To=/#/g;function ao(u,r){this.h=this.g=null,this.i=u||null,this.j=!!r}function on(u){u.g||(u.g=new U,u.h=0,u.i&&function(u,r){if(u){u=u.split("&");for(var a=0;a<u.length;a++){var c=u[a].indexOf("="),h=null;if(0<=c){var v=u[a].substring(0,c);h=u[a].substring(c+1)}else v=u[a];r(v,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(u.i,function(r,a){u.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function Du(u,r){on(u),r=Ws(u,r),B(u.g.h,r)&&(u.i=null,u.h-=u.g.get(r).length,B((u=u.g).h,r)&&(delete u.h[r],u.i--,u.g.length>2*u.i&&W(u)))}function aa(u,r){return on(u),r=Ws(u,r),B(u.g.h,r)}function Wa(u,r,a){Du(u,r),0<a.length&&(u.i=null,u.g.set(Ws(u,r),ir(a)),u.h+=a.length)}function Ws(u,r){return r=String(r),u.j&&(r=r.toLowerCase()),r}(le=ao.prototype).add=function(u,r){on(this),this.i=null,u=Ws(this,u);var a=this.g.get(u);return a||this.g.set(u,a=[]),a.push(r),this.h+=1,this},le.forEach=function(u,r){on(this),this.g.forEach(function(a,c){pn(a,function(h){u.call(r,h,c,this)},this)},this)},le.T=function(){on(this);for(var u=this.g.R(),r=this.g.T(),a=[],c=0;c<r.length;c++)for(var h=u[c],v=0;v<h.length;v++)a.push(r[c]);return a},le.R=function(u){on(this);var r=[];if("string"==typeof u)aa(this,u)&&(r=Gn(r,this.g.get(Ws(this,u))));else{u=this.g.R();for(var a=0;a<u.length;a++)r=Gn(r,u[a])}return r},le.set=function(u,r){return on(this),this.i=null,aa(this,u=Ws(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[r]),this.h+=1,this},le.get=function(u,r){return u&&0<(u=this.R(u)).length?String(u[0]):r},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],r=this.g.T(),a=0;a<r.length;a++){var c=r[a],h=encodeURIComponent(String(c));c=this.R(c);for(var v=0;v<c.length;v++){var S=h;""!==c[v]&&(S+="="+encodeURIComponent(String(c[v]))),u.push(S)}}return this.i=u.join("&")};var Au=function(r,a){this.h=r,this.g=a};function Bi(u){this.l=u||wt,u=_t.PerformanceNavigationTiming?0<(u=_t.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(_t.g&&_t.g.Ea&&_t.g.Ea()&&_t.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wt=10;function Hn(u){return!!u.h||!!u.g&&u.g.size>=u.j}function Ka(u){return u.h?1:u.g?u.g.size:0}function Tr(u,r){return u.h?u.h==r:!!u.g&&u.g.has(r)}function jo(u,r){u.g?u.g.add(r):u.h=r}function bs(u,r){u.h&&u.h==r?u.h=null:u.g&&u.g.has(r)&&u.g.delete(r)}function _i(u){var r,a;if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){var c=u.i;try{for(var h=rt(u.g.values()),v=h.next();!v.done;v=h.next())c=c.concat(v.value.D)}catch(L){r={error:L}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return c}return ir(u.i)}function Ho(){}function ji(){this.g=new Ho}function Su(u,r,a){var c=a||"";try{qs(u,function(h,v){var S=h;xt(h)&&(S=Ee(h)),r.push(c+v+"="+encodeURIComponent(S))})}catch(h){throw r.push(c+"type="+encodeURIComponent("_badmap")),h}}function Do(u,r,a,c,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(c)}catch(v){}}function ws(u){this.l=u.$b||null,this.j=u.ib||!1}function Yr(u,r){kn.call(this),this.D=u,this.u=r,this.m=void 0,this.readyState=Hi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bi.prototype.cancel=function(){var u,r;if(this.i=_i(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=rt(this.g.values()),c=a.next();!c.done;c=a.next())c.value.cancel()}catch(v){u={error:v}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}this.g.clear()}},Ho.prototype.stringify=function(u){return _t.JSON.stringify(u,void 0)},Ho.prototype.parse=function(u){return _t.JSON.parse(u,void 0)},Gt(ws,Ns),ws.prototype.g=function(){return new Yr(this.l,this.j)},ws.prototype.i=function(u){return function(){return u}}({}),Gt(Yr,kn);var Hi=0;function Qa(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function Yi(u){u.readyState=4,u.l=null,u.j=null,u.A=null,Qi(u)}function Qi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(le=Yr.prototype).open=function(u,r){if(this.readyState!=Hi)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=r,this.readyState=1,Qi(this)},le.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(r.body=u),(this.D||_t).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yi(this)),this.readyState=Hi},le.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qi(this)),this.g&&(this.readyState=3,Qi(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==_t.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qa(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var r=u.value?u.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!u.done}))&&(this.response=this.responseText+=r)}u.done?Yi(this):Qi(this),3==this.readyState&&Qa(this)}},le.Ua=function(u){this.g&&(this.response=this.responseText=u,Yi(this))},le.Ta=function(u){this.g&&(this.response=u,Yi(this))},le.ha=function(){this.g&&Yi(this)},le.setRequestHeader=function(u,r){this.v.append(u,r)},le.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";for(var u=[],r=this.h.entries(),a=r.next();!a.done;)u.push((a=a.value)[0]+": "+a[1]),a=r.next();return u.join("\r\n")},Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Nu=_t.JSON.parse;function Or(u){kn.call(this),this.headers=new U,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$o,this.K=this.L=!1}Gt(Or,kn);var $o="",xu=/^https?$/i,Cs=["POST","PUT"];function Ja(u){return"content-type"==u.toLowerCase()}function Xa(u,r){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=r,u.m=5,eu(u),uo(u)}function eu(u){u.D||(u.D=!0,Cn(u,"complete"),Cn(u,"error"))}function ua(u){if(u.h&&void 0!==vt&&(!u.C[1]||4!=xs(u)||2!=u.ba()))if(u.v&&4==xs(u))Wi(u.Fa,0,u);else if(Cn(u,"readystatechange"),4==xs(u)){u.h=!1;try{var c,r=u.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(c=a)){var h;if(h=0===r){var v=String(u.H).match(Y)[1]||null;if(!v&&_t.self&&_t.self.location){var S=_t.self.location.protocol;v=S.substr(0,S.length-1)}h=!xu.test(v?v.toLowerCase():"")}c=h}if(c)Cn(u,"complete"),Cn(u,"success");else{u.m=6;try{var L=2<xs(u)?u.g.statusText:""}catch(q){L=""}u.j=L+" ["+u.ba()+"]",eu(u)}}finally{uo(u)}}}function uo(u,r){if(u.g){tu(u);var a=u.g,c=u.C[0]?dn:null;u.g=null,u.C=null,r||Cn(u,"ready");try{a.onreadystatechange=c}catch(h){}}}function tu(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(_t.clearTimeout(u.A),u.A=null)}function xs(u){return u.g?u.g.readyState:0}function nu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case $o:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(r){return null}}function la(u,r,a){e:{for(c in a){var c=!1;break e}c=!0}c||(a=function(u){var r="";return gt(u,function(a,c){r+=c,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof u?null!=a&&encodeURIComponent(String(a)):Re(u,r,a))}function Ca(u,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[u]||r}function Ta(u){this.za=0,this.l=[],this.h=new _r,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ca("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ca("baseRetryDelayMs",5e3,u),this.$a=Ca("retryDelaySeedMs",1e4,u),this.Ya=Ca("forwardChannelMaxRetries",2,u),this.ra=Ca("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Bi(u&&u.concurrentRequestLimit),this.Ca=new ji,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function ri(u){if(Ir(u),3==u.G){var r=u.V++,a=bt(u.F);Re(a,"SID",u.J),Re(a,"RID",r),Re(a,"TYPE","terminate"),So(u,a),(r=new Vi(u,u.h,r,void 0)).K=2,r.v=Ot(bt(a)),a=!1,_t.navigator&&_t.navigator.sendBeacon&&(a=_t.navigator.sendBeacon(r.v.toString(),"")),!a&&_t.Image&&((new Image).src=r.v,a=!0),a||(r.g=Ts(r.l,null),r.g.ea(r.v)),r.F=Date.now(),Gs(r)}Ia(u)}function ii(u){u.g&&(co(u),u.g.cancel(),u.g=null)}function Ir(u){ii(u),u.u&&(_t.clearTimeout(u.u),u.u=null),fa(u),u.i.cancel(),u.m&&("number"==typeof u.m&&_t.clearTimeout(u.m),u.m=null)}function ca(u,r){u.l.push(new Au(u.Za++,r)),3==u.G&&Go(u)}function Go(u){Hn(u.i)||u.m||(u.m=!0,qn(u.Ha,u),u.C=0)}function Ao(u,r){var a;a=r?r.m:u.V++;var c=bt(u.F);Re(c,"SID",u.J),Re(c,"RID",a),Re(c,"AID",u.U),So(u,c),u.o&&u.s&&la(c,u.o,u.s),a=new Vi(u,u.h,a,u.C+1),null===u.o&&(a.H=u.s),r&&(u.l=r.D.concat(u.l)),r=da(u,a,1e3),a.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),jo(u.i,a),Di(a,c,r)}function So(u,r){u.j&&qs({},function(a,c){Re(r,c,a)})}function da(u,r,a){a=Math.min(u.l.length,a);var c=u.j?we(u.j.Oa,u.j,u):null;e:for(var h=u.l,v=-1;;){var S=["count="+a];-1==v?0<a?S.push("ofs="+(v=h[0].h)):v=0:S.push("ofs="+v);for(var L=!0,q=0;q<a;q++){var ie=h[q].h,he=h[q].g;if(0>(ie-=v))v=Math.max(0,h[q].h-100),L=!1;else try{Su(he,S,"req"+ie+"_")}catch(xe){c&&c(he)}}if(L){c=S.join("&");break e}}return u=u.l.splice(0,a),r.D=u,c}function lo(u){u.g||u.u||(u.Y=1,qn(u.Ga,u),u.A=0)}function Rs(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Fi(we(u.Ga,u),ho(u,u.A)),u.A++,0))}function co(u){null!=u.B&&(_t.clearTimeout(u.B),u.B=null)}function ha(u){u.g=new Vi(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var r=bt(u.oa);Re(r,"RID","rpc"),Re(r,"SID",u.J),Re(r,"CI",u.N?"0":"1"),Re(r,"AID",u.U),So(u,r),Re(r,"TYPE","xmlhttp"),u.o&&u.s&&la(r,u.o,u.s),u.K&&u.g.setTimeout(u.K);var a=u.g;u=u.la,a.K=1,a.v=Ot(bt(r)),a.s=null,a.U=!0,_s(a,u)}function fa(u){null!=u.v&&(_t.clearTimeout(u.v),u.v=null)}function vi(u,r){var a=null;if(u.g==r){fa(u),co(u),u.g=null;var c=2}else{if(!Tr(u.i,r))return;a=r.D,bs(u.i,r),c=1}if(u.I=r.N,0!=u.G)if(r.i)if(1==c){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=u.C;Cn(c=ms(),new ns(c,a,r,h)),Go(u)}else lo(u);else if(3==(h=r.o)||0==h&&0<u.I||!(1==c&&function(u,r){return!(Ka(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=r.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Fi(we(u.Ha,u,r),ho(u,u.C)),u.C++,0)))}(u,r)||2==c&&Rs(u)))switch(a&&0<a.length&&(r=u.i,r.i=r.i.concat(a)),h){case 1:li(u,5);break;case 4:li(u,10);break;case 3:li(u,6);break;default:li(u,2)}}function ho(u,r){var a=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(a*=2),a*r}function li(u,r){if(u.h.info("Error code "+r),2==r){var a=null;u.j&&(a=null);var c=we(u.jb,u);a||(a=new We("//www.google.com/images/cleardot.gif"),_t.location&&"http"==_t.location.protocol||F(a,"https"),Ot(a)),function(u,r){var a=new _r;if(_t.Image){var c=new Image;c.onload=Dt(Do,a,c,"TestLoadImage: loaded",!0,r),c.onerror=Dt(Do,a,c,"TestLoadImage: error",!1,r),c.onabort=Dt(Do,a,c,"TestLoadImage: abort",!1,r),c.ontimeout=Dt(Do,a,c,"TestLoadImage: timeout",!1,r),_t.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=u}else r(!1)}(a.toString(),c)}else Mr(2);u.G=0,u.j&&u.j.va(r),Ia(u),Ir(u)}function Ia(u){u.G=0,u.I=-1,u.j&&((0!=_i(u.i).length||0!=u.l.length)&&(u.i.i.length=0,ir(u.l),u.l.length=0),u.j.ua())}function us(u,r,a){var c=function(u){return u instanceof We?bt(u):new We(u,void 0)}(a);if(""!=c.i)r&&P(c,r+"."+c.i),M(c,c.m);else{var h=_t.location;c=function(u,r,a,c){var h=new We(null,void 0);return u&&F(h,u),r&&P(h,r),a&&M(h,a),c&&(h.l=c),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return u.aa&&gt(u.aa,function(v,S){Re(c,S,v)}),a=u.sa,(r=u.D)&&a&&Re(c,r,a),Re(c,"VER",u.ma),So(u,c),c}function Ts(u,r,a){if(r&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Or(a&&u.Ba&&!u.qa?new ws({ib:!0}):u.qa)).L=u.H,r}function qo(){}function Ks(){if(ur&&!(10<=Number(bn)))throw Error("Environmental error: no available transport.")}function Ei(u,r){kn.call(this),this.g=new Ta(r),this.l=u,this.h=r&&r.messageUrlParams||null,u=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(u?u["X-WebChannel-Content-Type"]=r.messageContentType:u={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(u?u["X-WebChannel-Client-Profile"]=r.ya:u={"X-WebChannel-Client-Profile":r.ya}),this.g.P=u,(u=r&&r.httpHeadersOverwriteParam)&&!Zn(u)&&(this.g.o=u),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Zn(r)&&(this.g.D=r,null!==(u=this.h)&&r in u&&r in(u=this.h)&&delete u[r]),this.j=new Ms(this)}function Gr(u){Ii.call(this);var r=u.__sm__;if(r){e:{for(var a in r){u=a;break e}u=void 0}(this.i=u)&&(u=this.i,r=null!==r&&u in r?r[u]:void 0),this.data=r}else this.data=u}function Ru(){oo.call(this),this.status=1}function Ms(u){this.g=u}(le=Or.prototype).ea=function(u,r,a,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);r=r?r.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():is.g(),this.C=function(u){return u.h||(u.h=u.i())}(this.u?this.u:is),this.g.onreadystatechange=we(this.Fa,this);try{this.F=!0,this.g.open(r,String(u),!0),this.F=!1}catch(v){return void Xa(this,v)}u=a||"";var h=new U(this.headers);c&&qs(c,function(v,S){h.set(S,v)}),c=function(u){e:{for(var r=Ja,a=u.length,c="string"==typeof u?u.split(""):u,h=0;h<a;h++)if(h in c&&r.call(void 0,c[h],h,u)){r=h;break e}r=-1}return 0>r?null:"string"==typeof u?u.charAt(r):u[r]}(h.T()),a=_t.FormData&&u instanceof _t.FormData,!(0<=or(Cs,r))||c||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(v,S){this.g.setRequestHeader(S,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tu(this),0<this.B&&((this.K=function(u){return ur&&Wt()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=we(this.pa,this)):this.A=Wi(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(v){Xa(this,v)}},le.pa=function(){void 0!==vt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Cn(this,"timeout"),this.abort(8))},le.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Cn(this,"complete"),Cn(this,"abort"),uo(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uo(this,!0)),Or.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?ua(this):this.cb())},le.cb=function(){ua(this)},le.ba=function(){try{return 2<xs(this)?this.g.status:-1}catch(u){return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},le.Qa=function(u){if(this.g){var r=this.g.responseText;return u&&0==r.indexOf(u)&&(r=r.substring(u.length)),Nu(r)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=Ta.prototype).ma=8,le.G=1,le.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(r){}},le.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;var r=new Vi(this,this.h,u,void 0),a=this.s;if(this.P&&(a?ft(a=dt(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var c=0,h=0;h<this.l.length;h++){var v=this.l[h];if(void 0===(v="__data__"in v.g&&"string"==typeof(v=v.g.__data__)?v.length:void 0))break;if(4096<(c+=v)){c=h;break e}if(4096===c||h===this.l.length-1){c=h+1;break e}}c=1e3}else c=1e3;c=da(this,r,c),Re(h=bt(this.F),"RID",u),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),So(this,h),this.o&&a&&la(h,this.o,a),jo(this.i,r),this.Ra&&Re(h,"TYPE","init"),this.ja?(Re(h,"$req",c),Re(h,"SID","null"),r.$=!0,Di(r,h,null)):Di(r,h,c),this.G=2}}else 3==this.G&&(u?Ao(this,u):0==this.l.length||Hn(this.i)||Ao(this))},le.Ga=function(){if(this.u=null,ha(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Fi(we(this.bb,this),u)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mr(10),ii(this),ha(this))},le.ab=function(){null!=this.v&&(this.v=null,ii(this),Rs(this),Mr(19))},le.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Mr(2)):(this.h.info("Failed to ping google.com"),Mr(1))},(le=qo.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},Ks.prototype.g=function(u,r){return new Ei(u,r)},Gt(Ei,kn),Ei.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,r=this.l,a=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),qn(we(u.hb,u,r))),Mr(0),u.W=r,u.aa=a||{},u.N=u.X,u.F=us(u,null,u.W),Go(u)},Ei.prototype.close=function(){ri(this.g)},Ei.prototype.u=function(u){if("string"==typeof u){var r={};r.__data__=u,ca(this.g,r)}else this.v?((r={}).__data__=Ee(u),ca(this.g,r)):ca(this.g,u)},Ei.prototype.M=function(){this.g.j=null,delete this.j,ri(this.g),delete this.g,Ei.Z.M.call(this)},Gt(Gr,Ii),Gt(Ru,oo),Gt(Ms,qo),Ms.prototype.xa=function(){Cn(this.g,"a")},Ms.prototype.wa=function(u){Cn(this.g,new Gr(u))},Ms.prototype.va=function(u){Cn(this.g,new Ru(u))},Ms.prototype.ua=function(){Cn(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Ei.prototype.send=Ei.prototype.u,Ei.prototype.open=Ei.prototype.m,Ei.prototype.close=Ei.prototype.close,Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,mi.COMPLETE="complete",Li.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",kn.prototype.listen=kn.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var b=Ti,w=mi,R=Cr,Z_PROXY=10,Z_NOPROXY=11,J=ws,ce=Li,_e=Or;class Tt{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");let qt="9.0.1";const sn=new Pt.Yd("@firebase/firestore");function Rn(){return sn.logLevel}function ut(u,...r){if(sn.logLevel<=Pt.in.DEBUG){const a=r.map(Dr);sn.debug(`Firestore (${qt}): ${u}`,...a)}}function un(u,...r){if(sn.logLevel<=Pt.in.ERROR){const a=r.map(Dr);sn.error(`Firestore (${qt}): ${u}`,...a)}}function lr(u,...r){if(sn.logLevel<=Pt.in.WARN){const a=r.map(Dr);sn.warn(`Firestore (${qt}): ${u}`,...a)}}function Dr(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(a){return u}}function Ht(u="Unexpected state"){const r=`FIRESTORE (${qt}) INTERNAL ASSERTION FAILED: `+u;throw un(r),new Error(r)}function Jt(u,r){u||Ht()}function x(u,r){return u}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class O{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class j{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,a){r.enqueueRetryable(()=>a(Tt.UNAUTHENTICATED))}shutdown(){}}class de{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}shutdown(){this.changeListener=null}}class Ie{constructor(r){this.t=r,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,a){var c=this;let h=this.i;const v=q=>this.i!==h?(h=this.i,a(q)):Promise.resolve();let S=new O;this.o=()=>{this.i++,this.currentUser=this.u(),S.resolve(),S=new O,r.enqueueRetryable(()=>v(this.currentUser))};const L=q=>{r.enqueueRetryable((0,pe.Z)(function*(){ut("FirebaseCredentialsProvider","Auth detected"),c.auth=q,c.auth.addAuthTokenListener(c.o),yield S.promise,yield v(c.currentUser)}))};this.t.onInit(q=>L(q)),setTimeout(()=>{if(!this.auth){const q=this.t.getImmediate({optional:!0});q?L(q):(ut("FirebaseCredentialsProvider","Auth not yet detected"),S.resolve(),S=new O)}},0),r.enqueueRetryable((0,pe.Z)(function*(){0===c.i&&(yield S.promise,yield v(c.currentUser))}))}getToken(){const r=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(c=>this.i!==r?(ut("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(Jt("string"==typeof c.accessToken),new j(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return Jt(null===r||"string"==typeof r),new Tt(r)}}class pt{constructor(r,a,c){this.h=r,this.l=a,this.m=c,this.type="FirstParty",this.user=Tt.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},a=this.h.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class Zt{constructor(r,a,c){this.h=r,this.l=a,this.m=c}getToken(){return Promise.resolve(new pt(this.h,this.l,this.m))}start(r,a){r.enqueueRetryable(()=>a(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ct{constructor(r,a){this.previousValue=r,a&&(a.sequenceNumberHandler=c=>this.g(c),this.p=c=>a.writeSequenceNumber(c))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function Mt(u){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(u);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let c=0;c<u;c++)a[c]=Math.floor(256*Math.random());return a}ct.T=-1;class zt{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let c="";for(;c.length<20;){const h=Mt(40);for(let v=0;v<h.length;++v)c.length<20&&h[v]<a&&(c+=r.charAt(h[v]%r.length))}return c}}function At(u,r){return u<r?-1:u>r?1:0}function zn(u,r,a){return u.length===r.length&&u.every((c,h)=>a(c,r[h]))}function xr(u){return u+"\0"}class xn{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return xn.fromMillis(Date.now())}static fromDate(r){return xn.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),c=Math.floor(1e6*(r-1e3*a));return new xn(a,c)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?At(this.nanoseconds,r.nanoseconds):At(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hn{constructor(r){this.timestamp=r}static fromTimestamp(r){return new hn(r)}static min(){return new hn(new xn(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Yn(u){let r=0;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r++;return r}function Ji(u,r){for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&r(a,u[a])}function ls(u){for(const r in u)if(Object.prototype.hasOwnProperty.call(u,r))return!1;return!0}class Ys{constructor(r,a,c){void 0===a?a=0:a>r.length&&Ht(),void 0===c?c=r.length-a:c>r.length-a&&Ht(),this.segments=r,this.offset=a,this.len=c}get length(){return this.len}isEqual(r){return 0===Ys.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof Ys?r.forEach(c=>{a.push(c)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,c=this.limit();a<c;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const c=Math.min(r.length,a.length);for(let h=0;h<c;h++){const v=r.get(h),S=a.get(h);if(v<S)return-1;if(v>S)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class tr extends Ys{construct(r,a,c){return new tr(r,a,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const c of r){if(c.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);a.push(...c.split("/").filter(h=>h.length>0))}return new tr(a)}static emptyPath(){return new tr([])}}const No=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Ys{construct(r,a,c){return new Un(r,a,c)}static isValidIdentifier(r){return No.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(r){const a=[];let c="",h=0;const v=()=>{if(0===c.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(c),c=""};let S=!1;for(;h<r.length;){const L=r[h];if("\\"===L){if(h+1===r.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const q=r[h+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);c+=q,h+=2}else"`"===L?(S=!S,h++):"."!==L||S?(c+=L,h++):(v(),h++)}if(v(),S)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Un(a)}static emptyPath(){return new Un([])}}class Aa{constructor(r){this.fields=r,r.sort(Un.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return zn(this.fields,r.fields,(a,c)=>a.isEqual(c))}}class Ai{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new Ai(a)}static fromUint8Array(r){const a=function(c){let h="";for(let v=0;v<c.length;++v)h+=String.fromCharCode(c[v]);return h}(r);return new Ai(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let c=0;c<r.length;c++)a[c]=r.charCodeAt(c);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return At(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Ai.EMPTY_BYTE_STRING=new Ai("");const Kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pa(u){if(Jt(!!u),"string"==typeof u){let r=0;const a=Kc.exec(u);if(Jt(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const c=new Date(u);return{seconds:Math.floor(c.getTime()/1e3),nanos:r}}return{seconds:Si(u.seconds),nanos:Si(u.nanos)}}function Si(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function ru(u){return"string"==typeof u?Ai.fromBase64String(u):Ai.fromUint8Array(u)}function Mu(u){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==u?void 0:u.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function iu(u){const r=u.mapValue.fields.__previous_value__;return Mu(r)?iu(r):r}function Ou(u){const r=pa(u.mapValue.fields.__local_write_time__.timestampValue);return new xn(r.seconds,r.nanos)}function Pu(u){return null==u}function Sa(u){return 0===u&&1/u==-1/0}function Hf(u){return"number"==typeof u&&Number.isInteger(u)&&!Sa(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}class $t{constructor(r){this.path=r}static fromPath(r){return new $t(tr.fromString(r))}static fromName(r){return new $t(tr.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===tr.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return tr.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new $t(new tr(r.slice()))}}function xo(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?Mu(u)?4:10:Ht()}function Qs(u,r){const a=xo(u);if(a!==xo(r))return!1;switch(a){case 0:return!0;case 1:return u.booleanValue===r.booleanValue;case 4:return Ou(u).isEqual(Ou(r));case 3:return function(c,h){if("string"==typeof c.timestampValue&&"string"==typeof h.timestampValue&&c.timestampValue.length===h.timestampValue.length)return c.timestampValue===h.timestampValue;const v=pa(c.timestampValue),S=pa(h.timestampValue);return v.seconds===S.seconds&&v.nanos===S.nanos}(u,r);case 5:return u.stringValue===r.stringValue;case 6:return h=r,ru(u.bytesValue).isEqual(ru(h.bytesValue));case 7:return u.referenceValue===r.referenceValue;case 8:return function(c,h){return Si(c.geoPointValue.latitude)===Si(h.geoPointValue.latitude)&&Si(c.geoPointValue.longitude)===Si(h.geoPointValue.longitude)}(u,r);case 2:return function(c,h){if("integerValue"in c&&"integerValue"in h)return Si(c.integerValue)===Si(h.integerValue);if("doubleValue"in c&&"doubleValue"in h){const v=Si(c.doubleValue),S=Si(h.doubleValue);return v===S?Sa(v)===Sa(S):isNaN(v)&&isNaN(S)}return!1}(u,r);case 9:return zn(u.arrayValue.values||[],r.arrayValue.values||[],Qs);case 10:return function(c,h){const v=c.mapValue.fields||{},S=h.mapValue.fields||{};if(Yn(v)!==Yn(S))return!1;for(const L in v)if(v.hasOwnProperty(L)&&(void 0===S[L]||!Qs(v[L],S[L])))return!1;return!0}(u,r);default:return Ht()}var h}function ic(u,r){return void 0!==(u.values||[]).find(a=>Qs(a,r))}function Na(u,r){const a=xo(u),c=xo(r);if(a!==c)return At(a,c);switch(a){case 0:return 0;case 1:return At(u.booleanValue,r.booleanValue);case 2:return function(h,v){const S=Si(h.integerValue||h.doubleValue),L=Si(v.integerValue||v.doubleValue);return S<L?-1:S>L?1:S===L?0:isNaN(S)?isNaN(L)?0:-1:1}(u,r);case 3:return Js(u.timestampValue,r.timestampValue);case 4:return Js(Ou(u),Ou(r));case 5:return At(u.stringValue,r.stringValue);case 6:return function(h,v){const S=ru(h),L=ru(v);return S.compareTo(L)}(u.bytesValue,r.bytesValue);case 7:return function(h,v){const S=h.split("/"),L=v.split("/");for(let q=0;q<S.length&&q<L.length;q++){const ie=At(S[q],L[q]);if(0!==ie)return ie}return At(S.length,L.length)}(u.referenceValue,r.referenceValue);case 8:return function(h,v){const S=At(Si(h.latitude),Si(v.latitude));return 0!==S?S:At(Si(h.longitude),Si(v.longitude))}(u.geoPointValue,r.geoPointValue);case 9:return function(h,v){const S=h.values||[],L=v.values||[];for(let q=0;q<S.length&&q<L.length;++q){const ie=Na(S[q],L[q]);if(ie)return ie}return At(S.length,L.length)}(u.arrayValue,r.arrayValue);case 10:return function(h,v){const S=h.fields||{},L=Object.keys(S),q=v.fields||{},ie=Object.keys(q);L.sort(),ie.sort();for(let he=0;he<L.length&&he<ie.length;++he){const xe=At(L[he],ie[he]);if(0!==xe)return xe;const lt=Na(S[L[he]],q[ie[he]]);if(0!==lt)return lt}return At(L.length,ie.length)}(u.mapValue,r.mapValue);default:throw Ht()}}function Js(u,r){if("string"==typeof u&&"string"==typeof r&&u.length===r.length)return At(u,r);const a=pa(u),c=pa(r),h=At(a.seconds,c.seconds);return 0!==h?h:At(a.nanos,c.nanos)}function Os(u){return ku(u)}function ku(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(c){const h=pa(c);return`time(${h.seconds},${h.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?ru(u.bytesValue).toBase64():"referenceValue"in u?$t.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(r=u.geoPointValue).latitude},${r.longitude})`:"arrayValue"in u?function(c){let h="[",v=!0;for(const S of c.values||[])v?v=!1:h+=",",h+=ku(S);return h+"]"}(u.arrayValue):"mapValue"in u?function(c){const h=Object.keys(c.fields||{}).sort();let v="{",S=!0;for(const L of h)S?S=!1:v+=",",v+=`${L}:${ku(c.fields[L])}`;return v+"}"}(u.mapValue):Ht();var r}function fo(u,r){return{referenceValue:`projects/${u.projectId}/databases/${u.database}/documents/${r.path.canonicalString()}`}}function po(u){return!!u&&"integerValue"in u}function sc(u){return!!u&&"arrayValue"in u}function oc(u){return!!u&&"nullValue"in u}function Xd(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Yc(u){return!!u&&"mapValue"in u}function Fu(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const r={mapValue:{fields:{}}};return Ji(u.mapValue.fields,(a,c)=>r.mapValue.fields[a]=Fu(c)),r}if(u.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(u.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=Fu(u.arrayValue.values[a]);return r}return Object.assign({},u)}class Ni{constructor(r){this.value=r}static empty(){return new Ni({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let c=0;c<r.length-1;++c)if(a=(a.mapValue.fields||{})[r.get(c)],!Yc(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=Fu(a)}setAll(r){let a=Un.emptyPath(),c={},h=[];r.forEach((S,L)=>{if(!a.isImmediateParentOf(L)){const q=this.getFieldsMap(a);this.applyChanges(q,c,h),c={},h=[],a=L.popLast()}S?c[L.lastSegment()]=Fu(S):h.push(L.lastSegment())});const v=this.getFieldsMap(a);this.applyChanges(v,c,h)}delete(r){const a=this.field(r.popLast());Yc(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return Qs(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let c=0;c<r.length;++c){let h=a.mapValue.fields[r.get(c)];Yc(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(c)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,c){Ji(a,(h,v)=>r[h]=v);for(const h of c)delete r[h]}clone(){return new Ni(Fu(this.value))}}function cs(u){const r=[];return Ji(u.fields,(a,c)=>{const h=new Un([a]);if(Yc(c)){const v=cs(c.mapValue).fields;if(0===v.length)r.push(h);else for(const S of v)r.push(h.child(S))}else r.push(h)}),new Aa(r)}class kr{constructor(r,a,c,h,v){this.key=r,this.documentType=a,this.version=c,this.data=h,this.documentState=v}static newInvalidDocument(r){return new kr(r,0,hn.min(),Ni.empty(),0)}static newFoundDocument(r,a,c){return new kr(r,1,a,c,0)}static newNoDocument(r,a){return new kr(r,2,a,Ni.empty(),0)}static newUnknownDocument(r,a){return new kr(r,3,a,Ni.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof kr&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new kr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xa{constructor(r,a=null,c=[],h=[],v=null,S=null,L=null){this.path=r,this.collectionGroup=a,this.orderBy=c,this.filters=h,this.limit=v,this.startAt=S,this.endAt=L,this.A=null}}function eh(u,r=null,a=[],c=[],h=null,v=null,S=null){return new xa(u,r,a,c,h,v,S)}function Lu(u){const r=x(u);if(null===r.A){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(c=>function(u){return u.field.canonicalString()+u.op.toString()+Os(u.value)}(c)).join(","),a+="|ob:",a+=r.orderBy.map(c=>{return(h=c).field.canonicalString()+h.dir;var h}).join(","),Pu(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=uc(r.startAt)),r.endAt&&(a+="|ub:",a+=uc(r.endAt)),r.A=a}return r.A}function Vu(u,r){if(u.limit!==r.limit||u.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<u.orderBy.length;h++)if(!Gf(u.orderBy[h],r.orderBy[h]))return!1;if(u.filters.length!==r.filters.length)return!1;for(let h=0;h<u.filters.length;h++)if((a=u.filters[h]).op!==(c=r.filters[h]).op||!a.field.isEqual(c.field)||!Qs(a.value,c.value))return!1;var a,c;return u.collectionGroup===r.collectionGroup&&!!u.path.isEqual(r.path)&&!!ju(u.startAt,r.startAt)&&ju(u.endAt,r.endAt)}function ac(u){return $t.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Is extends class{}{constructor(r,a,c){super(),this.field=r,this.op=a,this.value=c}static create(r,a,c){return r.isKeyField()?"in"===a||"not-in"===a?this.R(r,a,c):new bl(r,a,c):"array-contains"===a?new su(r,c):"in"===a?new Bu(r,c):"not-in"===a?new Ra(r,c):"array-contains-any"===a?new th(r,c):new Is(r,a,c)}static R(r,a,c){return"in"===a?new Jc(r,c):new Uu(r,c)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.P(Na(a,this.value)):null!==a&&xo(this.value)===xo(a)&&this.P(Na(a,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Ht()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class bl extends Is{constructor(r,a,c){super(r,a,c),this.key=$t.fromName(c.referenceValue)}matches(r){const a=$t.comparator(r.key,this.key);return this.P(a)}}class Jc extends Is{constructor(r,a){super(r,"in",a),this.keys=Zf(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class Uu extends Is{constructor(r,a){super(r,"not-in",a),this.keys=Zf(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function Zf(u,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(c=>$t.fromName(c.referenceValue))}class su extends Is{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return sc(a)&&ic(a.arrayValue,this.value)}}class Bu extends Is{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&ic(this.value.arrayValue,a)}}class Ra extends Is{constructor(r,a){super(r,"not-in",a)}matches(r){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!ic(this.value.arrayValue,a)}}class th extends Is{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!sc(a)||!a.arrayValue.values)&&a.arrayValue.values.some(c=>ic(this.value.arrayValue,c))}}class ou{constructor(r,a){this.position=r,this.before=a}}function uc(u){return`${u.before?"b":"a"}:${u.position.map(r=>Os(r)).join(",")}`}class ga{constructor(r,a="asc"){this.field=r,this.dir=a}}function Gf(u,r){return u.dir===r.dir&&u.field.isEqual(r.field)}function wl(u,r,a){let c=0;for(let h=0;h<u.position.length;h++){const v=r[h],S=u.position[h];if(c=v.field.isKeyField()?$t.comparator($t.fromName(S.referenceValue),a.key):Na(S,a.data.field(v.field)),"desc"===v.dir&&(c*=-1),0!==c)break}return u.before?c<=0:c<0}function ju(u,r){if(null===u)return null===r;if(null===r||u.before!==r.before||u.position.length!==r.position.length)return!1;for(let a=0;a<u.position.length;a++)if(!Qs(u.position[a],r.position[a]))return!1;return!0}class Ds{constructor(r,a=null,c=[],h=[],v=null,S="F",L=null,q=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=c,this.filters=h,this.limit=v,this.limitType=S,this.startAt=L,this.endAt=q,this.V=null,this.S=null}}function lc(u,r,a,c,h,v,S,L){return new Ds(u,r,a,c,h,v,S,L)}function jr(u){return new Ds(u)}function Cl(u){return!Pu(u.limit)&&"F"===u.limitType}function Xc(u){return!Pu(u.limit)&&"L"===u.limitType}function Ro(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}function au(u){for(const r of u.filters)if(r.v())return r.field;return null}function ed(u){return null!==u.collectionGroup}function Ma(u){const r=x(u);if(null===r.V){r.V=[];const a=au(r),c=Ro(r);if(null!==a&&null===c)a.isKeyField()||r.V.push(new ga(a)),r.V.push(new ga(Un.keyField(),"asc"));else{let h=!1;for(const v of r.explicitOrderBy)r.V.push(v),v.field.isKeyField()&&(h=!0);if(!h){const v=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new ga(Un.keyField(),v))}}}return r.V}function Xs(u){const r=x(u);if(!r.S)if("F"===r.limitType)r.S=eh(r.path,r.collectionGroup,Ma(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const v of Ma(r))a.push(new ga(v.field,"desc"===v.dir?"asc":"desc"));const c=r.endAt?new ou(r.endAt.position,!r.endAt.before):null,h=r.startAt?new ou(r.startAt.position,!r.startAt.before):null;r.S=eh(r.path,r.collectionGroup,a,r.filters,r.limit,c,h)}return r.S}function cc(u,r,a){return new Ds(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),r,a,u.startAt,u.endAt)}function Wo(u,r){return Vu(Xs(u),Xs(r))&&u.limitType===r.limitType}function Ko(u){return`${Lu(Xs(u))}|lt:${u.limitType}`}function Hu(u){return`Query(target=${function(u){let r=u.path.canonicalString();return null!==u.collectionGroup&&(r+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(r+=`, filters: [${u.filters.map(a=>{return`${(c=a).field.canonicalString()} ${c.op} ${Os(c.value)}`;var c}).join(", ")}]`),Pu(u.limit)||(r+=", limit: "+u.limit),u.orderBy.length>0&&(r+=`, orderBy: [${u.orderBy.map(a=>{return`${(c=a).field.canonicalString()} (${c.dir})`;var c}).join(", ")}]`),u.startAt&&(r+=", startAt: "+uc(u.startAt)),u.endAt&&(r+=", endAt: "+uc(u.endAt)),`Target(${r})`}(Xs(u))}; limitType=${u.limitType})`}function go(u,r){return r.isFoundDocument()&&function(a,c){const h=c.key.path;return null!==a.collectionGroup?c.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):$t.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(u,r)&&function(a,c){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===c.data.field(h.field))return!1;return!0}(u,r)&&function(a,c){for(const h of a.filters)if(!h.matches(c))return!1;return!0}(u,r)&&(c=r,!((a=u).startAt&&!wl(a.startAt,Ma(a),c)||a.endAt&&wl(a.endAt,Ma(a),c)));var a,c}function nh(u){return(r,a)=>{let c=!1;for(const h of Ma(u)){const v=rh(h,r,a);if(0!==v)return v;c=c||h.field.isKeyField()}return 0}}function rh(u,r,a){const c=u.field.isKeyField()?$t.comparator(r.key,a.key):function(h,v,S){const L=v.data.field(h),q=S.data.field(h);return null!==L&&null!==q?Na(L,q):Ht()}(u.field,r,a);switch(u.dir){case"asc":return c;case"desc":return-1*c;default:return Ht()}}function dc(u,r){if(u.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sa(r)?"-0":r}}function Tl(u){return{integerValue:""+u}}function Il(u,r){return Hf(r)?Tl(r):dc(u,r)}class hc{constructor(){this._=void 0}}function qf(u,r,a){return u instanceof Gu?function(c,h){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return h&&(v.fields.__previous_value__=h),{mapValue:v}}(a,r):u instanceof uu?td(u,r):u instanceof lu?zf(u,r):function(c,h){const v=Zu(c,h),S=fc(v)+fc(c.C);return po(v)&&po(c.C)?Tl(S):dc(c.N,S)}(u,r)}function $u(u,r,a){return u instanceof uu?td(u,r):u instanceof lu?zf(u,r):a}function Zu(u,r){return u instanceof qu?po(a=r)||(c=a)&&"doubleValue"in c?r:{integerValue:0}:null;var c,a}class Gu extends hc{}class uu extends hc{constructor(r){super(),this.elements=r}}function td(u,r){const a=ih(r);for(const c of u.elements)a.some(h=>Qs(h,c))||a.push(c);return{arrayValue:{values:a}}}class lu extends hc{constructor(r){super(),this.elements=r}}function zf(u,r){let a=ih(r);for(const c of u.elements)a=a.filter(h=>!Qs(h,c));return{arrayValue:{values:a}}}class qu extends hc{constructor(r,a){super(),this.N=r,this.C=a}}function fc(u){return Si(u.integerValue||u.doubleValue)}function ih(u){return sc(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class Yo{constructor(r,a){this.field=r,this.transform=a}}class cu{constructor(r,a){this.version=r,this.transformResults=a}}class bi{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new bi}static exists(r){return new bi(void 0,r)}static updateTime(r){return new bi(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function zu(u,r){return void 0!==u.updateTime?r.isFoundDocument()&&r.version.isEqual(u.updateTime):void 0===u.exists||u.exists===r.isFoundDocument()}class rd{}function pc(u,r,a){u instanceof Qo?function(c,h,v){const S=c.value.clone(),L=ah(c.fieldTransforms,h,v.transformResults);S.setAll(L),h.convertToFoundDocument(v.version,S).setHasCommittedMutations()}(u,r,a):u instanceof Ps?function(c,h,v){if(!zu(c.precondition,h))return void h.convertToUnknownDocument(v.version);const S=ah(c.fieldTransforms,h,v.transformResults),L=h.data;L.setAll(oh(c)),L.setAll(S),h.convertToFoundDocument(v.version,L).setHasCommittedMutations()}(u,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function Dl(u,r,a){var h;u instanceof Qo?function(c,h,v){if(!zu(c.precondition,h))return;const S=c.value.clone(),L=gc(c.fieldTransforms,v,h);S.setAll(L),h.convertToFoundDocument(sd(h),S).setHasLocalMutations()}(u,r,a):u instanceof Ps?function(c,h,v){if(!zu(c.precondition,h))return;const S=gc(c.fieldTransforms,v,h),L=h.data;L.setAll(oh(c)),L.setAll(S),h.convertToFoundDocument(sd(h),L).setHasLocalMutations()}(u,r,a):zu(u.precondition,h=r)&&h.convertToNoDocument(hn.min())}function sh(u,r){let a=null;for(const c of u.fieldTransforms){const h=r.data.field(c.field),v=Zu(c.transform,h||null);null!=v&&(null==a&&(a=Ni.empty()),a.set(c.field,v))}return a||null}function id(u,r){return u.type===r.type&&!!u.key.isEqual(r.key)&&!!u.precondition.isEqual(r.precondition)&&(c=r.fieldTransforms,!!(void 0===(a=u.fieldTransforms)&&void 0===c||a&&c&&zn(a,c,(h,v)=>function(u,r){return u.field.isEqual(r.field)&&(c=r.transform,(a=u.transform)instanceof uu&&c instanceof uu||a instanceof lu&&c instanceof lu?zn(a.elements,c.elements,Qs):a instanceof qu&&c instanceof qu?Qs(a.C,c.C):a instanceof Gu&&c instanceof Gu);var a,c}(h,v))))&&(0===u.type?u.value.isEqual(r.value):1!==u.type||u.data.isEqual(r.data)&&u.fieldMask.isEqual(r.fieldMask));var a,c}function sd(u){return u.isFoundDocument()?u.version:hn.min()}class Qo extends rd{constructor(r,a,c,h=[]){super(),this.key=r,this.value=a,this.precondition=c,this.fieldTransforms=h,this.type=0}}class Ps extends rd{constructor(r,a,c,h,v=[]){super(),this.key=r,this.data=a,this.fieldMask=c,this.precondition=h,this.fieldTransforms=v,this.type=1}}function oh(u){const r=new Map;return u.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const c=u.data.field(a);r.set(a,c)}}),r}function ah(u,r,a){const c=new Map;Jt(u.length===a.length);for(let h=0;h<a.length;h++){const v=u[h],S=v.transform,L=r.data.field(v.field);c.set(v.field,$u(S,L,a[h]))}return c}function gc(u,r,a){const c=new Map;for(const h of u){const v=h.transform,S=a.data.field(h.field);c.set(h.field,qf(v,S,r))}return c}class Al extends rd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class eo extends rd{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class Wu{constructor(r){this.count=r}}var ci,nr;function uh(u){switch(u){case I.OK:return Ht();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return Ht()}}function lh(u){if(void 0===u)return un("GRPC error has no .code"),I.UNKNOWN;switch(u){case ci.OK:return I.OK;case ci.CANCELLED:return I.CANCELLED;case ci.UNKNOWN:return I.UNKNOWN;case ci.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case ci.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case ci.INTERNAL:return I.INTERNAL;case ci.UNAVAILABLE:return I.UNAVAILABLE;case ci.UNAUTHENTICATED:return I.UNAUTHENTICATED;case ci.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case ci.NOT_FOUND:return I.NOT_FOUND;case ci.ALREADY_EXISTS:return I.ALREADY_EXISTS;case ci.PERMISSION_DENIED:return I.PERMISSION_DENIED;case ci.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case ci.ABORTED:return I.ABORTED;case ci.OUT_OF_RANGE:return I.OUT_OF_RANGE;case ci.UNIMPLEMENTED:return I.UNIMPLEMENTED;case ci.DATA_LOSS:return I.DATA_LOSS;default:return Ht()}}(nr=ci||(ci={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";class di{constructor(r,a){this.comparator=r,this.root=a||$i.EMPTY}insert(r,a){return new di(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(r){return new di(this.comparator,this.root.remove(r,this.comparator).copy(null,null,$i.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const c=this.comparator(r,a.key);if(0===c)return a.value;c<0?a=a.left:c>0&&(a=a.right)}return null}indexOf(r){let a=0,c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return a+c.left.size;h<0?c=c.left:(a+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,c)=>(r(a,c),!1))}toString(){const r=[];return this.inorderTraversal((a,c)=>(r.push(`${a}:${c}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new mc(this.root,r,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new mc(this.root,r,this.comparator,!0)}}class mc{constructor(r,a,c,h){this.isReverse=h,this.nodeStack=[];let v=1;for(;!r.isEmpty();)if(v=a?c(r.key,a):1,h&&(v*=-1),v<0)r=this.isReverse?r.left:r.right;else{if(0===v){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class $i{constructor(r,a,c,h,v){this.key=r,this.value=a,this.color=null!=c?c:$i.RED,this.left=null!=h?h:$i.EMPTY,this.right=null!=v?v:$i.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,c,h,v){return new $i(null!=r?r:this.key,null!=a?a:this.value,null!=c?c:this.color,null!=h?h:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,c){let h=this;const v=c(r,h.key);return h=v<0?h.copy(null,null,null,h.left.insert(r,a,c),null):0===v?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,c)),h.fixUp()}removeMin(){if(this.left.isEmpty())return $i.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let c,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return $i.EMPTY;c=h.right.min(),h=h.copy(c.key,c.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,$i.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,$i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const r=this.left.check();if(r!==this.right.check())throw Ht();return r+(this.isRed()?0:1)}}$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1,$i.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(u,r,a,c,h){return this}insert(u,r,a){return new $i(u,r)}remove(u,r){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class si{constructor(r){this.comparator=r,this.data=new di(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,c)=>(r(a),!1))}forEachInRange(r,a){const c=this.data.getIteratorFrom(r[0]);for(;c.hasNext();){const h=c.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let c;for(c=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();c.hasNext();)if(!r(c.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(r){return new ch(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(c=>{a=a.add(c)}),a}isEqual(r){if(!(r instanceof si)||this.size!==r.size)return!1;const a=this.data.getIterator(),c=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,v=c.getNext().key;if(0!==this.comparator(h,v))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new si(this.comparator);return a.data=r,a}}class ch{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Wf=new di($t.comparator);function to(){return Wf}const dh=new di($t.comparator);function od(){return dh}const Sl=new di($t.comparator);function Nl(){return Sl}const mo=new si($t.comparator);function cr(...u){let r=mo;for(const a of u)r=r.add(a);return r}const hh=new si(At);function Oa(){return hh}class Ku{constructor(r,a,c,h,v){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=c,this.documentUpdates=h,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(r,a){const c=new Map;return c.set(r,yc.createSynthesizedTargetChangeForCurrentChange(r,a)),new Ku(hn.min(),c,Oa(),to(),cr())}}class yc{constructor(r,a,c,h,v){this.resumeToken=r,this.current=a,this.addedDocuments=c,this.modifiedDocuments=h,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(r,a){return new yc(Ai.EMPTY_BYTE_STRING,a,cr(),cr(),cr())}}class ad{constructor(r,a,c,h){this.k=r,this.removedTargetIds=a,this.key=c,this.$=h}}class fh{constructor(r,a){this.targetId=r,this.O=a}}class _c{constructor(r,a,c=Ai.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=c,this.cause=h}}class vc{constructor(){this.F=0,this.M=Ec(),this.L=Ai.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=cr(),a=cr(),c=cr();return this.M.forEach((h,v)=>{switch(v){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:c=c.add(h);break;default:Ht()}}),new yc(this.L,this.B,r,a,c)}G(){this.U=!1,this.M=Ec()}H(r,a){this.U=!0,this.M=this.M.insert(r,a)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class ud{constructor(r){this.tt=r,this.et=new Map,this.nt=to(),this.st=Kf(),this.it=new si(At)}rt(r){for(const a of r.k)r.$&&r.$.isFoundDocument()?this.ot(a,r.$):this.at(a,r.key,r.$);for(const a of r.removedTargetIds)this.at(a,r.key,r.$)}ct(r){this.forEachTarget(r,a=>{const c=this.ut(a);switch(r.state){case 0:this.ht(a)&&c.j(r.resumeToken);break;case 1:c.X(),c.q||c.G(),c.j(r.resumeToken);break;case 2:c.X(),c.q||this.removeTarget(a);break;case 3:this.ht(a)&&(c.Z(),c.j(r.resumeToken));break;case 4:this.ht(a)&&(this.lt(a),c.j(r.resumeToken));break;default:Ht()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.et.forEach((c,h)=>{this.ht(h)&&a(h)})}ft(r){const a=r.targetId,c=r.O.count,h=this.dt(a);if(h){const v=h.target;if(ac(v))if(0===c){const S=new $t(v.path);this.at(a,S,kr.newNoDocument(S,hn.min()))}else Jt(1===c);else this.wt(a)!==c&&(this.lt(a),this.it=this.it.add(a))}}_t(r){const a=new Map;this.et.forEach((v,S)=>{const L=this.dt(S);if(L){if(v.current&&ac(L.target)){const q=new $t(L.target.path);null!==this.nt.get(q)||this.gt(S,q)||this.at(S,q,kr.newNoDocument(q,r))}v.K&&(a.set(S,v.W()),v.G())}});let c=cr();this.st.forEach((v,S)=>{let L=!0;S.forEachWhile(q=>{const ie=this.dt(q);return!ie||2===ie.purpose||(L=!1,!1)}),L&&(c=c.add(v))});const h=new Ku(r,a,this.it,this.nt,c);return this.nt=to(),this.st=Kf(),this.it=new si(At),h}ot(r,a){if(!this.ht(r))return;const c=this.gt(r,a.key)?2:0;this.ut(r).H(a.key,c),this.nt=this.nt.insert(a.key,a),this.st=this.st.insert(a.key,this.yt(a.key).add(r))}at(r,a,c){if(!this.ht(r))return;const h=this.ut(r);this.gt(r,a)?h.H(a,1):h.J(a),this.st=this.st.insert(a,this.yt(a).delete(r)),c&&(this.nt=this.nt.insert(a,c))}removeTarget(r){this.et.delete(r)}wt(r){const a=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let a=this.et.get(r);return a||(a=new vc,this.et.set(r,a)),a}yt(r){let a=this.st.get(r);return a||(a=new si(At),this.st=this.st.insert(r,a)),a}ht(r){const a=null!==this.dt(r);return a||ut("WatchChangeAggregator","Detected inactive target",r),a}dt(r){const a=this.et.get(r);return a&&a.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new vc),this.tt.getRemoteKeysForTarget(r).forEach(a=>{this.at(r,a,null)})}gt(r,a){return this.tt.getRemoteKeysForTarget(r).has(a)}}function Kf(){return new di($t.comparator)}function Ec(){return new di($t.comparator)}const ph={asc:"ASCENDING",desc:"DESCENDING"},gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Yf{constructor(r,a){this.databaseId=r,this.D=a}}function xl(u,r){return u.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function mh(u,r){return u.D?r.toBase64():r.toUint8Array()}function yh(u,r){return xl(u,r.toTimestamp())}function oi(u){return Jt(!!u),hn.fromTimestamp(function(r){const a=pa(r);return new xn(a.seconds,a.nanos)}(u))}function Yu(u,r){return(a=u,new tr(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function Qu(u){const r=tr.fromString(u);return Jt(Pl(r)),r}function Ju(u,r){return Yu(u.databaseId,r.path)}function mr(u,r){const a=Qu(r);if(a.get(1)!==u.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+u.databaseId.projectId);if(a.get(3)!==u.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+u.databaseId.database);return new $t(bc(a))}function Xu(u,r){return Yu(u.databaseId,r)}function ks(u){const r=Qu(u);return 4===r.length?tr.emptyPath():bc(r)}function Mo(u){return new tr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function bc(u){return Jt(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function _h(u,r,a){return{name:Ju(u,r),fields:a.value.mapValue.fields}}function wc(u,r,a){const c=mr(u,r.name),h=oi(r.updateTime),v=new Ni({mapValue:{fields:r.fields}}),S=kr.newFoundDocument(c,h,v);return a&&S.setHasCommittedMutations(),a?S.setHasCommittedMutations():S}function Rl(u,r){let a;if(r instanceof Qo)a={update:_h(u,r.key,r.value)};else if(r instanceof Al)a={delete:Ju(u,r.key)};else if(r instanceof Ps)a={update:_h(u,r.key,r.data),updateMask:Eh(r.fieldMask)};else{if(!(r instanceof eo))return Ht();a={verify:Ju(u,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(c=>function(h,v){const S=v.transform;if(S instanceof Gu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof uu)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof lu)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof qu)return{fieldPath:v.field.canonicalString(),increment:S.C};throw Ht()}(0,c))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:yh(u,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:Ht()),a;var h}function Jf(u,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?bi.updateTime(oi(h.updateTime)):void 0!==h.exists?bi.exists(h.exists):bi.none():bi.none(),c=r.updateTransforms?r.updateTransforms.map(h=>function(v,S){let L=null;"setToServerValue"in S?(Jt("REQUEST_TIME"===S.setToServerValue),L=new Gu):"appendMissingElements"in S?L=new uu(S.appendMissingElements.values||[]):"removeAllFromArray"in S?L=new lu(S.removeAllFromArray.values||[]):"increment"in S?L=new qu(v,S.increment):Ht();const q=Un.fromServerFormat(S.fieldPath);return new Yo(q,L)}(u,h)):[];var h;if(r.update){const h=mr(u,r.update.name),v=new Ni({mapValue:{fields:r.update.fields}});if(r.updateMask){const S=new Aa((r.updateMask.fieldPaths||[]).map(ie=>Un.fromServerFormat(ie)));return new Ps(h,v,S,a,c)}return new Qo(h,v,a,c)}if(r.delete){const h=mr(u,r.delete);return new Al(h,a)}if(r.verify){const h=mr(u,r.verify);return new eo(h,a)}return Ht()}function hu(u,r){return{documents:[Xu(u,r.path)]}}function ds(u,r){const a={structuredQuery:{}},c=r.path;null!==r.collectionGroup?(a.parent=Xu(u,c),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=Xu(u,c.popLast()),a.structuredQuery.from=[{collectionId:c.lastSegment()}]);const h=function(L){if(0===L.length)return;const q=L.map(ie=>function(he){if("=="===he.op){if(Xd(he.value))return{unaryFilter:{field:el(he.field),op:"IS_NAN"}};if(oc(he.value))return{unaryFilter:{field:el(he.field),op:"IS_NULL"}}}else if("!="===he.op){if(Xd(he.value))return{unaryFilter:{field:el(he.field),op:"IS_NOT_NAN"}};if(oc(he.value))return{unaryFilter:{field:el(he.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(he.field),op:cd(he.op),value:he.value}}}(ie));return 1===q.length?q[0]:{compositeFilter:{op:"AND",filters:q}}}(r.filters);h&&(a.structuredQuery.where=h);const v=function(L){if(0!==L.length)return L.map(q=>{return{field:el((ie=q).field),direction:Ml(ie.dir)};var ie})}(r.orderBy);v&&(a.structuredQuery.orderBy=v);const S=(q=r.limit,u.D||Pu(q)?q:{value:q});var q;return null!==S&&(a.structuredQuery.limit=S),r.startAt&&(a.structuredQuery.startAt=vr(r.startAt)),r.endAt&&(a.structuredQuery.endAt=vr(r.endAt)),a}function Cc(u){let r=ks(u.parent);const a=u.structuredQuery,c=a.from?a.from.length:0;let h=null;if(c>0){Jt(1===c);const he=a.from[0];he.allDescendants?h=he.collectionId:r=r.child(he.collectionId)}let v=[];a.where&&(v=Tc(a.where));let S=[];a.orderBy&&(S=a.orderBy.map(he=>{return new ga(As((xe=he).field),function(lt){switch(lt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(xe.direction));var xe}));let L=null;a.limit&&(L=function(he){let xe;return xe="object"==typeof he?he.value:he,Pu(xe)?null:xe}(a.limit));let q=null;a.startAt&&(q=Pa(a.startAt));let ie=null;return a.endAt&&(ie=Pa(a.endAt)),lc(r,h,S,v,L,"F",q,ie)}function Tc(u){return u?void 0!==u.unaryFilter?[dd(u)]:void 0!==u.fieldFilter?[Ol(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(r=>Tc(r)).reduce((r,a)=>r.concat(a)):Ht():[]}function vr(u){return{before:u.before,values:u.position}}function Pa(u){return new ou(u.values||[],!!u.before)}function Ml(u){return ph[u]}function cd(u){return gh[u]}function el(u){return{fieldPath:u.canonicalString()}}function As(u){return Un.fromServerFormat(u.fieldPath)}function Ol(u){return Is.create(As(u.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ht()}}(u.fieldFilter.op),u.fieldFilter.value)}function dd(u){switch(u.unaryFilter.op){case"IS_NAN":const r=As(u.unaryFilter.field);return Is.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=As(u.unaryFilter.field);return Is.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(u.unaryFilter.field);return Is.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=As(u.unaryFilter.field);return Is.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ht()}}function Eh(u){const r=[];return u.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function Pl(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}function Oo(u){let r="";for(let a=0;a<u.length;a++)r.length>0&&(r=bh(r)),r=Xf(u.get(a),r);return bh(r)}function Xf(u,r){let a=r;const c=u.length;for(let h=0;h<c;h++){const v=u.charAt(h);switch(v){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=v}}return a}function bh(u){return u+"\x01\x01"}function Jo(u){const r=u.length;if(Jt(r>=2),2===r)return Jt("\x01"===u.charAt(0)&&"\x01"===u.charAt(1)),tr.emptyPath();const a=r-2,c=[];let h="";for(let v=0;v<r;){const S=u.indexOf("\x01",v);switch((S<0||S>a)&&Ht(),u.charAt(S+1)){case"\x01":const L=u.substring(v,S);let q;0===h.length?q=L:(h+=L,q=h,h=""),c.push(q);break;case"\x10":h+=u.substring(v,S),h+="\0";break;case"\x11":h+=u.substring(v,S+1);break;default:Ht()}v=S+2}return new tr(c)}class D{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class g{constructor(r,a,c){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=c}}g.store="owner",g.key="owner";class m{constructor(r,a,c){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=c}}m.store="mutationQueues",m.keyPath="userId";class A{constructor(r,a,c,h,v){this.userId=r,this.batchId=a,this.localWriteTimeMs=c,this.baseMutations=h,this.mutations=v}}A.store="mutations",A.keyPath="batchId",A.userMutationsIndex="userMutationsIndex",A.userMutationsKeyPath=["userId","batchId"];class H{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,Oo(a)]}static key(r,a,c){return[r,Oo(a),c]}}H.store="documentMutations",H.PLACEHOLDER=new H;class X{constructor(r,a){this.path=r,this.readTime=a}}class Ue{constructor(r,a){this.path=r,this.version=a}}class it{constructor(r,a,c,h,v,S){this.unknownDocument=r,this.noDocument=a,this.document=c,this.hasCommittedMutations=h,this.readTime=v,this.parentPath=S}}it.store="remoteDocuments",it.readTimeIndex="readTimeIndex",it.readTimeIndexPath="readTime",it.collectionReadTimeIndex="collectionReadTimeIndex",it.collectionReadTimeIndexPath=["parentPath","readTime"];class Ft{constructor(r){this.byteSize=r}}Ft.store="remoteDocumentGlobal",Ft.key="remoteDocumentGlobalKey";class Kt{constructor(r,a,c,h,v,S,L){this.targetId=r,this.canonicalId=a,this.readTime=c,this.resumeToken=h,this.lastListenSequenceNumber=v,this.lastLimboFreeSnapshotVersion=S,this.query=L}}Kt.store="targets",Kt.keyPath="targetId",Kt.queryTargetsIndexName="queryTargetsIndex",Kt.queryTargetsKeyPath=["canonicalId","targetId"];class ln{constructor(r,a,c){this.targetId=r,this.path=a,this.sequenceNumber=c}}ln.store="targetDocuments",ln.keyPath=["targetId","path"],ln.documentTargetsIndex="documentTargetsIndex",ln.documentTargetsKeyPath=["path","targetId"];class rn{constructor(r,a,c,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=c,this.targetCount=h}}rn.key="targetGlobalKey",rn.store="targetGlobal";class Hr{constructor(r,a){this.collectionId=r,this.parent=a}}Hr.store="collectionParents",Hr.keyPath=["collectionId","parent"];class xi{constructor(r,a,c,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=c,this.inForeground=h}}xi.store="clientMetadata",xi.keyPath="clientId";class yo{constructor(r,a,c){this.bundleId=r,this.createTime=a,this.version=c}}yo.store="bundles",yo.keyPath="bundleId";class Zi{constructor(r,a,c){this.name=r,this.readTime=a,this.bundledQuery=c}}Zi.store="namedQueries",Zi.keyPath="name";const Ic=[m.store,A.store,H.store,it.store,Kt.store,g.store,rn.store,ln.store,xi.store,Ft.store,Hr.store,yo.store,Zi.store],hd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class St{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new St((c,h)=>{this.nextCallback=v=>{this.wrapSuccess(r,v).next(c,h)},this.catchCallback=v=>{this.wrapFailure(a,v).next(c,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof St?a:St.resolve(a)}catch(a){return St.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):St.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):St.reject(a)}static resolve(r){return new St((a,c)=>{a(r)})}static reject(r){return new St((a,c)=>{c(r)})}static waitFor(r){return new St((a,c)=>{let h=0,v=0,S=!1;r.forEach(L=>{++h,L.next(()=>{++v,S&&v===h&&a()},q=>c(q))}),S=!0,v===h&&a()})}static or(r){let a=St.resolve(!1);for(const c of r)a=a.next(h=>h?St.resolve(h):c());return a}static forEach(r,a){const c=[];return r.forEach((h,v)=>{c.push(a.call(this,h,v))}),this.waitFor(c)}}class Dc{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.Tt=new O,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{a.error?this.Tt.reject(new tl(r,a.error)):this.Tt.resolve()},this.transaction.onerror=c=>{const h=mm(c.target.error);this.Tt.reject(new tl(r,h))}}static open(r,a,c,h){try{return new Dc(a,r.transaction(h,c))}catch(v){throw new tl(a,v)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(ut("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new ka(a)}}class no{constructor(r,a,c){this.name=r,this.version=a,this.At=c,12.2===no.Rt((0,Oe.z$)())&&un("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return ut("SimpleDb","Removing database:",r),hs(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(no.bt())return!0;const r=(0,Oe.z$)(),a=no.Rt(r),c=0<a&&a<10,h=no.vt(r),v=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||c||v)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,a){return r.store(a)}static Rt(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),c=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(c)}static vt(r){const a=r.match(/Android ([\d.]+)/i),c=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(c)}Dt(r){var a=this;return(0,pe.Z)(function*(){return a.db||(ut("SimpleDb","Opening database:",a.name),a.db=yield new Promise((c,h)=>{const v=indexedDB.open(a.name,a.version);v.onsuccess=S=>{c(S.target.result)},v.onblocked=()=>{h(new tl(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=S=>{const L=S.target.error;h("VersionError"===L.name?new T(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tl(r,L))},v.onupgradeneeded=S=>{ut("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',S.oldVersion),a.At.Ct(S.target.result,v.transaction,S.oldVersion,a.version).next(()=>{ut("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Nt&&(a.db.onversionchange=c=>a.Nt(c)),a.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,c,h){var v=this;return(0,pe.Z)(function*(){const S="readonly"===a;let L=0;for(;;){++L;try{v.db=yield v.Dt(r);const q=Dc.open(v.db,r,S?"readonly":"readwrite",c),ie=h(q).catch(he=>(q.abort(he),St.reject(he))).toPromise();return ie.catch(()=>{}),yield q.It,ie}catch(q){const ie="FirebaseError"!==q.name&&L<3;if(ut("SimpleDb","Transaction failed with error:",q.message,"Retrying:",ie),v.close(),!ie)return Promise.reject(q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pd{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return hs(this.kt.delete())}}class tl extends T{constructor(r,a){super(I.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function fu(u){return"IndexedDbTransactionError"===u.name}class ka{constructor(r){this.store=r}put(r,a){let c;return void 0!==a?(ut("SimpleDb","PUT",this.store.name,r,a),c=this.store.put(a,r)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",r),c=this.store.put(r)),hs(c)}add(r){return ut("SimpleDb","ADD",this.store.name,r,r),hs(this.store.add(r))}get(r){return hs(this.store.get(r)).next(a=>(void 0===a&&(a=null),ut("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return ut("SimpleDb","DELETE",this.store.name,r),hs(this.store.delete(r))}count(){return ut("SimpleDb","COUNT",this.store.name),hs(this.store.count())}Lt(r,a){const c=this.cursor(this.options(r,a)),h=[];return this.Bt(c,(v,S)=>{h.push(S)}).next(()=>h)}Ut(r,a){ut("SimpleDb","DELETE ALL",this.store.name);const c=this.options(r,a);c.qt=!1;const h=this.cursor(c);return this.Bt(h,(v,S,L)=>L.delete())}Kt(r,a){let c;a?c=r:(c={},a=r);const h=this.cursor(c);return this.Bt(h,a)}jt(r){const a=this.cursor({});return new St((c,h)=>{a.onerror=v=>{const S=mm(v.target.error);h(S)},a.onsuccess=v=>{const S=v.target.result;S?r(S.primaryKey,S.value).next(L=>{L?S.continue():c()}):c()}})}Bt(r,a){const c=[];return new St((h,v)=>{r.onerror=S=>{v(S.target.error)},r.onsuccess=S=>{const L=S.target.result;if(!L)return void h();const q=new pd(L),ie=a(L.primaryKey,L.value,q);if(ie instanceof St){const he=ie.catch(xe=>(q.done(),St.reject(xe)));c.push(he)}q.isDone?h():null===q.Ft?L.continue():L.continue(q.Ft)}}).next(()=>St.waitFor(c))}options(r,a){let c;return void 0!==r&&("string"==typeof r?c=r:a=r),{index:c,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const c=this.store.index(r.index);return r.qt?c.openKeyCursor(r.range,a):c.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function hs(u){return new St((r,a)=>{u.onsuccess=c=>{r(c.target.result)},u.onerror=c=>{const h=mm(c.target.error);a(h)}})}let E_=!1;function mm(u){const r=no.Rt((0,Oe.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(u.message.indexOf(a)>=0){const c=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E_||(E_=!0,setTimeout(()=>{throw c},0)),c}}return u}class ep extends fd{constructor(r,a){super(),this.Qt=r,this.currentSequenceNumber=a}}function Po(u,r){const a=x(u);return no.St(a.Qt,r)}class Xo{constructor(r,a,c,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=c,this.mutations=h}applyToRemoteDocument(r,a){const c=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const v=this.mutations[h];v.key.isEqual(r.key)&&pc(v,r,c[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&Dl(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&Dl(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const c=r.get(a.key),h=c;this.applyToLocalView(h),c.isValidDocument()||h.convertToNoDocument(hn.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),cr())}isEqual(r){return this.batchId===r.batchId&&zn(this.mutations,r.mutations,(a,c)=>id(a,c))&&zn(this.baseMutations,r.baseMutations,(a,c)=>id(a,c))}}class gd{constructor(r,a,c,h){this.batch=r,this.commitVersion=a,this.mutationResults=c,this.docVersions=h}static from(r,a,c){Jt(r.mutations.length===c.length);let h=Nl();const v=r.mutations;for(let S=0;S<v.length;S++)h=h.insert(v[S].key,c[S].version);return new gd(r,a,c,h)}}class Fa{constructor(r,a,c,h,v=hn.min(),S=hn.min(),L=Ai.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=c,this.sequenceNumber=h,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=S,this.resumeToken=L}withSequenceNumber(r){return new Fa(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class ym{constructor(r){this.Wt=r}}function wh(u,r){if(r.document)return wc(u.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=$t.fromSegments(r.noDocument.path),c=rl(r.noDocument.readTime),h=kr.newNoDocument(a,c);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=$t.fromSegments(r.unknownDocument.path),c=rl(r.unknownDocument.version);return kr.newUnknownDocument(a,c)}return Ht()}function Ac(u,r,a){const c=Ch(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const v={name:Ju(L=u.Wt,(q=r).key),fields:q.data.value.mapValue.fields,updateTime:xl(L,q.version.toTimestamp())};return new it(null,null,v,r.hasCommittedMutations,c,h)}var L,q;if(r.isNoDocument()){const v=r.key.path.toArray(),S=nl(r.version),L=r.hasCommittedMutations;return new it(null,new X(v,S),null,L,c,h)}if(r.isUnknownDocument()){const v=r.key.path.toArray(),S=nl(r.version);return new it(new Ue(v,S),null,null,!0,c,h)}return Ht()}function Ch(u){const r=u.toTimestamp();return[r.seconds,r.nanoseconds]}function tp(u){const r=new xn(u[0],u[1]);return hn.fromTimestamp(r)}function nl(u){const r=u.toTimestamp();return new D(r.seconds,r.nanoseconds)}function rl(u){const r=new xn(u.seconds,u.nanoseconds);return hn.fromTimestamp(r)}function kl(u,r){const a=(r.baseMutations||[]).map(v=>Jf(u.Wt,v));for(let v=0;v<r.mutations.length-1;++v){const S=r.mutations[v];v+1<r.mutations.length&&void 0!==r.mutations[v+1].transform&&(S.updateTransforms=r.mutations[v+1].transform.fieldTransforms,r.mutations.splice(v+1,1),++v)}const c=r.mutations.map(v=>Jf(u.Wt,v)),h=xn.fromMillis(r.localWriteTimeMs);return new Xo(r.batchId,h,a,c)}function Th(u){const r=rl(u.readTime),a=void 0!==u.lastLimboFreeSnapshotVersion?rl(u.lastLimboFreeSnapshotVersion):hn.min();let c;var h;return void 0!==u.query.documents?(Jt(1===(h=u.query).documents.length),c=Xs(jr(ks(h.documents[0])))):c=Xs(Cc(u.query)),new Fa(c,u.targetId,0,u.lastListenSequenceNumber,r,a,Ai.fromBase64String(u.resumeToken))}function Fl(u,r){const a=nl(r.snapshotVersion),c=nl(r.lastLimboFreeSnapshotVersion);let h;h=ac(r.target)?hu(u.Wt,r.target):ds(u.Wt,r.target);const v=r.resumeToken.toBase64();return new Kt(r.targetId,Lu(r.target),a,v,r.sequenceNumber,c,h)}function md(u){const r=Cc({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?cc(r,r.limit,"L"):r}class _m{getBundleMetadata(r,a){return vm(r).get(a).next(c=>{if(c)return{id:(h=c).bundleId,createTime:rl(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return vm(r).put({bundleId:(c=a).id,createTime:nl(oi(c.createTime)),version:c.version});var c}getNamedQuery(r,a){return Ih(r).get(a).next(c=>{if(c)return{name:(h=c).name,query:md(h.bundledQuery),readTime:rl(h.readTime)};var h})}saveNamedQuery(r,a){return Ih(r).put({name:(c=a).name,readTime:nl(oi(c.readTime)),bundledQuery:c.bundledQuery});var c}}function vm(u){return Po(u,yo.store)}function Ih(u){return Po(u,Zi.store)}class b_{constructor(){this.Gt=new np}addToCollectionParentIndex(r,a){return this.Gt.add(a),St.resolve()}getCollectionParents(r,a){return St.resolve(this.Gt.getEntries(a))}}class np{constructor(){this.index={}}add(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a]||new si(tr.comparator),v=!h.has(c);return this.index[a]=h.add(c),v}has(r){const a=r.lastSegment(),c=r.popLast(),h=this.index[a];return h&&h.has(c)}getEntries(r){return(this.index[r]||new si(tr.comparator)).toArray()}}class w_{constructor(){this.zt=new np}addToCollectionParentIndex(r,a){if(!this.zt.has(a)){const c=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.zt.add(a)});const v={collectionId:c,parent:Oo(h)};return Em(r).put(v)}return St.resolve()}getCollectionParents(r,a){const c=[],h=IDBKeyRange.bound([a,""],[xr(a),""],!1,!0);return Em(r).Lt(h).next(v=>{for(const S of v){if(S.collectionId!==a)break;c.push(Jo(S.parent))}return c})}}function Em(u){return Po(u,Hr.store)}const bm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(r,a,c){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=c}static withCacheSize(r){return new _o(r,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rp(u,r,a){const c=u.store(A.store),h=u.store(H.store),v=[],S=IDBKeyRange.only(a.batchId);let L=0;const q=c.Kt({range:S},(he,xe,lt)=>(L++,lt.delete()));v.push(q.next(()=>{Jt(1===L)}));const ie=[];for(const he of a.mutations){const xe=H.key(r,he.key.path,a.batchId);v.push(h.delete(xe)),ie.push(he.key)}return St.waitFor(v).next(()=>ie)}function Sc(u){if(!u)return 0;let r;if(u.document)r=u.document;else if(u.unknownDocument)r=u.unknownDocument;else{if(!u.noDocument)throw Ht();r=u.noDocument}return JSON.stringify(r).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class Dh{constructor(r,a,c,h){this.userId=r,this.N=a,this.Ht=c,this.referenceDelegate=h,this.Jt={}}static Yt(r,a,c,h){Jt(""!==r.uid);const v=r.isAuthenticated()?r.uid:"";return new Dh(v,a,c,h)}checkEmpty(r){let a=!0;const c=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return il(r).Kt({index:A.userMutationsIndex,range:c},(h,v,S)=>{a=!1,S.done()}).next(()=>a)}addMutationBatch(r,a,c,h){const v=Nc(r),S=il(r);return S.add({}).next(L=>{Jt("number"==typeof L);const q=new Xo(L,a,c,h),ie=function(lt,Ct,jt){const _n=jt.baseMutations.map(fi=>Rl(lt.Wt,fi)),Fn=jt.mutations.map(fi=>Rl(lt.Wt,fi));return new A(Ct,jt.batchId,jt.localWriteTime.toMillis(),_n,Fn)}(this.N,this.userId,q),he=[];let xe=new si((lt,Ct)=>At(lt.canonicalString(),Ct.canonicalString()));for(const lt of h){const Ct=H.key(this.userId,lt.key.path,L);xe=xe.add(lt.key.path.popLast()),he.push(S.put(ie)),he.push(v.put(Ct,H.PLACEHOLDER))}return xe.forEach(lt=>{he.push(this.Ht.addToCollectionParentIndex(r,lt))}),r.addOnCommittedListener(()=>{this.Jt[L]=q.keys()}),St.waitFor(he).next(()=>q)})}lookupMutationBatch(r,a){return il(r).get(a).next(c=>c?(Jt(c.userId===this.userId),kl(this.N,c)):null)}Xt(r,a){return this.Jt[a]?St.resolve(this.Jt[a]):this.lookupMutationBatch(r,a).next(c=>{if(c){const h=c.keys();return this.Jt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const c=a+1,h=IDBKeyRange.lowerBound([this.userId,c]);let v=null;return il(r).Kt({index:A.userMutationsIndex,range:h},(S,L,q)=>{L.userId===this.userId&&(Jt(L.batchId>=c),v=kl(this.N,L)),q.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let c=-1;return il(r).Kt({index:A.userMutationsIndex,range:a,reverse:!0},(h,v,S)=>{c=v.batchId,S.done()}).next(()=>c)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return il(r).Lt(A.userMutationsIndex,a).next(c=>c.map(h=>kl(this.N,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const c=H.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(c),v=[];return Nc(r).Kt({range:h},(S,L,q)=>{const[ie,he,xe]=S,lt=Jo(he);if(ie===this.userId&&a.path.isEqual(lt))return il(r).get(xe).next(Ct=>{if(!Ct)throw Ht();Jt(Ct.userId===this.userId),v.push(kl(this.N,Ct))});q.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new si(At);const h=[];return a.forEach(v=>{const S=H.prefixForPath(this.userId,v.path),L=IDBKeyRange.lowerBound(S),q=Nc(r).Kt({range:L},(ie,he,xe)=>{const[lt,Ct,jt]=ie,_n=Jo(Ct);lt===this.userId&&v.path.isEqual(_n)?c=c.add(jt):xe.done()});h.push(q)}),St.waitFor(h).next(()=>this.Zt(r,c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1,v=H.prefixForPath(this.userId,c),S=IDBKeyRange.lowerBound(v);let L=new si(At);return Nc(r).Kt({range:S},(q,ie,he)=>{const[xe,lt,Ct]=q,jt=Jo(lt);xe===this.userId&&c.isPrefixOf(jt)?jt.length===h&&(L=L.add(Ct)):he.done()}).next(()=>this.Zt(r,L))}Zt(r,a){const c=[],h=[];return a.forEach(v=>{h.push(il(r).get(v).next(S=>{if(null===S)throw Ht();Jt(S.userId===this.userId),c.push(kl(this.N,S))}))}),St.waitFor(h).next(()=>c)}removeMutationBatch(r,a){return rp(r.Qt,this.userId,a).next(c=>(r.addOnCommittedListener(()=>{this.te(a.batchId)}),St.forEach(c,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return St.resolve();const c=IDBKeyRange.lowerBound(H.prefixForUser(this.userId)),h=[];return Nc(r).Kt({range:c},(v,S,L)=>{if(v[0]===this.userId){const q=Jo(v[1]);h.push(q)}else L.done()}).next(()=>{Jt(0===h.length)})})}containsKey(r,a){return Ah(r,this.userId,a)}ee(r){return ip(r).get(this.userId).next(a=>a||new m(this.userId,-1,""))}}function Ah(u,r,a){const c=H.prefixForPath(r,a.path),h=c[1],v=IDBKeyRange.lowerBound(c);let S=!1;return Nc(u).Kt({range:v,qt:!0},(L,q,ie)=>{const[he,xe,lt]=L;he===r&&xe===h&&(S=!0),ie.done()}).next(()=>S)}function il(u){return Po(u,A.store)}function Nc(u){return Po(u,H.store)}function ip(u){return Po(u,m.store)}class sl{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new sl(0)}static ie(){return new sl(-1)}}class Ll{constructor(r,a){this.referenceDelegate=r,this.N=a}allocateTargetId(r){return this.re(r).next(a=>{const c=new sl(a.highestTargetId);return a.highestTargetId=c.next(),this.oe(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(a=>hn.fromTimestamp(new xn(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,c){return this.re(r).next(h=>(h.highestListenSequenceNumber=a,c&&(h.lastRemoteSnapshotVersion=c.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.oe(r,h)))}addTargetData(r,a){return this.ae(r,a).next(()=>this.re(r).next(c=>(c.targetCount+=1,this.ce(a,c),this.oe(r,c))))}updateTargetData(r,a){return this.ae(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>Vl(r).delete(a.targetId)).next(()=>this.re(r)).next(c=>(Jt(c.targetCount>0),c.targetCount-=1,this.oe(r,c)))}removeTargets(r,a,c){let h=0;const v=[];return Vl(r).Kt((S,L)=>{const q=Th(L);q.sequenceNumber<=a&&null===c.get(q.targetId)&&(h++,v.push(this.removeTargetData(r,q)))}).next(()=>St.waitFor(v)).next(()=>h)}forEachTarget(r,a){return Vl(r).Kt((c,h)=>{const v=Th(h);a(v)})}re(r){return sp(r).get(rn.key).next(a=>(Jt(null!==a),a))}oe(r,a){return sp(r).put(rn.key,a)}ae(r,a){return Vl(r).put(Fl(this.N,a))}ce(r,a){let c=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,c=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,c=!0),c}getTargetCount(r){return this.re(r).next(a=>a.targetCount)}getTargetData(r,a){const c=Lu(a),h=IDBKeyRange.bound([c,Number.NEGATIVE_INFINITY],[c,Number.POSITIVE_INFINITY]);let v=null;return Vl(r).Kt({range:h,index:Kt.queryTargetsIndexName},(S,L,q)=>{const ie=Th(L);Vu(a,ie.target)&&(v=ie,q.done())}).next(()=>v)}addMatchingKeys(r,a,c){const h=[],v=ol(r);return a.forEach(S=>{const L=Oo(S.path);h.push(v.put(new ln(c,L))),h.push(this.referenceDelegate.addReference(r,c,S))}),St.waitFor(h)}removeMatchingKeys(r,a,c){const h=ol(r);return St.forEach(a,v=>{const S=Oo(v.path);return St.waitFor([h.delete([c,S]),this.referenceDelegate.removeReference(r,c,v)])})}removeMatchingKeysForTargetId(r,a){const c=ol(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return c.delete(h)}getMatchingKeysForTargetId(r,a){const c=IDBKeyRange.bound([a],[a+1],!1,!0),h=ol(r);let v=cr();return h.Kt({range:c,qt:!0},(S,L,q)=>{const ie=Jo(S[1]),he=new $t(ie);v=v.add(he)}).next(()=>v)}containsKey(r,a){const c=Oo(a.path),h=IDBKeyRange.bound([c],[xr(c)],!1,!0);let v=0;return ol(r).Kt({index:ln.documentTargetsIndex,qt:!0,range:h},([S,L],q,ie)=>{0!==S&&(v++,ie.done())}).next(()=>v>0)}Et(r,a){return Vl(r).get(a).next(c=>c?Th(c):null)}}function Vl(u){return Po(u,Kt.store)}function sp(u){return Po(u,rn.store)}function ol(u){return Po(u,ln.store)}function La(u){return op.apply(this,arguments)}function op(){return(op=(0,pe.Z)(function*(u){if(u.code!==I.FAILED_PRECONDITION||u.message!==hd)throw u;ut("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ap([u,r],[a,c]){const h=At(u,a);return 0===h?At(r,c):h}class wm{constructor(r){this.ue=r,this.buffer=new si(ap),this.he=0}le(){return++this.he}fe(r){const a=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(a);else{const c=this.buffer.last();ap(a,c)<0&&(this.buffer=this.buffer.delete(c).add(a))}}get maxValue(){return this.buffer.last()[0]}}class Cm{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var a=this;const c=this.de?3e5:6e4;ut("LruGarbageCollector",`Garbage collection scheduled in ${c}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",c,(0,pe.Z)(function*(){a.we=null,a.de=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){fu(h)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield La(h)}yield a._e(r)}))}}class up{constructor(r,a){this.me=r,this.params=a}calculateTargetCount(r,a){return this.me.ge(r).next(c=>Math.floor(a/100*c))}nthSequenceNumber(r,a){if(0===a)return St.resolve(ct.T);const c=new wm(a);return this.me.forEachTarget(r,h=>c.fe(h.sequenceNumber)).next(()=>this.me.ye(r,h=>c.fe(h))).next(()=>c.maxValue)}removeTargets(r,a,c){return this.me.removeTargets(r,a,c)}removeOrphanedDocuments(r,a){return this.me.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),St.resolve(bm)):this.getCacheSize(r).next(c=>c<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bm):this.pe(r,a))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,a){let c,h,v,S,L,q,ie;const he=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(xe=>(xe>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${xe}`),h=this.params.maximumSequenceNumbersToCollect):h=xe,S=Date.now(),this.nthSequenceNumber(r,h))).next(xe=>(c=xe,L=Date.now(),this.removeTargets(r,c,a))).next(xe=>(v=xe,q=Date.now(),this.removeOrphanedDocuments(r,c))).next(xe=>(ie=Date.now(),Rn()<=Pt.in.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${S-he}ms\n\tDetermined least recently used ${h} in `+(L-S)+`ms\n\tRemoved ${v} targets in `+(q-L)+`ms\n\tRemoved ${xe} documents in `+(ie-q)+`ms\nTotal Duration: ${ie-he}ms`),St.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:v,documentsRemoved:xe})))}}class Tm{constructor(r,a){this.db=r,this.garbageCollector=new up(this,a)}ge(r){const a=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(c=>a.next(h=>c+h))}Ee(r){let a=0;return this.ye(r,c=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}ye(r,a){return this.Te(r,(c,h)=>a(h))}addReference(r,a,c){return Ul(r,c)}removeReference(r,a,c){return Ul(r,c)}removeTargets(r,a,c){return this.db.getTargetCache().removeTargets(r,a,c)}markPotentiallyOrphaned(r,a){return Ul(r,a)}Ie(r,a){return function(c,h){let v=!1;return ip(c).jt(S=>Ah(c,S,h).next(L=>(L&&(v=!0),St.resolve(!L)))).next(()=>v)}(r,a)}removeOrphanedDocuments(r,a){const c=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let v=0;return this.Te(r,(S,L)=>{if(L<=a){const q=this.Ie(r,S).next(ie=>{if(!ie)return v++,c.getEntry(r,S).next(()=>(c.removeEntry(S),ol(r).delete([0,Oo(S.path)])))});h.push(q)}}).next(()=>St.waitFor(h)).next(()=>c.apply(r)).next(()=>v)}removeTarget(r,a){const c=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,c)}updateLimboDocument(r,a){return Ul(r,a)}Te(r,a){const c=ol(r);let h,v=ct.T;return c.Kt({index:ln.documentTargetsIndex},([S,L],{path:q,sequenceNumber:ie})=>{0===S?(v!==ct.T&&a(new $t(Jo(h)),v),v=ie,h=q):v=ct.T}).next(()=>{v!==ct.T&&a(new $t(Jo(h)),v)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function Ul(u,r){return ol(u).put((c=u.currentSequenceNumber,new ln(0,Oo(r.path),c)));var c}class pu{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0!==c)for(const[h,v]of c)if(this.equalsFn(h,r))return v}has(r){return void 0!==this.get(r)}set(r,a){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h){for(let v=0;v<h.length;v++)if(this.equalsFn(h[v][0],r))return void(h[v]=[r,a]);h.push([r,a])}else this.inner[c]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),c=this.inner[a];if(void 0===c)return!1;for(let h=0;h<c.length;h++)if(this.equalsFn(c[h][0],r))return 1===c.length?delete this.inner[a]:c.splice(h,1),!0;return!1}forEach(r){Ji(this.inner,(a,c)=>{for(const[h,v]of c)r(h,v)})}isEmpty(){return ls(this.inner)}}class lp{constructor(){this.changes=new pu(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:hn.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:kr.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const c=this.changes.get(a);return void 0!==c?St.resolve(c.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class cp{constructor(r,a){this.N=r,this.Ht=a}addEntry(r,a,c){return ea(r).put(Nh(a),c)}removeEntry(r,a){const c=ea(r),h=Nh(a);return c.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(c=>(c.byteSize+=a,this.Ae(r,c)))}getEntry(r,a){return ea(r).get(Nh(a)).next(c=>this.Re(a,c))}Pe(r,a){return ea(r).get(Nh(a)).next(c=>({document:this.Re(a,c),size:Sc(c)}))}getEntries(r,a){let c=to();return this.be(r,a,(h,v)=>{const S=this.Re(h,v);c=c.insert(h,S)}).next(()=>c)}ve(r,a){let c=to(),h=new di($t.comparator);return this.be(r,a,(v,S)=>{const L=this.Re(v,S);c=c.insert(v,L),h=h.insert(v,Sc(S))}).next(()=>({documents:c,Ve:h}))}be(r,a,c){if(a.isEmpty())return St.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),v=a.getIterator();let S=v.getNext();return ea(r).Kt({range:h},(L,q,ie)=>{const he=$t.fromSegments(L);for(;S&&$t.comparator(S,he)<0;)c(S,null),S=v.getNext();S&&S.isEqual(he)&&(c(S,q),S=v.hasNext()?v.getNext():null),S?ie.Mt(S.path.toArray()):ie.done()}).next(()=>{for(;S;)c(S,null),S=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(r,a,c){let h=to();const v=a.path.length+1,S={};if(c.isEqual(hn.min())){const L=a.path.toArray();S.range=IDBKeyRange.lowerBound(L)}else{const L=a.path.toArray(),q=Ch(c);S.range=IDBKeyRange.lowerBound([L,q],!0),S.index=it.collectionReadTimeIndex}return ea(r).Kt(S,(L,q,ie)=>{if(L.length!==v)return;const he=wh(this.N,q);a.path.isPrefixOf(he.key.path)?go(a,he)&&(h=h.insert(he.key,he)):ie.done()}).next(()=>h)}newChangeBuffer(r){return new Im(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return Sh(r).get(Ft.key).next(a=>(Jt(!!a),a))}Ae(r,a){return Sh(r).put(Ft.key,a)}Re(r,a){if(a){const c=wh(this.N,a);if(!c.isNoDocument()||!c.version.isEqual(hn.min()))return c}return kr.newInvalidDocument(r)}}class Im extends lp{constructor(r,a){super(),this.Se=r,this.trackRemovals=a,this.De=new pu(c=>c.toString(),(c,h)=>c.isEqual(h))}applyChanges(r){const a=[];let c=0,h=new si((v,S)=>At(v.canonicalString(),S.canonicalString()));return this.changes.forEach((v,S)=>{const L=this.De.get(v);if(S.document.isValidDocument()){const q=Ac(this.Se.N,S.document,this.getReadTime(v));h=h.add(v.path.popLast()),c+=Sc(q)-L,a.push(this.Se.addEntry(r,v,q))}else if(c-=L,this.trackRemovals){const q=Ac(this.Se.N,kr.newNoDocument(v,hn.min()),this.getReadTime(v));a.push(this.Se.addEntry(r,v,q))}else a.push(this.Se.removeEntry(r,v))}),h.forEach(v=>{a.push(this.Se.Ht.addToCollectionParentIndex(r,v))}),a.push(this.Se.updateMetadata(r,c)),St.waitFor(a)}getFromCache(r,a){return this.Se.Pe(r,a).next(c=>(this.De.set(a,c.size),c.document))}getAllFromCache(r,a){return this.Se.ve(r,a).next(({documents:c,Ve:h})=>(h.forEach((v,S)=>{this.De.set(v,S)}),c))}}function Sh(u){return Po(u,Ft.store)}function ea(u){return Po(u,it.store)}function Nh(u){return u.path.toArray()}class Dm{constructor(r){this.N=r}Ct(r,a,c,h){Jt(c<h&&c>=0&&h<=11);const v=new Dc("createOrUpgrade",a);var L;c<1&&h>=1&&(r.createObjectStore(g.store),(L=r).createObjectStore(m.store,{keyPath:m.keyPath}),L.createObjectStore(A.store,{keyPath:A.keyPath,autoIncrement:!0}).createIndex(A.userMutationsIndex,A.userMutationsKeyPath,{unique:!0}),L.createObjectStore(H.store),Am(r),function(L){L.createObjectStore(it.store)}(r));let S=St.resolve();return c<3&&h>=3&&(0!==c&&(function(L){L.deleteObjectStore(ln.store),L.deleteObjectStore(Kt.store),L.deleteObjectStore(rn.store)}(r),Am(r)),S=S.next(()=>function(L){const q=L.store(rn.store),ie=new rn(0,0,hn.min().toTimestamp(),0);return q.put(rn.key,ie)}(v))),c<4&&h>=4&&(0!==c&&(S=S.next(()=>function(L,q){return q.store(A.store).Lt().next(ie=>{L.deleteObjectStore(A.store),L.createObjectStore(A.store,{keyPath:A.keyPath,autoIncrement:!0}).createIndex(A.userMutationsIndex,A.userMutationsKeyPath,{unique:!0});const he=q.store(A.store),xe=ie.map(lt=>he.put(lt));return St.waitFor(xe)})}(r,v))),S=S.next(()=>{!function(L){L.createObjectStore(xi.store,{keyPath:xi.keyPath})}(r)})),c<5&&h>=5&&(S=S.next(()=>this.Ce(v))),c<6&&h>=6&&(S=S.next(()=>(function(L){L.createObjectStore(Ft.store)}(r),this.Ne(v)))),c<7&&h>=7&&(S=S.next(()=>this.xe(v))),c<8&&h>=8&&(S=S.next(()=>this.ke(r,v))),c<9&&h>=9&&(S=S.next(()=>{(function(L){L.objectStoreNames.contains("remoteDocumentChanges")&&L.deleteObjectStore("remoteDocumentChanges")})(r),function(L){const q=L.objectStore(it.store);q.createIndex(it.readTimeIndex,it.readTimeIndexPath,{unique:!1}),q.createIndex(it.collectionReadTimeIndex,it.collectionReadTimeIndexPath,{unique:!1})}(a)})),c<10&&h>=10&&(S=S.next(()=>this.$e(v))),c<11&&h>=11&&(S=S.next(()=>{(function(L){L.createObjectStore(yo.store,{keyPath:yo.keyPath})})(r),function(L){L.createObjectStore(Zi.store,{keyPath:Zi.keyPath})}(r)})),S}Ne(r){let a=0;return r.store(it.store).Kt((c,h)=>{a+=Sc(h)}).next(()=>{const c=new Ft(a);return r.store(Ft.store).put(Ft.key,c)})}Ce(r){const a=r.store(m.store),c=r.store(A.store);return a.Lt().next(h=>St.forEach(h,v=>{const S=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return c.Lt(A.userMutationsIndex,S).next(L=>St.forEach(L,q=>{Jt(q.userId===v.userId);const ie=kl(this.N,q);return rp(r,v.userId,ie).next(()=>{})}))}))}xe(r){const a=r.store(ln.store),c=r.store(it.store);return r.store(rn.store).get(rn.key).next(h=>{const v=[];return c.Kt((S,L)=>{const q=new tr(S),ie=[0,Oo(q)];v.push(a.get(ie).next(he=>he?St.resolve():a.put(new ln(0,Oo(q),h.highestListenSequenceNumber))))}).next(()=>St.waitFor(v))})}ke(r,a){r.createObjectStore(Hr.store,{keyPath:Hr.keyPath});const c=a.store(Hr.store),h=new np,v=S=>{if(h.add(S)){const L=S.lastSegment(),q=S.popLast();return c.put({collectionId:L,parent:Oo(q)})}};return a.store(it.store).Kt({qt:!0},(S,L)=>{const q=new tr(S);return v(q.popLast())}).next(()=>a.store(H.store).Kt({qt:!0},([S,L,q],ie)=>{const he=Jo(L);return v(he.popLast())}))}$e(r){const a=r.store(Kt.store);return a.Kt((c,h)=>{const v=Th(h),S=Fl(this.N,v);return a.put(S)})}}function Am(u){u.createObjectStore(ln.store,{keyPath:ln.keyPath}).createIndex(ln.documentTargetsIndex,ln.documentTargetsKeyPath,{unique:!0}),u.createObjectStore(Kt.store,{keyPath:Kt.keyPath}).createIndex(Kt.queryTargetsIndexName,Kt.queryTargetsKeyPath,{unique:!0}),u.createObjectStore(rn.store)}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xh{constructor(r,a,c,h,v,S,L,q,ie,he){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=c,this.Oe=v,this.window=S,this.document=L,this.Fe=ie,this.Me=he,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=xe=>Promise.resolve(),!xh.Pt())throw new T(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tm(this,h),this.We=a+"main",this.N=new ym(q),this.Ge=new no(this.We,11,new Dm(this.N)),this.ze=new Ll(this.referenceDelegate,this.N),this.Ht=new w_,this.He=new cp(this.N,this.Ht),this.Je=new _m,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===he&&un("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new T(I.FAILED_PRECONDITION,dp);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new ct(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var a=this;return this.Qe=function(){var c=(0,pe.Z)(function*(h){if(a.started)return r(h)});return function(h){return c.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var a=(0,pe.Z)(function*(c){null===c.newVersion&&(yield r())});return function(c){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,pe.Z)(function*(){a.started&&(yield a.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>yd(r).put(new xi(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(a=>{a||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(a=>this.isPrimary&&!a?this.on(r).next(()=>!1):!!a&&this.an(r).next(()=>!0))).catch(r=>{if(fu(r))return ut("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return Bl(r).get(g.key).next(a=>St.resolve(this.cn(a)))}un(r){return yd(r).delete(this.clientId)}hn(){var r=this;return(0,pe.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",c=>{const h=Po(c,xi.store);return h.Lt().next(v=>{const S=r.fn(v,18e5),L=v.filter(q=>-1===S.indexOf(q));return St.forEach(L,q=>h.delete(q.clientId)).next(()=>L)})}).catch(()=>[]);if(r.Ye)for(const c of a)r.Ye.removeItem(r.dn(c.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?St.resolve(!0):Bl(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)){if(this.cn(a)&&this.networkEnabled)return!0;if(!this.cn(a)){if(!a.allowTabSynchronization)throw new T(I.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||yd(r).Lt().next(c=>void 0===this.fn(c,5e3).find(h=>{if(this.clientId!==h.clientId){const S=!this.inForeground&&h.inForeground,L=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||S&&L)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&ut("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,pe.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[g.store,xi.store],a=>{const c=new ep(a,ct.T);return r.on(c).next(()=>r.un(c))}),r.Ge.close(),r.yn()})()}fn(r,a){return r.filter(c=>this.ln(c.updateTimeMs,a)&&!this.wn(c.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>yd(r).Lt().next(a=>this.fn(a,18e5).map(c=>c.clientId)))}get started(){return this.Be}getMutationQueue(r){return Dh.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,a,c){let v;return ut("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===a?"readonly":"readwrite",Ic,S=>(v=new ep(S,this.Le?this.Le.next():ct.T),"readwrite-primary"===a?this.sn(v).next(L=>!!L||this.rn(v)).next(L=>{if(!L)throw un(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new T(I.FAILED_PRECONDITION,hd);return c(v)}).next(L=>this.an(v).next(()=>L)):this.En(v).next(()=>c(v)))).then(S=>(v.raiseOnCommittedEvent(),S))}En(r){return Bl(r).get(g.key).next(a=>{if(null!==a&&this.ln(a.leaseTimestampMs,5e3)&&!this.wn(a.ownerId)&&!this.cn(a)&&!(this.Me||this.allowTabSynchronization&&a.allowTabSynchronization))throw new T(I.FAILED_PRECONDITION,dp)})}an(r){const a=new g(this.clientId,this.allowTabSynchronization,Date.now());return Bl(r).put(g.key,a)}static Pt(){return no.Pt()}on(r){const a=Bl(r);return a.get(g.key).next(c=>this.cn(c)?(ut("IndexedDbPersistence","Releasing primary lease."),a.delete(g.key)):St.resolve())}ln(r,a){const c=Date.now();return!(r<c-a||r>c&&(un(`Detected an update time that is in the future: ${r} > ${c}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Oe.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var a;try{const c=null!==(null===(a=this.Ye)||void 0===a?void 0:a.getItem(this.dn(r)));return ut("IndexedDbPersistence",`Client '${r}' ${c?"is":"is not"} zombied in LocalStorage`),c}catch(c){return un("IndexedDbPersistence","Failed to get zombied client id.",c),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){un("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function Bl(u){return Po(u,g.store)}function yd(u){return Po(u,xi.store)}function Sm(u,r){let a=u.projectId;return u.isDefaultDatabase||(a+="."+u.database),"firestore/"+r+"/"+a+"/"}class Nm{constructor(r,a){this.progress=r,this.Tn=a}}class xm{constructor(r,a,c){this.He=r,this.In=a,this.Ht=c}An(r,a){return this.In.getAllMutationBatchesAffectingDocumentKey(r,a).next(c=>this.Rn(r,a,c))}Rn(r,a,c){return this.He.getEntry(r,a).next(h=>{for(const v of c)v.applyToLocalView(h);return h})}Pn(r,a){r.forEach((c,h)=>{for(const v of a)v.applyToLocalView(h)})}bn(r,a){return this.He.getEntries(r,a).next(c=>this.vn(r,c).next(()=>c))}vn(r,a){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,a).next(c=>this.Pn(a,c))}getDocumentsMatchingQuery(r,a,c){return $t.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Vn(r,a.path):ed(a)?this.Sn(r,a,c):this.Dn(r,a,c);var h}Vn(r,a){return this.An(r,new $t(a)).next(c=>{let h=od();return c.isFoundDocument()&&(h=h.insert(c.key,c)),h})}Sn(r,a,c){const h=a.collectionGroup;let v=od();return this.Ht.getCollectionParents(r,h).next(S=>St.forEach(S,L=>{const q=(ie=a,he=L.child(h),new Ds(he,null,ie.explicitOrderBy.slice(),ie.filters.slice(),ie.limit,ie.limitType,ie.startAt,ie.endAt));var ie,he;return this.Dn(r,q,c).next(ie=>{ie.forEach((he,xe)=>{v=v.insert(he,xe)})})}).next(()=>v))}Dn(r,a,c){let h,v;return this.He.getDocumentsMatchingQuery(r,a,c).next(S=>(h=S,this.In.getAllMutationBatchesAffectingQuery(r,a))).next(S=>(v=S,this.Cn(r,v,h).next(L=>{h=L;for(const q of v)for(const ie of q.mutations){const he=ie.key;let xe=h.get(he);null==xe&&(xe=kr.newInvalidDocument(he),h=h.insert(he,xe)),Dl(ie,xe,q.localWriteTime),xe.isFoundDocument()||(h=h.remove(he))}}))).next(()=>(h.forEach((S,L)=>{go(a,L)||(h=h.remove(S))}),h))}Cn(r,a,c){let h=cr();for(const S of a)for(const L of S.mutations)L instanceof Ps&&null===c.get(L.key)&&(h=h.add(L.key));let v=c;return this.He.getEntries(r,h).next(S=>(S.forEach((L,q)=>{q.isFoundDocument()&&(v=v.insert(L,q))}),v))}}class Rh{constructor(r,a,c,h){this.targetId=r,this.fromCache=a,this.Nn=c,this.xn=h}static kn(r,a){let c=cr(),h=cr();for(const v of a.docChanges)switch(v.type){case 0:c=c.add(v.doc.key);break;case 1:h=h.add(v.doc.key)}return new Rh(r,a.fromCache,c,h)}}class Rm{$n(r){this.On=r}getDocumentsMatchingQuery(r,a,c,h){return 0===(v=a).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||c.isEqual(hn.min())?this.Fn(r,a):this.On.bn(r,h).next(v=>{const S=this.Mn(a,v);return(Cl(a)||Xc(a))&&this.Ln(a.limitType,S,h,c)?this.Fn(r,a):(Rn()<=Pt.in.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Hu(a)),this.On.getDocumentsMatchingQuery(r,a,c).next(L=>(S.forEach(q=>{L=L.insert(q.key,q)}),L)))});var v}Mn(r,a){let c=new si(nh(r));return a.forEach((h,v)=>{go(r,v)&&(c=c.add(v))}),c}Ln(r,a,c,h){if(c.size!==a.size)return!0;const v="F"===r?a.last():a.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(h)>0)}Fn(r,a){return Rn()<=Pt.in.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Hu(a)),this.On.getDocumentsMatchingQuery(r,a,hn.min())}}class C_{constructor(r,a,c,h){this.persistence=r,this.Bn=a,this.N=h,this.Un=new di(At),this.qn=new pu(v=>Lu(v),Vu),this.Kn=hn.min(),this.In=r.getMutationQueue(c),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new xm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.Un))}}function ta(u,r,a,c){return new C_(u,r,a,c)}function Mm(u,r){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,pe.Z)(function*(u,r){const a=x(u);let c=a.In,h=a.Qn;const v=yield a.persistence.runTransaction("Handle user change","readonly",S=>{let L;return a.In.getAllMutationBatches(S).next(q=>(L=q,c=a.persistence.getMutationQueue(r),h=new xm(a.jn,c,a.persistence.getIndexManager()),c.getAllMutationBatches(S))).next(q=>{const ie=[],he=[];let xe=cr();for(const lt of L){ie.push(lt.batchId);for(const Ct of lt.mutations)xe=xe.add(Ct.key)}for(const lt of q){he.push(lt.batchId);for(const Ct of lt.mutations)xe=xe.add(Ct.key)}return h.bn(S,xe).next(lt=>({Wn:lt,removedBatchIds:ie,addedBatchIds:he}))})});return a.In=c,a.Qn=h,a.Bn.$n(a.Qn),v})).apply(this,arguments)}function T_(u,r){const a=x(u);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",c=>{const h=r.batch.keys(),v=a.jn.newChangeBuffer({trackRemovals:!0});return function(S,L,q,ie){const he=q.batch,xe=he.keys();let lt=St.resolve();return xe.forEach(Ct=>{lt=lt.next(()=>ie.getEntry(L,Ct)).next(jt=>{const _n=q.docVersions.get(Ct);Jt(null!==_n),jt.version.compareTo(_n)<0&&(he.applyToRemoteDocument(jt,q),jt.isValidDocument()&&ie.addEntry(jt,q.commitVersion))})}),lt.next(()=>S.In.removeMutationBatch(L,he))}(a,c,r,v).next(()=>v.apply(c)).next(()=>a.In.performConsistencyCheck(c)).next(()=>a.Qn.bn(c,h))})}function Om(u){const r=x(u);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.ze.getLastRemoteSnapshotVersion(a))}function I_(u,r){const a=x(u),c=r.snapshotVersion;let h=a.Un;return a.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const S=a.jn.newChangeBuffer({trackRemovals:!0});h=a.Un;const L=[];r.targetChanges.forEach((ie,he)=>{const xe=h.get(he);if(!xe)return;L.push(a.ze.removeMatchingKeys(v,ie.removedDocuments,he).next(()=>a.ze.addMatchingKeys(v,ie.addedDocuments,he)));const lt=ie.resumeToken;if(lt.approximateByteSize()>0){const Ct=xe.withResumeToken(lt,c).withSequenceNumber(v.currentSequenceNumber);h=h.insert(he,Ct),jt=xe,Fn=ie,Jt((_n=Ct).resumeToken.approximateByteSize()>0),(0===jt.resumeToken.approximateByteSize()||_n.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&L.push(a.ze.updateTargetData(v,Ct))}var jt,_n,Fn});let q=to();if(r.documentUpdates.forEach((ie,he)=>{r.resolvedLimboDocuments.has(ie)&&L.push(a.persistence.referenceDelegate.updateLimboDocument(v,ie))}),L.push(Pm(v,S,r.documentUpdates,c,void 0).next(ie=>{q=ie})),!c.isEqual(hn.min())){const ie=a.ze.getLastRemoteSnapshotVersion(v).next(he=>a.ze.setTargetsMetadata(v,v.currentSequenceNumber,c));L.push(ie)}return St.waitFor(L).next(()=>S.apply(v)).next(()=>a.Qn.vn(v,q)).next(()=>q)}).then(v=>(a.Un=h,v))}function Pm(u,r,a,c,h){let v=cr();return a.forEach(S=>v=v.add(S)),r.getEntries(u,v).next(S=>{let L=to();return a.forEach((q,ie)=>{const he=S.get(q),xe=(null==h?void 0:h.get(q))||c;ie.isNoDocument()&&ie.version.isEqual(hn.min())?(r.removeEntry(q,xe),L=L.insert(q,ie)):!he.isValidDocument()||ie.version.compareTo(he.version)>0||0===ie.version.compareTo(he.version)&&he.hasPendingWrites?(r.addEntry(ie,xe),L=L.insert(q,ie)):ut("LocalStore","Ignoring outdated watch update for ",q,". Current version:",he.version," Watch version:",ie.version)}),L})}function km(u,r){const a=x(u);return a.persistence.runTransaction("Get next mutation batch","readonly",c=>(void 0===r&&(r=-1),a.In.getNextMutationBatchAfterBatchId(c,r)))}function xc(u,r){const a=x(u);return a.persistence.runTransaction("Allocate target","readwrite",c=>{let h;return a.ze.getTargetData(c,r).next(v=>v?(h=v,St.resolve(h)):a.ze.allocateTargetId(c).next(S=>(h=new Fa(r,S,0,c.currentSequenceNumber),a.ze.addTargetData(c,h).next(()=>h))))}).then(c=>{const h=a.Un.get(c.targetId);return(null===h||c.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.Un=a.Un.insert(c.targetId,c),a.qn.set(r,c.targetId)),c})}function Rc(u,r,a){return hp.apply(this,arguments)}function hp(){return(hp=(0,pe.Z)(function*(u,r,a){const c=x(u),h=c.Un.get(r),v=a?"readwrite":"readwrite-primary";try{a||(yield c.persistence.runTransaction("Release target",v,S=>c.persistence.referenceDelegate.removeTarget(S,h)))}catch(S){if(!fu(S))throw S;ut("LocalStore",`Failed to update sequence numbers for target ${r}: ${S}`)}c.Un=c.Un.remove(r),c.qn.delete(h.target)})).apply(this,arguments)}function Mn(u,r,a){const c=x(u);let h=hn.min(),v=cr();return c.persistence.runTransaction("Execute query","readonly",S=>function(L,q,ie){const he=x(L),xe=he.qn.get(ie);return void 0!==xe?St.resolve(he.Un.get(xe)):he.ze.getTargetData(q,ie)}(c,S,Xs(r)).next(L=>{if(L)return h=L.lastLimboFreeSnapshotVersion,c.ze.getMatchingKeysForTargetId(S,L.targetId).next(q=>{v=q})}).next(()=>c.Bn.getDocumentsMatchingQuery(S,r,a?h:hn.min(),a?v:cr())).next(L=>({documents:L,Gn:v})))}function fp(u,r){const a=x(u),c=x(a.ze),h=a.Un.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",v=>c.Et(v,r).next(S=>S?S.target:null))}function pp(u){const r=x(u);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(c,h,v){const S=x(c);let L=to(),q=Ch(v);const ie=ea(h),he=IDBKeyRange.lowerBound(q,!0);return ie.Kt({index:it.readTimeIndex,range:he},(xe,lt)=>{const Ct=wh(S.N,lt);L=L.insert(Ct.key,Ct),q=lt.readTime}).next(()=>({Tn:L,readTime:tp(q)}))}(r.jn,a,r.Kn)).then(({Tn:a,readTime:c})=>(r.Kn=c,a))}function ko(){return(ko=(0,pe.Z)(function*(u){const r=x(u);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(c){const h=ea(c);let v=hn.min();return h.Kt({index:it.readTimeIndex,reverse:!0},(S,L,q)=>{L.readTime&&(v=tp(L.readTime)),q.done()}).next(()=>v)}(a)).then(a=>{r.Kn=a})})).apply(this,arguments)}function gp(){return(gp=(0,pe.Z)(function*(u,r,a,c){const h=x(u);let v=cr(),S=to(),L=Nl();for(const he of a){const xe=r.zn(he.metadata.name);he.document&&(v=v.add(xe)),S=S.insert(xe,r.Hn(he)),L=L.insert(xe,r.Jn(he.metadata.readTime))}const q=h.jn.newChangeBuffer({trackRemovals:!0}),ie=yield xc(h,(he=c,Xs(jr(tr.fromString(`__bundle__/docs/${he}`)))));var he;return h.persistence.runTransaction("Apply bundle documents","readwrite",he=>Pm(he,q,S,hn.min(),L).next(xe=>(q.apply(he),xe)).next(xe=>h.ze.removeMatchingKeysForTargetId(he,ie.targetId).next(()=>h.ze.addMatchingKeys(he,v,ie.targetId)).next(()=>h.Qn.vn(he,xe)).next(()=>xe)))})).apply(this,arguments)}function mp(u,r){return ma.apply(this,arguments)}function ma(){return(ma=(0,pe.Z)(function*(u,r,a=cr()){const c=yield xc(u,Xs(md(r.bundledQuery))),h=x(u);return h.persistence.runTransaction("Save named query","readwrite",v=>{const S=oi(r.readTime);if(c.snapshotVersion.compareTo(S)>=0)return h.Je.saveNamedQuery(v,r);const L=c.withResumeToken(Ai.EMPTY_BYTE_STRING,S);return h.Un=h.Un.insert(L.targetId,L),h.ze.updateTargetData(v,L).next(()=>h.ze.removeMatchingKeysForTargetId(v,c.targetId)).next(()=>h.ze.addMatchingKeys(v,a,c.targetId)).next(()=>h.Je.saveNamedQuery(v,r))})})).apply(this,arguments)}class yp{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,a){return St.resolve(this.Yn.get(a))}saveBundleMetadata(r,a){var c;return this.Yn.set(a.id,{id:(c=a).id,version:c.version,createTime:oi(c.createTime)}),St.resolve()}getNamedQuery(r,a){return St.resolve(this.Xn.get(a))}saveNamedQuery(r,a){return this.Xn.set(a.name,{name:(c=a).name,query:md(c.bundledQuery),readTime:oi(c.readTime)}),St.resolve();var c}}class Ph{constructor(){this.Zn=new si(Gi.ts),this.es=new si(Gi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,a){const c=new Gi(r,a);this.Zn=this.Zn.add(c),this.es=this.es.add(c)}ss(r,a){r.forEach(c=>this.addReference(c,a))}removeReference(r,a){this.rs(new Gi(r,a))}os(r,a){r.forEach(c=>this.removeReference(c,a))}cs(r){const a=new $t(new tr([])),c=new Gi(a,r),h=new Gi(a,r+1),v=[];return this.es.forEachInRange([c,h],S=>{this.rs(S),v.push(S.key)}),v}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const a=new $t(new tr([])),c=new Gi(a,r),h=new Gi(a,r+1);let v=cr();return this.es.forEachInRange([c,h],S=>{v=v.add(S.key)}),v}containsKey(r){const a=new Gi(r,0),c=this.Zn.firstAfterOrEqual(a);return null!==c&&r.isEqual(c.key)}}class Gi{constructor(r,a){this.key=r,this.ls=a}static ts(r,a){return $t.comparator(r.key,a.key)||At(r.ls,a.ls)}static ns(r,a){return At(r.ls,a.ls)||$t.comparator(r.key,a.key)}}class BE{constructor(r,a){this.Ht=r,this.referenceDelegate=a,this.In=[],this.fs=1,this.ds=new si(Gi.ts)}checkEmpty(r){return St.resolve(0===this.In.length)}addMutationBatch(r,a,c,h){const v=this.fs;this.fs++;const S=new Xo(v,a,c,h);this.In.push(S);for(const L of h)this.ds=this.ds.add(new Gi(L.key,v)),this.Ht.addToCollectionParentIndex(r,L.key.path.popLast());return St.resolve(S)}lookupMutationBatch(r,a){return St.resolve(this.ws(a))}getNextMutationBatchAfterBatchId(r,a){const h=this._s(a+1),v=h<0?0:h;return St.resolve(this.In.length>v?this.In[v]:null)}getHighestUnacknowledgedBatchId(){return St.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return St.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const c=new Gi(a,0),h=new Gi(a,Number.POSITIVE_INFINITY),v=[];return this.ds.forEachInRange([c,h],S=>{const L=this.ws(S.ls);v.push(L)}),St.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(r,a){let c=new si(At);return a.forEach(h=>{const v=new Gi(h,0),S=new Gi(h,Number.POSITIVE_INFINITY);this.ds.forEachInRange([v,S],L=>{c=c.add(L.ls)})}),St.resolve(this.gs(c))}getAllMutationBatchesAffectingQuery(r,a){const c=a.path,h=c.length+1;let v=c;$t.isDocumentKey(v)||(v=v.child(""));const S=new Gi(new $t(v),0);let L=new si(At);return this.ds.forEachWhile(q=>{const ie=q.key.path;return!!c.isPrefixOf(ie)&&(ie.length===h&&(L=L.add(q.ls)),!0)},S),St.resolve(this.gs(L))}gs(r){const a=[];return r.forEach(c=>{const h=this.ws(c);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){Jt(0===this.ys(a.batchId,"removed")),this.In.shift();let c=this.ds;return St.forEach(a.mutations,h=>{const v=new Gi(h.key,a.batchId);return c=c.delete(v),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.ds=c})}te(r){}containsKey(r,a){const c=new Gi(a,0),h=this.ds.firstAfterOrEqual(c);return St.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return St.resolve()}ys(r,a){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const a=this._s(r);return a<0||a>=this.In.length?null:this.In[a]}}class Lm{constructor(r,a){this.Ht=r,this.ps=a,this.docs=new di($t.comparator),this.size=0}addEntry(r,a,c){const h=a.key,v=this.docs.get(h),S=v?v.size:0,L=this.ps(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:L,readTime:c}),this.size+=L-S,this.Ht.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const c=this.docs.get(a);return St.resolve(c?c.document.clone():kr.newInvalidDocument(a))}getEntries(r,a){let c=to();return a.forEach(h=>{const v=this.docs.get(h);c=c.insert(h,v?v.document.clone():kr.newInvalidDocument(h))}),St.resolve(c)}getDocumentsMatchingQuery(r,a,c){let h=to();const v=new $t(a.path.child("")),S=this.docs.getIteratorFrom(v);for(;S.hasNext();){const{key:L,value:{document:q,readTime:ie}}=S.getNext();if(!a.path.isPrefixOf(L.path))break;ie.compareTo(c)<=0||go(a,q)&&(h=h.insert(q.key,q.clone()))}return St.resolve(h)}Es(r,a){return St.forEach(this.docs,c=>a(c))}newChangeBuffer(r){return new jE(this)}getSize(r){return St.resolve(this.size)}}class jE extends lp{constructor(r){super(),this.Se=r}applyChanges(r){const a=[];return this.changes.forEach((c,h)=>{h.document.isValidDocument()?a.push(this.Se.addEntry(r,h.document,this.getReadTime(c))):this.Se.removeEntry(c)}),St.waitFor(a)}getFromCache(r,a){return this.Se.getEntry(r,a)}getAllFromCache(r,a){return this.Se.getEntries(r,a)}}class gu{constructor(r){this.persistence=r,this.Ts=new pu(a=>Lu(a),Vu),this.lastRemoteSnapshotVersion=hn.min(),this.highestTargetId=0,this.Is=0,this.As=new Ph,this.targetCount=0,this.Rs=sl.se()}forEachTarget(r,a){return this.Ts.forEach((c,h)=>a(h)),St.resolve()}getLastRemoteSnapshotVersion(r){return St.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return St.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),St.resolve(this.highestTargetId)}setTargetsMetadata(r,a,c){return c&&(this.lastRemoteSnapshotVersion=c),a>this.Is&&(this.Is=a),St.resolve()}ae(r){this.Ts.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.Rs=new sl(a),this.highestTargetId=a),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,a){return this.ae(a),this.targetCount+=1,St.resolve()}updateTargetData(r,a){return this.ae(a),St.resolve()}removeTargetData(r,a){return this.Ts.delete(a.target),this.As.cs(a.targetId),this.targetCount-=1,St.resolve()}removeTargets(r,a,c){let h=0;const v=[];return this.Ts.forEach((S,L)=>{L.sequenceNumber<=a&&null===c.get(L.targetId)&&(this.Ts.delete(S),v.push(this.removeMatchingKeysForTargetId(r,L.targetId)),h++)}),St.waitFor(v).next(()=>h)}getTargetCount(r){return St.resolve(this.targetCount)}getTargetData(r,a){const c=this.Ts.get(a)||null;return St.resolve(c)}addMatchingKeys(r,a,c){return this.As.ss(a,c),St.resolve()}removeMatchingKeys(r,a,c){this.As.os(a,c);const h=this.persistence.referenceDelegate,v=[];return h&&a.forEach(S=>{v.push(h.markPotentiallyOrphaned(r,S))}),St.waitFor(v)}removeMatchingKeysForTargetId(r,a){return this.As.cs(a),St.resolve()}getMatchingKeysForTargetId(r,a){const c=this.As.hs(a);return St.resolve(c)}containsKey(r,a){return St.resolve(this.As.containsKey(a))}}class kh{constructor(r,a){this.Ps={},this.Le=new ct(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new gu(this),this.Ht=new b_,this.He=new Lm(this.Ht,c=>this.referenceDelegate.bs(c)),this.N=new ym(a),this.Je=new yp(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let a=this.Ps[r.toKey()];return a||(a=new BE(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=a),a}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,a,c){ut("MemoryPersistence","Starting transaction:",r);const h=new Fh(this.Le.next());return this.referenceDelegate.vs(),c(h).next(v=>this.referenceDelegate.Vs(h).next(()=>v)).toPromise().then(v=>(h.raiseOnCommittedEvent(),v))}Ss(r,a){return St.or(Object.values(this.Ps).map(c=>()=>c.containsKey(r,a)))}}class Fh extends fd{constructor(r){super(),this.currentSequenceNumber=r}}class _d{constructor(r){this.persistence=r,this.Ds=new Ph,this.Cs=null}static Ns(r){return new _d(r)}get xs(){if(this.Cs)return this.Cs;throw Ht()}addReference(r,a,c){return this.Ds.addReference(c,a),this.xs.delete(c.toString()),St.resolve()}removeReference(r,a,c){return this.Ds.removeReference(c,a),this.xs.add(c.toString()),St.resolve()}markPotentiallyOrphaned(r,a){return this.xs.add(a.toString()),St.resolve()}removeTarget(r,a){this.Ds.cs(a.targetId).forEach(h=>this.xs.add(h.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(v=>this.xs.add(v.toString()))}).next(()=>c.removeTargetData(r,a))}vs(){this.Cs=new Set}Vs(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return St.forEach(this.xs,c=>{const h=$t.fromPath(c);return this.ks(r,h).next(v=>{v||a.removeEntry(h)})}).next(()=>(this.Cs=null,a.apply(r)))}updateLimboDocument(r,a){return this.ks(r,a).next(c=>{c?this.xs.delete(a.toString()):this.xs.add(a.toString())})}bs(r){return 0}ks(r,a){return St.or([()=>St.resolve(this.Ds.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Ss(r,a)])}}function D_(u,r){return`firestore_clients_${u}_${r}`}function Vm(u,r,a){let c=`firestore_mutations_${u}_${a}`;return r.isAuthenticated()&&(c+=`_${r.uid}`),c}function Lh(u,r){return`firestore_targets_${u}_${r}`}class _p{constructor(r,a,c,h){this.user=r,this.batchId=a,this.state=c,this.error=h}static $s(r,a,c){const h=JSON.parse(c);let v,S="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return S&&h.error&&(S="string"==typeof h.error.message&&"string"==typeof h.error.code,S&&(v=new T(h.error.code,h.error.message))),S?new _p(r,a,h.state,v):(un("SharedClientState",`Failed to parse mutation state for ID '${a}': ${c}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class vd{constructor(r,a,c){this.targetId=r,this.state=a,this.error=c}static $s(r,a){const c=JSON.parse(a);let h,v="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(h=new T(c.error.code,c.error.message))),v?new vd(r,c.state,h):(un("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class vp{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static $s(r,a){const c=JSON.parse(a);let h="object"==typeof c&&c.activeTargetIds instanceof Array,v=Oa();for(let S=0;h&&S<c.activeTargetIds.length;++S)h=Hf(c.activeTargetIds[S]),v=v.add(c.activeTargetIds[S]);return h?new vp(r,v):(un("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class Vh{constructor(r,a){this.clientId=r,this.onlineState=a}static $s(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new Vh(a.clientId,a.onlineState):(un("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Uh{constructor(){this.activeTargetIds=Oa()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Ep{constructor(r,a,c,h,v){this.window=r,this.Oe=a,this.persistenceKey=c,this.Ls=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new di(At),this.started=!1,this.Ks=[];const S=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.js=D_(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Uh),this.Ws=new RegExp(`^firestore_clients_${S}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${S}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${S}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(L){return`firestore_bundle_loaded_${L}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,pe.Z)(function*(){const a=yield r.syncEngine.pn();for(const h of a){if(h===r.Ls)continue;const v=r.getItem(D_(r.persistenceKey,h));if(v){const S=vp.$s(h,v);S&&(r.qs=r.qs.insert(S.clientId,S))}}r.Ys();const c=r.storage.getItem(r.Hs);if(c){const h=r.Xs(c);h&&r.Zs(h)}for(const h of r.Ks)r.Us(h);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let a=!1;return this.qs.forEach((c,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,a,c){this.ei(r,a,c),this.ni(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const c=this.storage.getItem(Lh(this.persistenceKey,r));if(c){const h=vd.$s(r,c);h&&(a=h.state)}}return this.si.Fs(r),this.Ys(),a}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(Lh(this.persistenceKey,r))}updateQueryState(r,a,c){this.ii(r,a,c)}handleUserChange(r,a,c){a.forEach(h=>{this.ni(h)}),this.currentUser=r,c.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return ut("SharedClientState","READ",r,a),a}setItem(r,a){ut("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){ut("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var a=this;const c=r;if(c.storageArea===this.storage){if(ut("SharedClientState","EVENT",c.key,c.newValue),c.key===this.js)return void un("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,pe.Z)(function*(){if(a.started){if(null!==c.key)if(a.Ws.test(c.key)){if(null==c.newValue){const h=a.ai(c.key);return a.ci(h,null)}{const h=a.ui(c.key,c.newValue);if(h)return a.ci(h.clientId,h)}}else if(a.Gs.test(c.key)){if(null!==c.newValue){const h=a.hi(c.key,c.newValue);if(h)return a.li(h)}}else if(a.zs.test(c.key)){if(null!==c.newValue){const h=a.fi(c.key,c.newValue);if(h)return a.di(h)}}else if(c.key===a.Hs){if(null!==c.newValue){const h=a.Xs(c.newValue);if(h)return a.Zs(h)}}else if(c.key===a.Qs){const h=function(v){let S=ct.T;if(null!=v)try{const L=JSON.parse(v);Jt("number"==typeof L),S=L}catch(L){un("SharedClientState","Failed to read sequence number from WebStorage",L)}return S}(c.newValue);h!==ct.T&&a.sequenceNumberHandler(h)}else if(c.key===a.Js)return a.syncEngine.wi()}else a.Ks.push(c)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,a,c){const h=new _p(this.currentUser,r,a,c),v=Vm(this.persistenceKey,this.currentUser,r);this.setItem(v,h.Os())}ni(r){const a=Vm(this.persistenceKey,this.currentUser,r);this.removeItem(a)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,a,c){const h=Lh(this.persistenceKey,r),v=new vd(r,a,c);this.setItem(h,v.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const a=this.Ws.exec(r);return a?a[1]:null}ui(r,a){const c=this.ai(r);return vp.$s(c,a)}hi(r,a){const c=this.Gs.exec(r),h=Number(c[1]);return _p.$s(new Tt(void 0!==c[2]?c[2]:null),h,a)}fi(r,a){const c=this.zs.exec(r),h=Number(c[1]);return vd.$s(h,a)}Xs(r){return Vh.$s(r)}li(r){var a=this;return(0,pe.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine._i(r.batchId,r.state,r.error);ut("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,a){const c=a?this.qs.insert(r,a):this.qs.remove(r),h=this.ti(this.qs),v=this.ti(c),S=[],L=[];return v.forEach(q=>{h.has(q)||S.push(q)}),h.forEach(q=>{v.has(q)||L.push(q)}),this.syncEngine.gi(S,L).then(()=>{this.qs=c})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let a=Oa();return r.forEach((c,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class Bh{constructor(){this.yi=new Uh,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,c){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,a,c){this.pi[r]=a}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new Uh,Promise.resolve()}handleUserChange(r,a,c){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class HE{Ei(r){}shutdown(){}}class A_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const $E={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ZE{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class GE extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,a,c,h){const v=this.Bi(r,a);ut("RestConnection","Sending: ",v,c);const S={};return this.Ui(S,h),this.qi(r,v,S,c).then(L=>(ut("RestConnection","Received: ",L),L),L=>{throw lr("RestConnection",`${r} failed with error: `,L,"url: ",v,"request:",c),L})}Ki(r,a,c,h){return this.Li(r,a,c,h)}Ui(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+qt,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const c in a.authHeaders)a.authHeaders.hasOwnProperty(c)&&(r[c]=a.authHeaders[c])}Bi(r,a){return`${this.Fi}/v1/${a}:${$E[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,a,c,h){return new Promise((v,S)=>{const L=new _e;L.listenOnce(w.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case b.NO_ERROR:const ie=L.getResponseJson();ut("Connection","XHR received:",JSON.stringify(ie)),v(ie);break;case b.TIMEOUT:ut("Connection",'RPC "'+r+'" timed out'),S(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case b.HTTP_ERROR:const he=L.getStatus();if(ut("Connection",'RPC "'+r+'" failed with status:',he,"response text:",L.getResponseText()),he>0){const xe=L.getResponseJson().error;if(xe&&xe.status&&xe.message){const lt=function(Ct){const jt=Ct.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(jt)>=0?jt:I.UNKNOWN}(xe.status);S(new T(lt,xe.message))}else S(new T(I.UNKNOWN,"Server responded with status "+L.getStatus()))}else S(new T(I.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{ut("Connection",'RPC "'+r+'" completed.')}});const q=JSON.stringify(h);L.send(a,"POST",q,c,15)})}ji(r,a){const c=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Ks,v=ms(),S={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(S.xmlHttpFactory=new J({})),this.Ui(S.initMessageHeaders,a),(0,Oe.uI)()||(0,Oe.b$)()||(0,Oe.d)()||(0,Oe.w1)()||(0,Oe.Mn)()||(0,Oe.ru)()||(S.httpHeadersOverwriteParam="$httpHeaders");const L=c.join("");ut("Connection","Creating WebChannel: "+L,S);const q=h.createWebChannel(L,S);let ie=!1,he=!1;const xe=new ZE({vi:Ct=>{he?ut("Connection","Not sending because WebChannel is closed:",Ct):(ie||(ut("Connection","Opening WebChannel transport."),q.open(),ie=!0),ut("Connection","WebChannel sending:",Ct),q.send(Ct))},Vi:()=>q.close()}),lt=(Ct,jt,_n)=>{Ct.listen(jt,Fn=>{try{_n(Fn)}catch(fi){setTimeout(()=>{throw fi},0)}})};return lt(q,ce.EventType.OPEN,()=>{he||ut("Connection","WebChannel transport opened.")}),lt(q,ce.EventType.CLOSE,()=>{he||(he=!0,ut("Connection","WebChannel transport closed"),xe.$i())}),lt(q,ce.EventType.ERROR,Ct=>{he||(he=!0,lr("Connection","WebChannel transport errored:",Ct),xe.$i(new T(I.UNAVAILABLE,"The operation could not be completed")))}),lt(q,ce.EventType.MESSAGE,Ct=>{var jt;if(!he){const _n=Ct.data[0];Jt(!!_n);const Fn=_n,fi=Fn.error||(null===(jt=Fn[0])||void 0===jt?void 0:jt.error);if(fi){ut("Connection","WebChannel received error:",fi);const Us=fi.status;let Za=function(Zd){const Df=ci[Zd];if(void 0!==Df)return lh(Df)}(Us),ba=fi.message;void 0===Za&&(Za=I.INTERNAL,ba="Unknown error status: "+Us+" with message "+fi.message),he=!0,xe.$i(new T(Za,ba)),q.close()}else ut("Connection","WebChannel received:",_n),xe.Oi(_n)}}),lt(v,R.STAT_EVENT,Ct=>{Ct.stat===Z_PROXY?ut("Connection","Detected buffering proxy"):Ct.stat===Z_NOPROXY&&ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{xe.ki()},0),xe}}function S_(){return"undefined"!=typeof window?window:null}function bp(){return"undefined"!=typeof document?document:null}function jh(u){return new Yf(u,!0)}class Um{constructor(r,a,c=1e3,h=1.5,v=6e4){this.Oe=r,this.timerId=a,this.Qi=c,this.Wi=h,this.Gi=v,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const a=Math.floor(this.zi+this.Zi()),c=Math.max(0,Date.now()-this.Ji),h=Math.max(0,a-c);h>0&&ut("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.zi} ms, delay with jitter: ${a} ms, last attempt: ${c} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,h,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class N_{constructor(r,a,c,h,v,S){this.Oe=r,this.er=c,this.nr=h,this.credentialsProvider=v,this.listener=S,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Um(r,a)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,pe.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,pe.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,a){var c=this;return(0,pe.Z)(function*(){c._r(),c.rr.cancel(),c.sr++,3!==r?c.rr.reset():a&&a.code===I.RESOURCE_EXHAUSTED?(un(a.toString()),un("Using maximum backoff delay to prevent overloading the backend."),c.rr.Yi()):a&&a.code===I.UNAUTHENTICATED&&c.credentialsProvider.invalidateToken(),null!==c.stream&&(c.mr(),c.stream.close(),c.stream=null),c.state=r,yield c.listener.Ci(a)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),a=this.sr;this.credentialsProvider.getToken().then(c=>{this.sr===a&&this.yr(c)},c=>{r(()=>{const h=new T(I.UNKNOWN,"Fetching auth token failed: "+c.message);return this.pr(h)})})}yr(r){const a=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{a(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(c=>{a(()=>this.pr(c))}),this.stream.onMessage(c=>{a(()=>this.onMessage(c))})}ur(){var r=this;this.state=4,this.rr.Xi((0,pe.Z)(function*(){r.state=0,r.start()}))}pr(r){return ut("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return a=>{this.Oe.enqueueAndForget(()=>this.sr===r?a():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qE extends N_{constructor(r,a,c,h,v){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,c,v),this.N=h}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const a=function(u,r){let a;if("targetChange"in r){const c="NO_CHANGE"===(q=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Ht(),h=r.targetChange.targetIds||[],v=function(q,ie){return q.D?(Jt(void 0===ie||"string"==typeof ie),Ai.fromBase64String(ie||"")):(Jt(void 0===ie||ie instanceof Uint8Array),Ai.fromUint8Array(ie||new Uint8Array))}(u,r.targetChange.resumeToken),S=r.targetChange.cause,L=S&&function(q){const ie=void 0===q.code?I.UNKNOWN:lh(q.code);return new T(ie,q.message||"")}(S);a=new _c(c,h,v,L||null)}else if("documentChange"in r){const c=r.documentChange,h=mr(u,c.document.name),v=oi(c.document.updateTime),S=new Ni({mapValue:{fields:c.document.fields}}),L=kr.newFoundDocument(h,v,S);a=new ad(c.targetIds||[],c.removedTargetIds||[],L.key,L)}else if("documentDelete"in r){const c=r.documentDelete,h=mr(u,c.document),v=c.readTime?oi(c.readTime):hn.min(),S=kr.newNoDocument(h,v);a=new ad([],c.removedTargetIds||[],S.key,S)}else if("documentRemove"in r){const c=r.documentRemove,h=mr(u,c.document);a=new ad([],c.removedTargetIds||[],h,null)}else{if(!("filter"in r))return Ht();{const c=r.filter,v=new Wu(c.count||0);a=new fh(c.targetId,v)}}var q;return a}(this.N,r),c=function(h){if(!("targetChange"in h))return hn.min();const v=h.targetChange;return v.targetIds&&v.targetIds.length?hn.min():v.readTime?oi(v.readTime):hn.min()}(r);return this.listener.Tr(a,c)}Ir(r){const a={};a.database=Mo(this.N),a.addTarget=function(h,v){let S;const L=v.target;return S=ac(L)?{documents:hu(h,L)}:{query:ds(h,L)},S.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?S.resumeToken=mh(h,v.resumeToken):v.snapshotVersion.compareTo(hn.min())>0&&(S.readTime=xl(h,v.snapshotVersion.toTimestamp())),S}(this.N,r);const c=function(u,r){const a=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ht()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);c&&(a.labels=c),this.wr(a)}Ar(r){const a={};a.database=Mo(this.N),a.removeTarget=r,this.wr(a)}}class al extends N_{constructor(r,a,c,h,v){super(r,"write_stream_connection_backoff","write_stream_idle",a,c,v),this.N=h,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(Jt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const a=function(u,r){return u&&u.length>0?(Jt(void 0!==r),u.map(a=>function(c,h){let v=oi(c.updateTime?c.updateTime:h);return v.isEqual(hn.min())&&(v=oi(h)),new cu(v,c.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),c=oi(r.commitTime);return this.listener.vr(c,a)}return Jt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=Mo(this.N),this.wr(r)}br(r){const a={streamToken:this.lastStreamToken,writes:r.map(c=>Rl(this.N,c))};this.wr(a)}}class wp extends class{}{constructor(r,a,c){super(),this.credentials=r,this.nr=a,this.N=c,this.Dr=!1}Cr(){if(this.Dr)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Li(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===I.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new T(I.UNKNOWN,h.toString())})}Ki(r,a,c){return this.Cr(),this.credentials.getToken().then(h=>this.nr.Ki(r,a,c,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===I.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new T(I.UNKNOWN,h.toString())})}terminate(){this.Dr=!0}}class x_{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(un(a),this.$r=!1):ut("OnlineStateTracker",a)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Bm{constructor(r,a,c,h,v){var S=this;this.localStore=r,this.datastore=a,this.asyncQueue=c,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=v,this.Qr.Ei(L=>{c.enqueueAndForget((0,pe.Z)(function*(){var q;mu(S)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,pe.Z)(function*(ie){const he=x(ie);he.Kr.add(4),yield ul(he),he.Wr.set("Unknown"),he.Kr.delete(4),yield jl(he)}),function(ie){return q.apply(this,arguments)})(S))}))}),this.Wr=new x_(c,h)}}function jl(u){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,pe.Z)(function*(u){if(mu(u))for(const r of u.jr)yield r(!0)})).apply(this,arguments)}function ul(u){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,pe.Z)(function*(u){for(const r of u.jr)yield r(!1)})).apply(this,arguments)}function ya(u,r){const a=x(u);a.qr.has(r.targetId)||(a.qr.set(r.targetId,r),Ip(a)?Ed(a):kc(a).cr()&&Tp(a,r))}function Mc(u,r){const a=x(u),c=kc(a);a.qr.delete(r),c.cr()&&R_(a,r),0===a.qr.size&&(c.cr()?c.lr():mu(a)&&a.Wr.set("Unknown"))}function Tp(u,r){u.Gr.Y(r.targetId),kc(u).Ir(r)}function R_(u,r){u.Gr.Y(r),kc(u).Ar(r)}function Ed(u){u.Gr=new ud({getRemoteKeysForTarget:r=>u.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>u.qr.get(r)||null}),kc(u).start(),u.Wr.Or()}function Ip(u){return mu(u)&&!kc(u).ar()&&u.qr.size>0}function mu(u){return 0===x(u).Kr.size}function jm(u){u.Gr=void 0}function M_(u){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,pe.Z)(function*(u){u.qr.forEach((r,a)=>{Tp(u,r)})})).apply(this,arguments)}function Oc(u,r){return bd.apply(this,arguments)}function bd(){return(bd=(0,pe.Z)(function*(u,r){jm(u),Ip(u)?(u.Wr.Lr(r),Ed(u)):u.Wr.set("Unknown")})).apply(this,arguments)}function Pc(u,r,a){return $l.apply(this,arguments)}function $l(){return($l=(0,pe.Z)(function*(u,r,a){if(u.Wr.set("Online"),r instanceof _c&&2===r.state&&r.cause)try{yield(c=(0,pe.Z)(function*(h,v){const S=v.cause;for(const L of v.targetIds)h.qr.has(L)&&(yield h.remoteSyncer.rejectListen(L,S),h.qr.delete(L),h.Gr.removeTarget(L))}),function(h,v){return c.apply(this,arguments)})(u,r)}catch(c){ut("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),c),yield yu(u,c)}else if(r instanceof ad?u.Gr.rt(r):r instanceof fh?u.Gr.ft(r):u.Gr.ct(r),!a.isEqual(hn.min()))try{const c=yield Om(u.localStore);a.compareTo(c)>=0&&(yield function(h,v){const S=h.Gr._t(v);return S.targetChanges.forEach((L,q)=>{if(L.resumeToken.approximateByteSize()>0){const ie=h.qr.get(q);ie&&h.qr.set(q,ie.withResumeToken(L.resumeToken,v))}}),S.targetMismatches.forEach(L=>{const q=h.qr.get(L);if(!q)return;h.qr.set(L,q.withResumeToken(Ai.EMPTY_BYTE_STRING,q.snapshotVersion)),R_(h,L);const ie=new Fa(q.target,L,1,q.sequenceNumber);Tp(h,ie)}),h.remoteSyncer.applyRemoteEvent(S)}(u,a))}catch(c){ut("RemoteStore","Failed to raise snapshot:",c),yield yu(u,c)}var c})).apply(this,arguments)}function yu(u,r,a){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,pe.Z)(function*(u,r,a){if(!fu(r))throw r;u.Kr.add(1),yield ul(u),u.Wr.set("Offline"),a||(a=()=>Om(u.localStore)),u.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield a(),u.Kr.delete(1),yield jl(u)}))})).apply(this,arguments)}function Ap(u,r){return r().catch(a=>yu(u,a,r))}function Zl(u){return wd.apply(this,arguments)}function wd(){return(wd=(0,pe.Z)(function*(u){const r=x(u),a=Gl(r);let c=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;Sp(r);)try{const h=yield km(r.localStore,c);if(null===h){0===r.Ur.length&&a.lr();break}c=h.batchId,Hm(r,h)}catch(h){yield yu(r,h)}Cd(r)&&$m(r)})).apply(this,arguments)}function Sp(u){return mu(u)&&u.Ur.length<10}function Hm(u,r){u.Ur.push(r);const a=Gl(u);a.cr()&&a.Pr&&a.br(r.mutations)}function Cd(u){return mu(u)&&!Gl(u).ar()&&u.Ur.length>0}function $m(u){Gl(u).start()}function Zm(u){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,pe.Z)(function*(u){Gl(u).Sr()})).apply(this,arguments)}function qm(u){return $h.apply(this,arguments)}function $h(){return($h=(0,pe.Z)(function*(u){const r=Gl(u);for(const a of u.Ur)r.br(a.mutations)})).apply(this,arguments)}function O_(u,r,a){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,pe.Z)(function*(u,r,a){const c=u.Ur.shift(),h=gd.from(c,r,a);yield Ap(u,()=>u.remoteSyncer.applySuccessfulWrite(h)),yield Zl(u)})).apply(this,arguments)}function P_(u,r){return Np.apply(this,arguments)}function Np(){return(Np=(0,pe.Z)(function*(u,r){var a;r&&Gl(u).Pr&&(yield(a=(0,pe.Z)(function*(c,h){if(uh(v=h.code)&&v!==I.ABORTED){const S=c.Ur.shift();Gl(c).hr(),yield Ap(c,()=>c.remoteSyncer.rejectFailedWrite(S.batchId,h)),yield Zl(c)}var v}),function(c,h){return a.apply(this,arguments)})(u,r)),Cd(u)&&$m(u)})).apply(this,arguments)}function ro(u,r){return xp.apply(this,arguments)}function xp(){return(xp=(0,pe.Z)(function*(u,r){const a=x(u);r?(a.Kr.delete(2),yield jl(a)):r||(a.Kr.add(2),yield ul(a),a.Wr.set("Unknown"))})).apply(this,arguments)}function kc(u){return u.zr||(u.zr=function(r,a,c){const h=x(r);return h.Cr(),new qE(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:M_.bind(null,u),Ci:Oc.bind(null,u),Tr:Pc.bind(null,u)}),u.jr.push(function(){var r=(0,pe.Z)(function*(a){a?(u.zr.hr(),Ip(u)?Ed(u):u.Wr.set("Unknown")):(yield u.zr.stop(),jm(u))});return function(a){return r.apply(this,arguments)}}())),u.zr}function Gl(u){return u.Hr||(u.Hr=function(r,a,c){const h=x(r);return h.Cr(),new al(a,h.nr,h.credentials,h.N,c)}(u.datastore,u.asyncQueue,{Si:Zm.bind(null,u),Ci:P_.bind(null,u),Vr:qm.bind(null,u),vr:O_.bind(null,u)}),u.jr.push(function(){var r=(0,pe.Z)(function*(a){a?(u.Hr.hr(),yield Zl(u)):(yield u.Hr.stop(),u.Ur.length>0&&(ut("RemoteStore",`Stopping write stream with ${u.Ur.length} pending writes`),u.Ur=[]))});return function(a){return r.apply(this,arguments)}}())),u.Hr}class zm{constructor(r,a,c,h,v){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=c,this.op=h,this.removalCallback=v,this.deferred=new O,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(S=>{})}static createAndSchedule(r,a,c,h,v){const S=Date.now()+c,L=new zm(r,a,S,h,v);return L.start(c),L}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ql(u,r){if(un("AsyncQueue",`${r}: ${u}`),fu(u))return new T(I.UNAVAILABLE,`${r}: ${u}`);throw u}class Td{constructor(r){this.comparator=r?(a,c)=>r(a,c)||$t.comparator(a.key,c.key):(a,c)=>$t.comparator(a.key,c.key),this.keyedMap=od(),this.sortedSet=new di(this.comparator)}static emptySet(r){return new Td(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,c)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof Td)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),c=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,v=c.getNext().key;if(!h.isEqual(v))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const c=new Td;return c.comparator=this.comparator,c.keyedMap=r,c.sortedSet=a,c}}class Wm{constructor(){this.Jr=new di($t.comparator)}track(r){const a=r.doc.key,c=this.Jr.get(a);c?0!==r.type&&3===c.type?this.Jr=this.Jr.insert(a,r):3===r.type&&1!==c.type?this.Jr=this.Jr.insert(a,{type:c.type,doc:r.doc}):2===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===c.type?this.Jr=this.Jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===c.type?this.Jr=this.Jr.remove(a):1===r.type&&2===c.type?this.Jr=this.Jr.insert(a,{type:1,doc:c.doc}):0===r.type&&1===c.type?this.Jr=this.Jr.insert(a,{type:2,doc:r.doc}):Ht():this.Jr=this.Jr.insert(a,r)}Yr(){const r=[];return this.Jr.inorderTraversal((a,c)=>{r.push(c)}),r}}class ll{constructor(r,a,c,h,v,S,L,q){this.query=r,this.docs=a,this.oldDocs=c,this.docChanges=h,this.mutatedKeys=v,this.fromCache=S,this.syncStateChanged=L,this.excludesMetadataChanges=q}static fromInitialDocuments(r,a,c,h){const v=[];return a.forEach(S=>{v.push({type:0,doc:S})}),new ll(r,a,Td.emptySet(a),v,c,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Wo(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,c=r.docChanges;if(a.length!==c.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==c[h].type||!a[h].doc.isEqual(c[h].doc))return!1;return!0}}class Km{constructor(){this.Xr=void 0,this.listeners=[]}}class k_{constructor(){this.queries=new pu(r=>Ko(r),Wo),this.onlineState="Unknown",this.Zr=new Set}}function Rp(u,r){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,pe.Z)(function*(u,r){const a=x(u),c=r.query;let h=!1,v=a.queries.get(c);if(v||(h=!0,v=new Km),h)try{v.Xr=yield a.onListen(c)}catch(S){const L=ql(S,`Initialization of query '${Hu(r.query)}' failed`);return void r.onError(L)}a.queries.set(c,v),v.listeners.push(r),r.eo(a.onlineState),v.Xr&&r.no(v.Xr)&&Pp(a)})).apply(this,arguments)}function Gh(u,r){return Op.apply(this,arguments)}function Op(){return(Op=(0,pe.Z)(function*(u,r){const a=x(u),c=r.query;let h=!1;const v=a.queries.get(c);if(v){const S=v.listeners.indexOf(r);S>=0&&(v.listeners.splice(S,1),h=0===v.listeners.length)}if(h)return a.queries.delete(c),a.onUnlisten(c)})).apply(this,arguments)}function Ym(u,r){const a=x(u);let c=!1;for(const h of r){const S=a.queries.get(h.query);if(S){for(const L of S.listeners)L.no(h)&&(c=!0);S.Xr=h}}c&&Pp(a)}function F_(u,r,a){const c=x(u),h=c.queries.get(r);if(h)for(const v of h.listeners)v.onError(a);c.queries.delete(r)}function Pp(u){u.Zr.forEach(r=>{r.next()})}class qh{constructor(r,a,c){this.query=r,this.so=a,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=c||{}}no(r){if(!this.options.includeMetadataChanges){const c=[];for(const h of r.docChanges)3!==h.type&&c.push(h);r=new ll(r.query,r.docs,r.oldDocs,c,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.io?this.oo(r)&&(this.so.next(r),a=!0):this.ao(r,this.onlineState)&&(this.co(r),a=!0),this.ro=r,a}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let a=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),a=!0),a}ao(r,a){return!r.fromCache||!(this.options.uo&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=ll.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Qm{constructor(r,a){this.payload=r,this.byteLength=a}ho(){return"metadata"in this.payload}}class Jm{constructor(r){this.N=r}zn(r){return mr(this.N,r)}Hn(r){return r.metadata.exists?wc(this.N,r.document,!1):kr.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return oi(r)}}class Va{constructor(r,a,c){this.lo=r,this.localStore=a,this.N=c,this.queries=[],this.documents=[],this.progress=zh(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}wo(r){const a=new Map,c=new Jm(this.N);for(const h of r)if(h.metadata.queries){const v=c.zn(h.metadata.name);for(const S of h.metadata.queries){const L=(a.get(S)||cr()).add(v);a.set(S,L)}}return a}complete(){var r=this;return(0,pe.Z)(function*(){const a=yield function(u,r,a,c){return gp.apply(this,arguments)}(r.localStore,new Jm(r.N),r.documents,r.lo.id),c=r.wo(r.documents);for(const h of r.queries)yield mp(r.localStore,h,c.get(h.name));return r.progress.taskState="Success",new Nm(Object.assign({},r.progress),a)})()}}function zh(u){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:u.totalDocuments,totalBytes:u.totalBytes}}class Xm{constructor(r){this.key=r}}class ey{constructor(r){this.key=r}}class L_{constructor(r,a){this.query=r,this._o=a,this.mo=null,this.current=!1,this.yo=cr(),this.mutatedKeys=cr(),this.po=nh(r),this.Eo=new Td(this.po)}get To(){return this._o}Io(r,a){const c=a?a.Ao:new Wm,h=a?a.Eo:this.Eo;let v=a?a.mutatedKeys:this.mutatedKeys,S=h,L=!1;const q=Cl(this.query)&&h.size===this.query.limit?h.last():null,ie=Xc(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((he,xe)=>{const lt=h.get(he),Ct=go(this.query,xe)?xe:null,jt=!!lt&&this.mutatedKeys.has(lt.key),_n=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let Fn=!1;lt&&Ct?lt.data.isEqual(Ct.data)?jt!==_n&&(c.track({type:3,doc:Ct}),Fn=!0):this.Ro(lt,Ct)||(c.track({type:2,doc:Ct}),Fn=!0,(q&&this.po(Ct,q)>0||ie&&this.po(Ct,ie)<0)&&(L=!0)):!lt&&Ct?(c.track({type:0,doc:Ct}),Fn=!0):lt&&!Ct&&(c.track({type:1,doc:lt}),Fn=!0,(q||ie)&&(L=!0)),Fn&&(Ct?(S=S.add(Ct),v=_n?v.add(he):v.delete(he)):(S=S.delete(he),v=v.delete(he)))}),Cl(this.query)||Xc(this.query))for(;S.size>this.query.limit;){const he=Cl(this.query)?S.last():S.first();S=S.delete(he.key),v=v.delete(he.key),c.track({type:1,doc:he})}return{Eo:S,Ao:c,Ln:L,mutatedKeys:v}}Ro(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,c){const h=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const v=r.Ao.Yr();v.sort((ie,he)=>function(xe,lt){const Ct=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return Ct(xe)-Ct(lt)}(ie.type,he.type)||this.po(ie.doc,he.doc)),this.Po(c);const S=a?this.bo():[],L=0===this.yo.size&&this.current?1:0,q=L!==this.mo;return this.mo=L,0!==v.length||q?{snapshot:new ll(this.query,r.Eo,h,v,r.mutatedKeys,0===L,q,!1),vo:S}:{vo:S}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Wm,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(a=>this._o=this._o.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this._o=this._o.delete(a)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=cr(),this.Eo.forEach(c=>{this.Vo(c.key)&&(this.yo=this.yo.add(c.key))});const a=[];return r.forEach(c=>{this.yo.has(c)||a.push(new ey(c))}),this.yo.forEach(c=>{r.has(c)||a.push(new Xm(c))}),a}So(r){this._o=r.Gn,this.yo=cr();const a=this.Io(r.documents);return this.applyChanges(a,!0)}Do(){return ll.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ty{constructor(r,a,c){this.query=r,this.targetId=a,this.view=c}}class V_{constructor(r){this.key=r,this.Co=!1}}class U_{constructor(r,a,c,h,v,S){this.localStore=r,this.remoteStore=a,this.eventManager=c,this.sharedClientState=h,this.currentUser=v,this.maxConcurrentLimboResolutions=S,this.No={},this.xo=new pu(L=>Ko(L),Wo),this.ko=new Map,this.$o=new Set,this.Oo=new di($t.comparator),this.Fo=new Map,this.Mo=new Ph,this.Lo={},this.Bo=new Map,this.Uo=sl.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function B_(u,r){return Id.apply(this,arguments)}function Id(){return(Id=(0,pe.Z)(function*(u,r){const a=zp(u);let c,h;const v=a.xo.get(r);if(v)c=v.targetId,a.sharedClientState.addLocalQueryTarget(c),h=v.view.Do();else{const S=yield xc(a.localStore,Xs(r)),L=a.sharedClientState.addLocalQueryTarget(S.targetId);c=S.targetId,h=yield kp(a,r,c,"current"===L),a.isPrimaryClient&&ya(a.remoteStore,S)}return h})).apply(this,arguments)}function kp(u,r,a,c){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,pe.Z)(function*(u,r,a,c){u.Ko=(he,xe,lt)=>{return(Ct=(0,pe.Z)(function*(jt,_n,Fn,fi){let Us=_n.view.Io(Fn);Us.Ln&&(Us=yield Mn(jt.localStore,_n.query,!1).then(({documents:Zd})=>_n.view.Io(Zd,Us)));const Za=fi&&fi.targetChanges.get(_n.targetId),ba=_n.view.applyChanges(Us,jt.isPrimaryClient,Za);return Vp(jt,_n.targetId,ba.vo),ba.snapshot}),function(jt,_n,Fn,fi){return Ct.apply(this,arguments)})(u,he,xe,lt);var Ct};const h=yield Mn(u.localStore,r,!0),v=new L_(r,h.Gn),S=v.Io(h.documents),L=yc.createSynthesizedTargetChangeForCurrentChange(a,c&&"Offline"!==u.onlineState),q=v.applyChanges(S,u.isPrimaryClient,L);Vp(u,a,q.vo);const ie=new ty(r,a,v);return u.xo.set(r,ie),u.ko.has(a)?u.ko.get(a).push(r):u.ko.set(a,[r]),q.snapshot})).apply(this,arguments)}function Wh(u,r){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,pe.Z)(function*(u,r){const a=x(u),c=a.xo.get(r),h=a.ko.get(c.targetId);if(h.length>1)return a.ko.set(c.targetId,h.filter(v=>!Wo(v,r))),void a.xo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(c.targetId),a.sharedClientState.isActiveQueryTarget(c.targetId)||(yield Rc(a.localStore,c.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(c.targetId),Mc(a.remoteStore,c.targetId),_u(a,c.targetId)}).catch(La))):(_u(a,c.targetId),yield Rc(a.localStore,c.targetId,!0))})).apply(this,arguments)}function Ad(){return(Ad=(0,pe.Z)(function*(u,r,a){const c=ly(u);try{const h=yield function(v,S){const L=x(v),q=xn.now(),ie=S.reduce((xe,lt)=>xe.add(lt.key),cr());let he;return L.persistence.runTransaction("Locally write mutations","readwrite",xe=>L.Qn.bn(xe,ie).next(lt=>{he=lt;const Ct=[];for(const jt of S){const _n=sh(jt,he.get(jt.key));null!=_n&&Ct.push(new Ps(jt.key,_n,cs(_n.value.mapValue),bi.exists(!0)))}return L.In.addMutationBatch(xe,q,Ct,S)})).then(xe=>(xe.applyToLocalDocumentSet(he),{batchId:xe.batchId,changes:he}))}(c.localStore,r);c.sharedClientState.addPendingMutation(h.batchId),function(v,S,L){let q=v.Lo[v.currentUser.toKey()];q||(q=new di(At)),q=q.insert(S,L),v.Lo[v.currentUser.toKey()]=q}(c,h.batchId,a),yield Ua(c,h.changes),yield Zl(c.remoteStore)}catch(h){const v=ql(h,"Failed to persist write");a.reject(v)}})).apply(this,arguments)}function Kh(u,r){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,pe.Z)(function*(u,r){const a=x(u);try{const c=yield I_(a.localStore,r);r.targetChanges.forEach((h,v)=>{const S=a.Fo.get(v);S&&(Jt(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?S.Co=!0:h.modifiedDocuments.size>0?Jt(S.Co):h.removedDocuments.size>0&&(Jt(S.Co),S.Co=!1))}),yield Ua(a,c,r)}catch(c){yield La(c)}})).apply(this,arguments)}function ny(u,r,a){const c=x(u);if(c.isPrimaryClient&&0===a||!c.isPrimaryClient&&1===a){const h=[];c.xo.forEach((v,S)=>{const L=S.view.eo(r);L.snapshot&&h.push(L.snapshot)}),function(v,S){const L=x(v);L.onlineState=S;let q=!1;L.queries.forEach((ie,he)=>{for(const xe of he.listeners)xe.eo(S)&&(q=!0)}),q&&Pp(L)}(c.eventManager,r),h.length&&c.No.Tr(h),c.onlineState=r,c.isPrimaryClient&&c.sharedClientState.setOnlineState(r)}}function H_(u,r,a){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,pe.Z)(function*(u,r,a){const c=x(u);c.sharedClientState.updateQueryState(r,"rejected",a);const h=c.Fo.get(r),v=h&&h.key;if(v){let S=new di($t.comparator);S=S.insert(v,kr.newNoDocument(v,hn.min()));const L=cr().add(v),q=new Ku(hn.min(),new Map,new si(At),S,L);yield Kh(c,q),c.Oo=c.Oo.remove(v),c.Fo.delete(r),cl(c)}else yield Rc(c.localStore,r,!1).then(()=>_u(c,r,a)).catch(La)})).apply(this,arguments)}function zE(u,r){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,pe.Z)(function*(u,r){const a=x(u),c=r.batch.batchId;try{const h=yield T_(a.localStore,r);_a(a,c,null),Xh(a,c),a.sharedClientState.updateMutationState(c,"acknowledged"),yield Ua(a,h)}catch(h){yield La(h)}})).apply(this,arguments)}function ry(u,r,a){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,pe.Z)(function*(u,r,a){const c=x(u);try{const h=yield function(v,S){const L=x(v);return L.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let ie;return L.In.lookupMutationBatch(q,S).next(he=>(Jt(null!==he),ie=he.keys(),L.In.removeMutationBatch(q,he))).next(()=>L.In.performConsistencyCheck(q)).next(()=>L.Qn.bn(q,ie))})}(c.localStore,r);_a(c,r,a),Xh(c,r),c.sharedClientState.updateMutationState(r,"rejected",a),yield Ua(c,h)}catch(h){yield La(h)}})).apply(this,arguments)}function Jh(){return(Jh=(0,pe.Z)(function*(u,r){const a=x(u);mu(a.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const c=yield function(v){const S=x(v);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",L=>S.In.getHighestUnacknowledgedBatchId(L))}(a.localStore);if(-1===c)return void r.resolve();const h=a.Bo.get(c)||[];h.push(r),a.Bo.set(c,h)}catch(c){const h=ql(c,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function Xh(u,r){(u.Bo.get(r)||[]).forEach(a=>{a.resolve()}),u.Bo.delete(r)}function _a(u,r,a){const c=x(u);let h=c.Lo[c.currentUser.toKey()];if(h){const v=h.get(r);v&&(a?v.reject(a):v.resolve(),h=h.remove(r)),c.Lo[c.currentUser.toKey()]=h}}function _u(u,r,a=null){u.sharedClientState.removeLocalQueryTarget(r);for(const c of u.ko.get(r))u.xo.delete(c),a&&u.No.jo(c,a);u.ko.delete(r),u.isPrimaryClient&&u.Mo.cs(r).forEach(c=>{u.Mo.containsKey(c)||sy(u,c)})}function sy(u,r){u.$o.delete(r.path.canonicalString());const a=u.Oo.get(r);null!==a&&(Mc(u.remoteStore,a),u.Oo=u.Oo.remove(r),u.Fo.delete(a),cl(u))}function Vp(u,r,a){for(const c of a)c instanceof Xm?(u.Mo.addReference(c.key,r),WE(u,c)):c instanceof ey?(ut("SyncEngine","Document no longer in limbo: "+c.key),u.Mo.removeReference(c.key,r),u.Mo.containsKey(c.key)||sy(u,c.key)):Ht()}function WE(u,r){const a=r.key,c=a.path.canonicalString();u.Oo.get(a)||u.$o.has(c)||(ut("SyncEngine","New document in limbo: "+a),u.$o.add(c),cl(u))}function cl(u){for(;u.$o.size>0&&u.Oo.size<u.maxConcurrentLimboResolutions;){const r=u.$o.values().next().value;u.$o.delete(r);const a=new $t(tr.fromString(r)),c=u.Uo.next();u.Fo.set(c,new V_(a)),u.Oo=u.Oo.insert(a,c),ya(u.remoteStore,new Fa(Xs(jr(a.path)),c,2,ct.T))}}function Ua(u,r,a){return zl.apply(this,arguments)}function zl(){return(zl=(0,pe.Z)(function*(u,r,a){const c=x(u),h=[],v=[],S=[];var L;c.xo.isEmpty()||(c.xo.forEach((L,q)=>{S.push(c.Ko(q,r,a).then(ie=>{if(ie){c.isPrimaryClient&&c.sharedClientState.updateQueryState(q.targetId,ie.fromCache?"not-current":"current"),h.push(ie);const he=Rh.kn(q.targetId,ie);v.push(he)}}))}),yield Promise.all(S),c.No.Tr(h),yield(L=(0,pe.Z)(function*(q,ie){const he=x(q);try{yield he.persistence.runTransaction("notifyLocalViewChanges","readwrite",xe=>St.forEach(ie,lt=>St.forEach(lt.Nn,Ct=>he.persistence.referenceDelegate.addReference(xe,lt.targetId,Ct)).next(()=>St.forEach(lt.xn,Ct=>he.persistence.referenceDelegate.removeReference(xe,lt.targetId,Ct)))))}catch(xe){if(!fu(xe))throw xe;ut("LocalStore","Failed to update sequence numbers: "+xe)}for(const xe of ie){const lt=xe.targetId;if(!xe.fromCache){const Ct=he.Un.get(lt),_n=Ct.withLastLimboFreeSnapshotVersion(Ct.snapshotVersion);he.Un=he.Un.insert(lt,_n)}}}),function(q,ie){return L.apply(this,arguments)})(c.localStore,v))})).apply(this,arguments)}function Nd(u,r){return Up.apply(this,arguments)}function Up(){return(Up=(0,pe.Z)(function*(u,r){const a=x(u);if(!a.currentUser.isEqual(r)){ut("SyncEngine","User change. New user:",r.toKey());const c=yield Mm(a.localStore,r);a.currentUser=r,(h=a).Bo.forEach(S=>{S.forEach(L=>{L.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.Bo.clear(),a.sharedClientState.handleUserChange(r,c.removedBatchIds,c.addedBatchIds),yield Ua(a,c.Wn)}var h})).apply(this,arguments)}function Bp(u,r){const a=x(u),c=a.Fo.get(r);if(c&&c.Co)return cr().add(c.key);{let h=cr();const v=a.ko.get(r);if(!v)return h;for(const S of v){const L=a.xo.get(S);h=h.unionWith(L.view.To)}return h}}function oy(u,r){return jp.apply(this,arguments)}function jp(){return(jp=(0,pe.Z)(function*(u,r){const a=x(u),c=yield Mn(a.localStore,r.query,!0),h=r.view.So(c);return a.isPrimaryClient&&Vp(a,r.targetId,h.vo),h})).apply(this,arguments)}function ay(u){return Hp.apply(this,arguments)}function Hp(){return(Hp=(0,pe.Z)(function*(u){const r=x(u);return pp(r.localStore).then(a=>Ua(r,a))})).apply(this,arguments)}function $p(u,r,a,c){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,pe.Z)(function*(u,r,a,c){const h=x(u),v=yield function(S,L){const q=x(S),ie=x(q.In);return q.persistence.runTransaction("Lookup mutation documents","readonly",he=>ie.Xt(he,L).next(xe=>xe?q.Qn.bn(he,xe):St.resolve(null)))}(h.localStore,r);var L;null!==v?("pending"===a?yield Zl(h.remoteStore):"acknowledged"===a||"rejected"===a?(_a(h,r,c||null),Xh(h,r),L=r,x(x(h.localStore).In).te(L)):Ht(),yield Ua(h,v)):ut("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function ef(){return(ef=(0,pe.Z)(function*(u,r){const a=x(u);if(zp(a),ly(a),!0===r&&!0!==a.qo){const c=a.sharedClientState.getAllActiveQueryTargets(),h=yield Wl(a,c.toArray());a.qo=!0,yield ro(a.remoteStore,!0);for(const v of h)ya(a.remoteStore,v)}else if(!1===r&&!1!==a.qo){const c=[];let h=Promise.resolve();a.ko.forEach((v,S)=>{a.sharedClientState.isLocalQueryTarget(S)?c.push(S):h=h.then(()=>(_u(a,S),Rc(a.localStore,S,!0))),Mc(a.remoteStore,S)}),yield h,yield Wl(a,c),function(v){const S=x(v);S.Fo.forEach((L,q)=>{Mc(S.remoteStore,q)}),S.Mo.us(),S.Fo=new Map,S.Oo=new di($t.comparator)}(a),a.qo=!1,yield ro(a.remoteStore,!1)}})).apply(this,arguments)}function Wl(u,r,a){return tf.apply(this,arguments)}function tf(){return(tf=(0,pe.Z)(function*(u,r,a){const c=x(u),h=[],v=[];for(const S of r){let L;const q=c.ko.get(S);if(q&&0!==q.length){L=yield xc(c.localStore,Xs(q[0]));for(const ie of q){const he=c.xo.get(ie),xe=yield oy(c,he);xe.snapshot&&v.push(xe.snapshot)}}else{const ie=yield fp(c.localStore,S);L=yield xc(c.localStore,ie),yield kp(c,uy(ie),S,!1)}h.push(L)}return c.No.Tr(v),h})).apply(this,arguments)}function uy(u){return lc(u.path,u.collectionGroup,u.orderBy,u.filters,u.limit,"F",u.startAt,u.endAt)}function Z_(u){const r=x(u);return x(x(r.localStore).persistence).pn()}function Fc(u,r,a,c){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,pe.Z)(function*(u,r,a,c){const h=x(u);if(h.qo)ut("SyncEngine","Ignoring unexpected query state notification.");else if(h.ko.has(r))switch(a){case"current":case"not-current":{const v=yield pp(h.localStore),S=Ku.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield Ua(h,v,S);break}case"rejected":yield Rc(h.localStore,r,!0),_u(h,r,c);break;default:Ht()}})).apply(this,arguments)}function G_(u,r,a){return qp.apply(this,arguments)}function qp(){return(qp=(0,pe.Z)(function*(u,r,a){const c=zp(u);if(c.qo){for(const h of r){if(c.ko.has(h)){ut("SyncEngine","Adding an already active target "+h);continue}const v=yield fp(c.localStore,h),S=yield xc(c.localStore,v);yield kp(c,uy(v),S.targetId,!1),ya(c.remoteStore,S)}for(const h of a)c.ko.has(h)&&(yield Rc(c.localStore,h,!1).then(()=>{Mc(c.remoteStore,h),_u(c,h)}).catch(La))}})).apply(this,arguments)}function zp(u){const r=x(u);return r.remoteStore.remoteSyncer.applyRemoteEvent=Kh.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bp.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=H_.bind(null,r),r.No.Tr=Ym.bind(null,r.eventManager),r.No.jo=F_.bind(null,r.eventManager),r}function ly(u){const r=x(u);return r.remoteStore.remoteSyncer.applySuccessfulWrite=zE.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=ry.bind(null,r),r}class Wp{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,pe.Z)(function*(){a.N=jh(r.databaseInfo.databaseId),a.sharedClientState=a.Wo(r),a.persistence=a.Go(r),yield a.persistence.start(),a.gcScheduler=a.zo(r),a.localStore=a.Ho(r)})()}zo(r){return null}Ho(r){return ta(this.persistence,new Rm,r.initialUser,this.N)}Go(r){return new kh(_d.Ns,this.N)}Wo(r){return new Bh}terminate(){var r=this;return(0,pe.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Rr extends Wp{constructor(r,a,c){super(),this.Jo=r,this.cacheSizeBytes=a,this.forceOwnership=c,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,c=this;return(0,pe.Z)(function*(){yield a().call(c,r),yield function(u){return ko.apply(this,arguments)}(c.localStore),yield c.Jo.initialize(c,r),yield ly(c.Jo.syncEngine),yield Zl(c.Jo.remoteStore),yield c.persistence.nn(()=>(c.gcScheduler&&!c.gcScheduler.started&&c.gcScheduler.start(c.localStore),Promise.resolve()))})()}Ho(r){return ta(this.persistence,new Rm,r.initialUser,this.N)}zo(r){return new Cm(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const a=Sm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new xh(this.synchronizeTabs,a,r.clientId,c,r.asyncQueue,S_(),bp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new Bh}}class Kp extends Rr{constructor(r,a){super(r,a,!1),this.Jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,c=this;return(0,pe.Z)(function*(){yield a().call(c,r);const h=c.Jo.syncEngine;c.sharedClientState instanceof Ep&&(c.sharedClientState.syncEngine={_i:$p.bind(null,h),mi:Fc.bind(null,h),gi:G_.bind(null,h),pn:Z_.bind(null,h),wi:ay.bind(null,h)},yield c.sharedClientState.start()),yield c.persistence.nn(function(){var v=(0,pe.Z)(function*(S){yield function(u,r){return ef.apply(this,arguments)}(c.Jo.syncEngine,S),c.gcScheduler&&(S&&!c.gcScheduler.started?c.gcScheduler.start(c.localStore):S||c.gcScheduler.stop())});return function(S){return v.apply(this,arguments)}}())})()}Wo(r){const a=S_();if(!Ep.Pt(a))throw new T(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const c=Sm(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Ep(a,r.asyncQueue,c,r.clientId,r.initialUser)}}class cy{initialize(r,a){var c=this;return(0,pe.Z)(function*(){c.localStore||(c.localStore=r.localStore,c.sharedClientState=r.sharedClientState,c.datastore=c.createDatastore(a),c.remoteStore=c.createRemoteStore(a),c.eventManager=c.createEventManager(a),c.syncEngine=c.createSyncEngine(a,!r.synchronizeTabs),c.sharedClientState.onlineStateHandler=h=>ny(c.syncEngine,h,1),c.remoteStore.remoteSyncer.handleCredentialChange=Nd.bind(null,c.syncEngine),yield ro(c.remoteStore,c.syncEngine.isPrimaryClient))})()}createEventManager(r){return new k_}createDatastore(r){const a=jh(r.databaseInfo.databaseId),c=new GE(r.databaseInfo);return new wp(r.credentials,c,a)}createRemoteStore(r){return a=this.localStore,c=this.datastore,h=r.asyncQueue,v=L=>ny(this.syncEngine,L,0),S=A_.Pt()?new A_:new HE,new Bm(a,c,h,v,S);var a,c,h,v,S}createSyncEngine(r,a){return function(c,h,v,S,L,q,ie){const he=new U_(c,h,v,S,L,q);return ie&&(he.qo=!0),he}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,pe.Z)(function*(a){const c=x(a);ut("RemoteStore","RemoteStore shutting down."),c.Kr.add(5),yield ul(c),c.Qr.shutdown(),c.Wr.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function Ba(u,r=10240){let a=0;return{read:()=>(0,pe.Z)(function*(){if(a<u.byteLength){const c={value:u.slice(a,a+r),done:!1};return a+=r,c}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Lc{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class Yp{constructor(r,a){this.Zo=r,this.N=a,this.metadata=new O,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(c=>{c&&c.ho()?this.metadata.resolve(c.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==c?void 0:c.payload)}`))},c=>this.metadata.reject(c))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,pe.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,pe.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,pe.Z)(function*(){const a=yield r.na();if(null===a)return null;const c=r.ta.decode(a),h=Number(c);isNaN(h)&&r.sa(`length string (${c}) is not valid number`);const v=yield r.ia(h);return new Qm(JSON.parse(v),a.length+h)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,pe.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const a=r.ra();a<0&&r.sa("Reached the end of bundle when a length string is expected.");const c=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),c})()}ia(r){var a=this;return(0,pe.Z)(function*(){for(;a.buffer.length<r;)(yield a.oa())&&a.sa("Reached the end of bundle when more is expected.");const c=a.ta.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),c})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,pe.Z)(function*(){const a=yield r.Zo.read();if(!a.done){const c=new Uint8Array(r.buffer.length+a.value.length);c.set(r.buffer),c.set(a.value,r.buffer.length),r.buffer=c}return a.done})()}}class KE{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,pe.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new T(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const c=yield(h=(0,pe.Z)(function*(v,S){const L=x(v),q=Mo(L.N)+"/documents",ie={documents:S.map(Ct=>Ju(L.N,Ct))},he=yield L.Ki("BatchGetDocuments",q,ie),xe=new Map;he.forEach(Ct=>{const jt=function(u,r){return"found"in r?function(a,c){Jt(!!c.found);const h=mr(a,c.found.name),v=oi(c.found.updateTime),S=new Ni({mapValue:{fields:c.found.fields}});return kr.newFoundDocument(h,v,S)}(u,r):"missing"in r?function(a,c){Jt(!!c.missing),Jt(!!c.readTime);const h=mr(a,c.missing),v=oi(c.readTime);return kr.newNoDocument(h,v)}(u,r):Ht()}(L.N,Ct);xe.set(jt.key.toString(),jt)});const lt=[];return S.forEach(Ct=>{const jt=xe.get(Ct.toString());Jt(!!jt),lt.push(jt)}),lt}),function(v,S){return h.apply(this,arguments)})(a.datastore,r);var h;return c.forEach(h=>a.recordVersion(h)),c})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(c){this.lastWriteError=c}this.writtenDocs.add(r.toString())}delete(r){this.write(new Al(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,pe.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var c;r.mutations.forEach(c=>{a.delete(c.key.toString())}),a.forEach((c,h)=>{const v=$t.fromPath(h);r.mutations.push(new eo(v,r.precondition(v)))}),yield(c=(0,pe.Z)(function*(h,v){const S=x(h),L=Mo(S.N)+"/documents",q={writes:v.map(ie=>Rl(S.N,ie))};yield S.Li("Commit",L,q)}),function(h,v){return c.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw Ht();a=hn.min()}const c=this.readVersions.get(r.key.toString());if(c){if(!a.isEqual(c))throw new T(I.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?bi.updateTime(a):bi.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(hn.min()))throw new T(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(a)}return bi.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class z_{constructor(r,a,c,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=c,this.deferred=h,this.aa=5,this.rr=new Um(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,pe.Z)(function*(){const a=new KE(r.datastore),c=r.ua(a);c&&c.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(v=>{r.ha(v)}))}).catch(h=>{r.ha(h)})}))}ua(r){try{const a=this.updateFunction(r);return!Pu(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!uh(a)}return!1}}class W_{constructor(r,a,c){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=c,this.user=Tt.UNAUTHENTICATED,this.clientId=zt.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(a,function(){var v=(0,pe.Z)(function*(S){ut("FirestoreClient","Received user=",S.uid),yield h.credentialListener(S),h.user=S});return function(S){return v.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,pe.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new O;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),a.resolve()}catch(c){const h=ql(c,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Qp(u,r){return nf.apply(this,arguments)}function nf(){return(nf=(0,pe.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const a=yield u.getConfiguration();yield r.initialize(a);let c=a.initialUser;u.setCredentialChangeListener(function(){var h=(0,pe.Z)(function*(v){c.isEqual(v)||(yield Mm(r.localStore,v),c=v)});return function(v){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=r})).apply(this,arguments)}function Jp(u,r){return rf.apply(this,arguments)}function rf(){return(rf=(0,pe.Z)(function*(u,r){u.asyncQueue.verifyOperationInProgress();const a=yield Xp(u);ut("FirestoreClient","Initializing OnlineComponentProvider");const c=yield u.getConfiguration();yield r.initialize(a,c),u.setCredentialChangeListener(h=>{return(v=(0,pe.Z)(function*(S,L){const q=x(S);q.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const ie=mu(q);q.Kr.add(3),yield ul(q),ie&&q.Wr.set("Unknown"),yield q.remoteSyncer.handleCredentialChange(L),q.Kr.delete(3),yield jl(q)}),function(S,L){return v.apply(this,arguments)})(r.remoteStore,h);var v}),u.onlineComponents=r})).apply(this,arguments)}function Xp(u){return eg.apply(this,arguments)}function eg(){return(eg=(0,pe.Z)(function*(u){return u.offlineComponents||(ut("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(u,new Wp)),u.offlineComponents})).apply(this,arguments)}function dl(u){return xd.apply(this,arguments)}function xd(){return(xd=(0,pe.Z)(function*(u){return u.onlineComponents||(ut("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(u,new cy)),u.onlineComponents})).apply(this,arguments)}function tg(u){return Xp(u).then(r=>r.persistence)}function sf(u){return Xp(u).then(r=>r.localStore)}function ng(u){return dl(u).then(r=>r.remoteStore)}function of(u){return dl(u).then(r=>r.syncEngine)}function Vc(u){return rg.apply(this,arguments)}function rg(){return(rg=(0,pe.Z)(function*(u){const r=yield dl(u),a=r.eventManager;return a.onListen=B_.bind(null,r.syncEngine),a.onUnlisten=Wh.bind(null,r.syncEngine),a})).apply(this,arguments)}function Q_(u,r,a={}){const c=new O;return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(h,v,S,L,q){const ie=new Lc({next:xe=>{v.enqueueAndForget(()=>Gh(h,he));const lt=xe.docs.has(S);!lt&&xe.fromCache?q.reject(new T(I.UNAVAILABLE,"Failed to get document because the client is offline.")):lt&&xe.fromCache&&L&&"server"===L.source?q.reject(new T(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(xe)},error:xe=>q.reject(xe)}),he=new qh(jr(S.path),ie,{includeMetadataChanges:!0,uo:!0});return Rp(h,he)}(yield Vc(u),u.asyncQueue,r,a,c)})),c.promise}function fy(u,r,a={}){const c=new O;return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(h,v,S,L,q){const ie=new Lc({next:xe=>{v.enqueueAndForget(()=>Gh(h,he)),xe.fromCache&&"server"===L.source?q.reject(new T(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(xe)},error:xe=>q.reject(xe)}),he=new qh(S,ie,{includeMetadataChanges:!0,uo:!0});return Rp(h,he)}(yield Vc(u),u.asyncQueue,r,a,c)})),c.promise}class X_{constructor(r,a,c,h,v,S,L,q){this.databaseId=r,this.appId=a,this.persistenceKey=c,this.host=h,this.ssl=v,this.forceLongPolling=S,this.autoDetectLongPolling=L,this.useFetchStreams=q}}class Kl{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof Kl&&r.projectId===this.projectId&&r.database===this.database}}const sg=new Map;function py(u,r,a){if(!a)throw new T(I.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${r}.`)}function na(u,r,a,c){if(!0===r&&!0===c)throw new T(I.INVALID_ARGUMENT,`${u} and ${a} cannot be used together.`)}function ev(u){if(!$t.isDocumentKey(u))throw new T(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function tv(u){if($t.isDocumentKey(u))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function og(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const r=function(a){if(a.constructor){const c=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(c&&c.length>1)return c[1]}return null}(u);return r?`a custom ${r} object`:"an object"}}return"function"==typeof u?"a function":Ht()}function hr(u,r){if("_delegate"in u&&(u=u._delegate),!(u instanceof r)){if(r.name===u.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=og(u);throw new T(I.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return u}function ag(u,r){if(r<=0)throw new T(I.INVALID_ARGUMENT,`Function ${u}() requires a positive number, but it was: ${r}.`)}class ug{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,na("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Rd{constructor(r,a){this._credentials=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ug({}),this._settingsFrozen=!1,r instanceof Kl?this._databaseId=r:(this._app=r,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(c.options.projectId)}(r))}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ug(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new K;switch(a.type){case"gapi":const c=a.client;return Jt(!("object"!=typeof c||null===c||!c.auth||!c.auth.getAuthHeaderValueForFirstParty)),new Zt(c,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new T(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=sg.get(r);a&&(ut("ComponentProvider","Removing Datastore"),sg.delete(r),a.terminate())}(this),Promise.resolve()}}class qr{constructor(r,a,c){this.converter=a,this._key=c,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new qr(this.firestore,r,this._key)}}class fs{constructor(r,a,c){this.converter=a,this._query=c,this.type="query",this.firestore=r}withConverter(r){return new fs(this.firestore,r,this._query)}}class ja extends fs{constructor(r,a,c){super(r,a,jr(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new qr(this.firestore,null,new $t(r))}withConverter(r){return new ja(this.firestore,r,this._path)}}function af(u,r,...a){if(u=(0,Oe.m9)(u),py("collection","path",r),u instanceof Rd){const c=tr.fromString(r,...a);return tv(c),new ja(u,null,c)}{if(!(u instanceof qr||u instanceof ja))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=tr.fromString(u.path,...a).child(tr.fromString(r));return tv(c),new ja(u.firestore,null,c)}}function uf(u,r,...a){if(u=(0,Oe.m9)(u),1===arguments.length&&(r=zt.I()),py("doc","path",r),u instanceof Rd){const c=tr.fromString(r,...a);return ev(c),new qr(u,null,new $t(c))}{if(!(u instanceof qr||u instanceof ja))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=u._path.child(tr.fromString(r,...a));return ev(c),new qr(u.firestore,u instanceof ja?u.converter:null,new $t(c))}}function gy(u,r){return u=(0,Oe.m9)(u),r=(0,Oe.m9)(r),(u instanceof qr||u instanceof ja)&&(r instanceof qr||r instanceof ja)&&u.firestore===r.firestore&&u.path===r.path&&u.converter===r.converter}function my(u,r){return u=(0,Oe.m9)(u),r=(0,Oe.m9)(r),u instanceof fs&&r instanceof fs&&u.firestore===r.firestore&&Wo(u._query,r._query)&&u.converter===r.converter}class rv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Um(this,"async_queue_retry"),this.Ea=()=>{const a=bp();a&&ut("AsyncQueue","Visibility state changed to "+a.visibilityState),this.rr.tr()};const r=bp();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const a=bp();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const a=new O;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,pe.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(a){if(!fu(a))throw a;ut("AsyncQueue","Operation failed with retryable error: "+a)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const a=this.fa.then(()=>(this.ga=!0,r().catch(c=>{throw this.ma=c,this.ga=!1,un("INTERNAL UNHANDLED ERROR: ",function(h){let v=h.message||"";return h.stack&&(v=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),v}(c)),c}).then(c=>(this.ga=!1,c))));return this.fa=a,a}enqueueAfterDelay(r,a,c){this.Ta(),this.pa.indexOf(r)>-1&&(a=0);const h=zm.createAndSchedule(this,r,a,c,v=>this.Ra(v));return this._a.push(h),h}Ta(){this.ma&&Ht()}verifyOperationInProgress(){}Pa(){var r=this;return(0,pe.Z)(function*(){let a;do{a=r.fa,yield a}while(a!==r.fa)})()}ba(r){for(const a of this._a)if(a.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((a,c)=>a.targetTimeMs-c.targetTimeMs);for(const a of this._a)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const a=this._a.indexOf(r);this._a.splice(a,1)}}function lg(u){return function(r,a){if("object"!=typeof r||null===r)return!1;const c=r;for(const h of["next","error","complete"])if(h in c&&"function"==typeof c[h])return!0;return!1}(u)}class lf{constructor(){this._progressObserver={},this._taskCompletionResolver=new O,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,c){this._progressObserver={next:r,error:a,complete:c}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class hi extends Rd{constructor(r,a){super(r,a),this.type="firestore",this._queue=new rv,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yy(this),this._firestoreClient.terminate()}}function Xi(u){return u._firestoreClient||yy(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function yy(u){var r;const a=u._freezeSettings(),c=(v=(null===(r=u._app)||void 0===r?void 0:r.options.appId)||"",new X_(u._databaseId,v,u._persistenceKey,(L=a).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var v,L;u._firestoreClient=new W_(u._credentials,u._queue,c)}function Bc(u,r,a){const c=new O;return u.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield Qp(u,a),yield Jp(u,r),c.resolve()}catch(h){if(!("FirebaseError"===(v=h).name?v.code===I.FAILED_PRECONDITION||v.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),c.reject(h)}var v})).then(()=>c.promise)}function Ql(u){if(u._initialized||u._terminated)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class vo{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class io{constructor(r){this._byteString=r}static fromBase64String(r){try{return new io(Ai.fromBase64String(r))}catch(a){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new io(Ai.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class ia{constructor(r){this._methodName=r}}class vu{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return At(this._lat,r._lat)||At(this._long,r._long)}}const $c=/^__.*__$/;class vy{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return null!==this.fieldMask?new Ps(r,this.data,this.fieldMask,a,this.fieldTransforms):new Qo(r,this.data,a,this.fieldTransforms)}}class dg{constructor(r,a,c){this.data=r,this.fieldMask=a,this.fieldTransforms=c}toMutation(r,a){return new Ps(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function hg(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class Od{constructor(r,a,c,h,v,S){this.settings=r,this.databaseId=a,this.N=c,this.ignoreUndefinedProperties=h,void 0===v&&this.Sa(),this.fieldTransforms=v||[],this.fieldMask=S||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new Od(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.ka(r),h}$a(r){var a;const c=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.Ca({path:c,xa:!1});return h.Sa(),h}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return pf(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(hg(this.Da)&&$c.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class Ey{constructor(r,a,c){this.databaseId=r,this.ignoreUndefinedProperties=a,this.N=c||jh(r)}Ba(r,a,c,h=!1){return new Od({Da:r,methodName:a,La:c,path:Un.emptyPath(),xa:!1,Ma:h},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function hl(u){const r=u._freezeSettings(),a=jh(u._databaseId);return new Ey(u._databaseId,!!r.ignoreUndefinedProperties,a)}function Pd(u,r,a,c,h,v={}){const S=u.Ba(v.merge||v.mergeFields?2:0,r,a,h);ff("Data must be an object, but it was:",S,c);const L=mg(c,S);let q,ie;if(v.merge)q=new Aa(S.fieldMask),ie=S.fieldTransforms;else if(v.mergeFields){const he=[];for(const xe of v.mergeFields){const lt=yg(r,xe,a);if(!S.contains(lt))throw new T(I.INVALID_ARGUMENT,`Field '${lt}' is specified in your field mask but missing from your input data.`);_g(he,lt)||he.push(lt)}q=new Aa(he),ie=S.fieldTransforms.filter(xe=>q.covers(xe.field))}else q=null,ie=S.fieldTransforms;return new vy(new Ni(L),q,ie)}class Zc extends ia{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Zc}}function fg(u,r,a){return new Od({Da:3,La:r.settings.La,methodName:u._methodName,xa:a},r.databaseId,r.N,r.ignoreUndefinedProperties)}class pg extends ia{_toFieldTransform(r){return new Yo(r.path,new Gu)}isEqual(r){return r instanceof pg}}class by extends ia{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(v=>Jl(v,a)),h=new uu(c);return new Yo(r.path,h)}isEqual(r){return this===r}}class iv extends ia{constructor(r,a){super(r),this.Ua=a}_toFieldTransform(r){const a=fg(this,r,!0),c=this.Ua.map(v=>Jl(v,a)),h=new lu(c);return new Yo(r.path,h)}isEqual(r){return this===r}}class sv extends ia{constructor(r,a){super(r),this.qa=a}_toFieldTransform(r){const a=new qu(r.N,Il(r.N,this.qa));return new Yo(r.path,a)}isEqual(r){return this===r}}function hf(u,r,a,c){const h=u.Ba(1,r,a);ff("Data must be an object, but it was:",h,c);const v=[],S=Ni.empty();Ji(c,(q,ie)=>{const he=Cy(r,q,a);ie=(0,Oe.m9)(ie);const xe=h.$a(he);if(ie instanceof Zc)v.push(he);else{const lt=Jl(ie,xe);null!=lt&&(v.push(he),S.set(he,lt))}});const L=new Aa(v);return new dg(S,L,h.fieldTransforms)}function gg(u,r,a,c,h,v){const S=u.Ba(1,r,a),L=[yg(r,c,a)],q=[h];if(v.length%2!=0)throw new T(I.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let lt=0;lt<v.length;lt+=2)L.push(yg(r,v[lt])),q.push(v[lt+1]);const ie=[],he=Ni.empty();for(let lt=L.length-1;lt>=0;--lt)if(!_g(ie,L[lt])){const Ct=L[lt];let jt=q[lt];jt=(0,Oe.m9)(jt);const _n=S.$a(Ct);if(jt instanceof Zc)ie.push(Ct);else{const Fn=Jl(jt,_n);null!=Fn&&(ie.push(Ct),he.set(Ct,Fn))}}const xe=new Aa(ie);return new dg(he,xe,S.fieldTransforms)}function ov(u,r,a,c=!1){return Jl(a,u.Ba(c?4:3,r))}function Jl(u,r){if(wy(u=(0,Oe.m9)(u)))return ff("Unsupported field value:",r,u),mg(u,r);if(u instanceof ia)return function(a,c){if(!hg(c.Da))throw c.Fa(`${a._methodName}() can only be used with update() and set()`);if(!c.path)throw c.Fa(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(c);h&&c.fieldTransforms.push(h)}(u,r),null;if(void 0===u&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),u instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(a,c){const h=[];let v=0;for(const S of a){let L=Jl(S,c.Oa(v));null==L&&(L={nullValue:"NULL_VALUE"}),h.push(L),v++}return{arrayValue:{values:h}}}(u,r)}return function(a,c){if(null===(a=(0,Oe.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Il(c.N,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=xn.fromDate(a);return{timestampValue:xl(c.N,h)}}if(a instanceof xn){const h=new xn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:xl(c.N,h)}}if(a instanceof vu)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof io)return{bytesValue:mh(c.N,a._byteString)};if(a instanceof qr){const h=c.databaseId,v=a.firestore._databaseId;if(!v.isEqual(h))throw c.Fa(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Yu(a.firestore._databaseId||c.databaseId,a._key.path)}}throw c.Fa(`Unsupported field value: ${og(a)}`)}(u,r)}function mg(u,r){const a={};return ls(u)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ji(u,(c,h)=>{const v=Jl(h,r.Na(c));null!=v&&(a[c]=v)}),{mapValue:{fields:a}}}function wy(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof xn||u instanceof vu||u instanceof io||u instanceof qr||u instanceof ia)}function ff(u,r,a){if(!wy(a)||"object"!=typeof(c=a)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const c=og(a);throw r.Fa("an object"===c?u+" a custom object":u+" "+c)}var c}function yg(u,r,a){if((r=(0,Oe.m9)(r))instanceof vo)return r._internalPath;if("string"==typeof r)return Cy(u,r);throw pf("Field path arguments must be of type string or FieldPath.",u,!1,void 0,a)}const av=new RegExp("[~\\*/\\[\\]]");function Cy(u,r,a){if(r.search(av)>=0)throw pf(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,a);try{return new vo(...r.split("."))._internalPath}catch(c){throw pf(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,a)}}function pf(u,r,a,c,h){const v=c&&!c.isEmpty(),S=void 0!==h;let L=`Function ${r}() called with invalid data`;a&&(L+=" (via `toFirestore()`)"),L+=". ";let q="";return(v||S)&&(q+=" (found",v&&(q+=` in field ${c}`),S&&(q+=` in document ${h}`),q+=")"),new T(I.INVALID_ARGUMENT,L+u+q)}function _g(u,r){return u.some(a=>a.isEqual(r))}class gf{constructor(r,a,c,h,v){this._firestore=r,this._userDataWriter=a,this._key=c,this._document=h,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new XE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class XE extends gf{data(){return super.data()}}function vg(u,r){return"string"==typeof r?Cy(u,r):r instanceof vo?r._internalPath:r._delegate._internalPath}class Xl{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class fl extends gf{constructor(r,a,c,h,v,S){super(r,a,c,h,S),this._firestore=r,this._firestoreImpl=r,this.metadata=v}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const c=this._document.data.field(vg("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c,a.serverTimestamps)}}}class kd extends fl{data(r={}){return super.data(r)}}class pl{constructor(r,a,c,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new Xl(h.hasPendingWrites,h.fromCache),this.query=c}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(c=>{r.call(a,new kd(this._firestore,this._userDataWriter,c.key,c,new Xl(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(c,h){if(c._snapshot.oldDocs.isEmpty()){let v=0;return c._snapshot.docChanges.map(S=>({type:"added",doc:new kd(c._firestore,c._userDataWriter,S.doc.key,S.doc,new Xl(c._snapshot.mutatedKeys.has(S.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:v++}))}{let v=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(S=>h||3!==S.type).map(S=>{const L=new kd(c._firestore,c._userDataWriter,S.doc.key,S.doc,new Xl(c._snapshot.mutatedKeys.has(S.doc.key),c._snapshot.fromCache),c.query.converter);let q=-1,ie=-1;return 0!==S.type&&(q=v.indexOf(S.doc.key),v=v.delete(S.doc.key)),1!==S.type&&(v=v.add(S.doc),ie=v.indexOf(S.doc.key)),{type:Eg(S.type),doc:L,oldIndex:q,newIndex:ie}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function Eg(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function mf(u,r){return u instanceof fl&&r instanceof fl?u._firestore===r._firestore&&u._key.isEqual(r._key)&&(null===u._document?null===r._document:u._document.isEqual(r._document))&&u._converter===r._converter:u instanceof pl&&r instanceof pl&&u._firestore===r._firestore&&my(u.query,r.query)&&u.metadata.isEqual(r.metadata)&&u._snapshot.isEqual(r._snapshot)}function Ty(u){if(Xc(u)&&0===u.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yf{}function ec(u,...r){for(const a of r)u=a._apply(u);return u}class e0 extends yf{constructor(r,a,c){super(),this.Ka=r,this.ja=a,this.Qa=c,this.type="where"}_apply(r){const a=hl(r.firestore),c=function(h,v,S,L,q,ie,he){let xe;if(q.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new T(I.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on FieldPath.documentId().`);if("in"===ie||"not-in"===ie){Ry(he,ie);const Ct=[];for(const jt of he)Ct.push(xy(L,h,jt));xe={arrayValue:{values:Ct}}}else xe=xy(L,h,he)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||Ry(he,ie),xe=ov(S,"where",he,"in"===ie||"not-in"===ie);const lt=Is.create(q,ie,xe);return function(Ct,jt){if(jt.v()){const Fn=au(Ct);if(null!==Fn&&!Fn.isEqual(jt.field))throw new T(I.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Fn.toString()}' and '${jt.field.toString()}'`);const fi=Ro(Ct);null!==fi&&My(0,jt.field,fi)}const _n=function(Fn,fi){for(const Us of Fn.filters)if(fi.indexOf(Us.op)>=0)return Us.op;return null}(Ct,function(Fn){switch(Fn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(jt.op));if(null!==_n)throw new T(I.INVALID_ARGUMENT,_n===jt.op?`Invalid query. You cannot use more than one '${jt.op.toString()}' filter.`:`Invalid query. You cannot use '${jt.op.toString()}' filters with '${_n.toString()}' filters.`)}(h,lt),lt}(r._query,0,a,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new fs(r.firestore,r.converter,function(h,v){const S=h.filters.concat([v]);return new Ds(h.path,h.collectionGroup,h.explicitOrderBy.slice(),S,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,c))}}class Iy extends yf{constructor(r,a){super(),this.Ka=r,this.Wa=a,this.type="orderBy"}_apply(r){const a=function(c,h,v){if(null!==c.startAt)throw new T(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new T(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const S=new ga(h,v);return function(L,q){if(null===Ro(L)){const ie=au(L);null!==ie&&My(0,ie,q.field)}}(c,S),S}(r._query,this.Ka,this.Wa);return new fs(r.firestore,r.converter,function(c,h){const v=c.explicitOrderBy.concat([h]);return new Ds(c.path,c.collectionGroup,v,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(r._query,a))}}class Dy extends yf{constructor(r,a,c){super(),this.type=r,this.Ga=a,this.za=c}_apply(r){return new fs(r.firestore,r.converter,cc(r._query,this.Ga,this.za))}}class bg extends yf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=Ny(r,this.type,this.Ha,this.Ja);return new fs(r.firestore,r.converter,(h=a,new Ds((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,h,c.endAt)));var c,h}}class Fd extends yf{constructor(r,a,c){super(),this.type=r,this.Ha=a,this.Ja=c}_apply(r){const a=Ny(r,this.type,this.Ha,this.Ja);return new fs(r.firestore,r.converter,(h=a,new Ds((c=r._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,h)));var c,h}}function Ny(u,r,a,c){if(a[0]=(0,Oe.m9)(a[0]),a[0]instanceof gf)return function(h,v,S,L,q){if(!L)throw new T(I.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const ie=[];for(const he of Ma(h))if(he.field.isKeyField())ie.push(fo(v,L.key));else{const xe=L.data.field(he.field);if(Mu(xe))throw new T(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+he.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===xe){const lt=he.field.canonicalString();throw new T(I.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${lt}' (used as the orderBy) does not exist.`)}ie.push(xe)}return new ou(ie,q)}(u._query,u.firestore._databaseId,r,a[0]._document,c);{const h=hl(u.firestore);return function(v,S,L,q,ie,he){const xe=v.explicitOrderBy;if(ie.length>xe.length)throw new T(I.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const lt=[];for(let Ct=0;Ct<ie.length;Ct++){const jt=ie[Ct];if(xe[Ct].field.isKeyField()){if("string"!=typeof jt)throw new T(I.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof jt}`);if(!ed(v)&&-1!==jt.indexOf("/"))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${q}() must be a plain document ID, but '${jt}' contains a slash.`);const _n=v.path.child(tr.fromString(jt));if(!$t.isDocumentKey(_n))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${q}() must result in a valid document path, but '${_n}' is not because it contains an odd number of segments.`);const Fn=new $t(_n);lt.push(fo(S,Fn))}else{const _n=ov(L,q,jt);lt.push(_n)}}return new ou(lt,he)}(u._query,u.firestore._databaseId,h,r,a,c)}}function xy(u,r,a){if("string"==typeof(a=(0,Oe.m9)(a))){if(""===a)throw new T(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ed(r)&&-1!==a.indexOf("/"))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const c=r.path.child(tr.fromString(a));if(!$t.isDocumentKey(c))throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${c}' is not because it has an odd number of segments (${c.length}).`);return fo(u,new $t(c))}if(a instanceof qr)return fo(u,a._key);throw new T(I.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(a)}.`)}function Ry(u,r){if(!Array.isArray(u)||0===u.length)throw new T(I.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(u.length>10)throw new T(I.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function My(u,r,a){if(!a.isEqual(r))throw new T(I.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class wg{convertValue(r,a="none"){switch(xo(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Si(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(ru(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw Ht()}}convertObject(r,a){const c={};return Ji(r.fields,(h,v)=>{c[h]=this.convertValue(v,a)}),c}convertGeoPoint(r){return new vu(Si(r.latitude),Si(r.longitude))}convertArray(r,a){return(r.values||[]).map(c=>this.convertValue(c,a))}convertServerTimestamp(r,a){switch(a){case"previous":const c=iu(r);return null==c?null:this.convertValue(c,a);case"estimate":return this.convertTimestamp(Ou(r));default:return null}}convertTimestamp(r){const a=pa(r);return new xn(a.seconds,a.nanos)}convertDocumentKey(r,a){const c=tr.fromString(r);Jt(Pl(c));const h=new Kl(c.get(1),c.get(3)),v=new $t(c.popFirst(5));return h.isEqual(a)||un(`Document ${v} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),v}}function Ld(u,r,a){let c;return c=u?a&&(a.merge||a.mergeFields)?u.toFirestore(r,a):u.toFirestore(r):r,c}class hv extends wg{constructor(r){super(),this.firestore=r}convertBytes(r){return new io(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new qr(this.firestore,null,a)}}class Cg{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=hl(r)}set(r,a,c){this._verifyNotCommitted();const h=Eu(r,this._firestore),v=Ld(h.converter,a,c),S=Pd(this._dataReader,"WriteBatch.set",h._key,v,null!==h.converter,c);return this._mutations.push(S.toMutation(h._key,bi.none())),this}update(r,a,c,...h){this._verifyNotCommitted();const v=Eu(r,this._firestore);let S;return S="string"==typeof(a=(0,Oe.m9)(a))||a instanceof vo?gg(this._dataReader,"WriteBatch.update",v._key,a,c,h):hf(this._dataReader,"WriteBatch.update",v._key,a),this._mutations.push(S.toMutation(v._key,bi.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=Eu(r,this._firestore);return this._mutations=this._mutations.concat(new Al(a._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eu(u,r){if((u=(0,Oe.m9)(u)).firestore!==r)throw new T(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class qc extends wg{constructor(r){super(),this.firestore=r}convertBytes(r){return new io(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new qr(this.firestore,null,a)}}function _f(u,r,a){u=hr(u,qr);const c=hr(u.firestore,hi),h=Ld(u.converter,r,a);return Ud(c,[Pd(hl(c),"setDoc",u._key,h,null!==u.converter,a).toMutation(u._key,bi.none())])}function vf(u,r,a,...c){u=hr(u,qr);const h=hr(u.firestore,hi),v=hl(h);let S;return S="string"==typeof(r=(0,Oe.m9)(r))||r instanceof vo?gg(v,"updateDoc",u._key,r,a,c):hf(v,"updateDoc",u._key,r),Ud(h,[S.toMutation(u._key,bi.exists(!0))])}function Ef(u,...r){var a,c,h;u=(0,Oe.m9)(u);let v={includeMetadataChanges:!1},S=0;"object"!=typeof r[S]||lg(r[S])||(v=r[S],S++);const L={includeMetadataChanges:v.includeMetadataChanges};if(lg(r[S])){const xe=r[S];r[S]=null===(a=xe.next)||void 0===a?void 0:a.bind(xe),r[S+1]=null===(c=xe.error)||void 0===c?void 0:c.bind(xe),r[S+2]=null===(h=xe.complete)||void 0===h?void 0:h.bind(xe)}let q,ie,he;if(u instanceof qr)ie=hr(u.firestore,hi),he=jr(u._key.path),q={next:xe=>{r[S]&&r[S](Ag(ie,u,xe))},error:r[S+1],complete:r[S+2]};else{const xe=hr(u,fs);ie=hr(xe.firestore,hi),he=xe._query;const lt=new qc(ie);q={next:Ct=>{r[S]&&r[S](new pl(ie,lt,xe,Ct))},error:r[S+1],complete:r[S+2]},Ty(u._query)}return function(xe,lt,Ct,jt){const _n=new Lc(jt),Fn=new qh(lt,_n,Ct);return xe.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return Rp(yield Vc(xe),Fn)})),()=>{_n.Xo(),xe.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return Gh(yield Vc(xe),Fn)}))}}(Xi(ie),he,L,q)}function Ud(u,r){return function(a,c){const h=new O;return a.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(u,r,a){return Ad.apply(this,arguments)}(yield of(a),c,h)})),h.promise}(Xi(u),r)}function Ag(u,r,a){const c=a.docs.get(r._key),h=new qc(u);return new fl(u,h,r._key,c,new Xl(a.hasPendingWrites,a.fromCache),r.converter)}class Sg extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=hl(r)}get(r){const a=Eu(r,this._firestore),c=new hv(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return Ht();const v=h[0];if(v.isFoundDocument())return new gf(this._firestore,c,v.key,v,a.converter);if(v.isNoDocument())return new gf(this._firestore,c,a._key,null,a.converter);throw Ht()})}set(r,a,c){const h=Eu(r,this._firestore),v=Ld(h.converter,a,c),S=Pd(this._dataReader,"Transaction.set",h._key,v,null!==h.converter,c);return this._transaction.set(h._key,S),this}update(r,a,c,...h){const v=Eu(r,this._firestore);let S;return S="string"==typeof(a=(0,Oe.m9)(a))||a instanceof vo?gg(this._dataReader,"Transaction.update",v._key,a,c,h):hf(this._dataReader,"Transaction.update",v._key,a),this._transaction.update(v._key,S),this}delete(r){const a=Eu(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=Eu(r,this._firestore),c=new qc(this._firestore);return super.get(r).then(h=>new fl(this._firestore,c,a._key,h._document,new Xl(!1,!1),a.converter))}}function bf(u,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new T("invalid-argument",`Invalid options passed to function ${u}(): You cannot specify both "merge" and "mergeFields".`);return r}function wf(){if("undefined"==typeof Uint8Array)throw new T("unimplemented","Uint8Arrays are not available in this environment.")}function Mg(){if("undefined"==typeof atob)throw new T("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(u){qt=u})(Ye.SDK_VERSION),(0,Ye._registerComponent)(new cn.wA("firestore",(u,{options:r})=>{const a=u.getProvider("app").getImmediate(),c=new hi(a,new Ie(u.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),c._setSettings(r),c},"PUBLIC")),(0,Ye.registerVersion)("@firebase/firestore","3.0.1",void 0);class Bd{constructor(r){this._delegate=r}static fromBase64String(r){return Mg(),new Bd(io.fromBase64String(r))}static fromUint8Array(r){return wf(),new Bd(io.fromUint8Array(r))}toBase64(){return Mg(),this._delegate.toBase64()}toUint8Array(){return wf(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Og(u){return function(u,r){if("object"!=typeof u||null===u)return!1;const a=u;for(const c of["next","error","complete"])if(c in a&&"function"==typeof a[c])return!0;return!1}(u)}class Pg{enableIndexedDbPersistence(r,a){return function(u,r){Ql(u=hr(u,hi));const a=Xi(u),c=u._freezeSettings(),h=new cy;return Bc(a,h,new Rr(h,c.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(u){Ql(u=hr(u,hi));const r=Xi(u),a=u._freezeSettings(),c=new cy;return Bc(r,c,new Kp(c,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(u){if(u._initialized&&!u._terminated)throw new T(I.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new O;return u._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(a=(0,pe.Z)(function*(c){if(!no.Pt())return Promise.resolve();const h=c+"main";yield no.delete(h)}),function(c){return a.apply(this,arguments)})(Sm(u._databaseId,u._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class Cf{constructor(r,a,c){this._delegate=a,this._persistenceProvider=c,this.INTERNAL={delete:()=>this.terminate()},r instanceof Kl||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&lr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,c={}){!function(u,r,a,c={}){var h;const v=(u=hr(u,Rd))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==r&&lr("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},v),{host:`${r}:${a}`,ssl:!1})),c.mockUserToken){let S,L;if("string"==typeof c.mockUserToken)S=c.mockUserToken,L=Tt.MOCK_USER;else{S=(0,Oe.Sg)(c.mockUserToken,null===(h=u._app)||void 0===h?void 0:h.options.projectId);const q=c.mockUserToken.sub||c.mockUserToken.user_id;if(!q)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");L=new Tt(q)}u._credentials=new de(new j(S,L))}}(this._delegate,r,a,c)}enableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,pe.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!0),function(c){const h=x(c);return h.Kr.delete(0),jl(h)}(a)}))}(Xi(u=hr(u,hi)))}(this._delegate)}disableNetwork(){return function(u){return function(u){return u.asyncQueue.enqueue((0,pe.Z)(function*(){const r=yield tg(u),a=yield ng(u);return r.setNetworkEnabled(!1),(c=(0,pe.Z)(function*(h){const v=x(h);v.Kr.add(0),yield ul(v),v.Wr.set("Offline")}),function(h){return c.apply(this,arguments)})(a);var c}))}(Xi(u=hr(u,hi)))}(this._delegate)}enablePersistence(r){let a=!1,c=!1;return r&&(a=!!r.synchronizeTabs,c=!!r.experimentalForceOwningTab,na("synchronizeTabs",a,"experimentalForceOwningTab",c)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,c)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(u){return function(r){const a=new O;return r.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(u,r){return Jh.apply(this,arguments)}(yield of(r),a)})),a.promise}(Xi(u=hr(u,hi)))}(this._delegate)}onSnapshotsInSync(r){return function(u,r){return function(u,r){const a=new Lc(r);return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return c=yield Vc(u),h=a,x(c).Zr.add(h),void h.next();var c,h})),()=>{a.Xo(),u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return c=yield Vc(u),h=a,void x(c).Zr.delete(h);var c,h}))}}(Xi(u=hr(u,hi)),lg(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new T("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new tc(this,af(this._delegate,r))}catch(a){throw Ls(a,"collection()","Firestore.collection()")}}doc(r){try{return new Fo(this,uf(this._delegate,r))}catch(a){throw Ls(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new Vs(this,function(u,r){if(u=hr(u,Rd),py("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(u,null,(a=r,new Ds(tr.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw Ls(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(u,r){return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const c=yield(h=u,dl(h).then(v=>v.datastore));var h;new z_(u.asyncQueue,c,r,a).run()})),a.promise}(Xi(u),a=>r(new Sg(u,a)))}(this._delegate,a=>r(new kg(this,a)))}batch(){return Xi(this._delegate),new Fg(new Cg(this._delegate,r=>Ud(this._delegate,r)))}loadBundle(r){return function(u,r){const a=Xi(u=hr(u,hi)),c=new lf;return function(u,r,a,c){const h=function(v,S){let L;return L="string"==typeof v?(new TextEncoder).encode(v):v,q=function(q,ie){if(q instanceof Uint8Array)return Ba(q,void 0);if(q instanceof ArrayBuffer)return Ba(new Uint8Array(q),void 0);if(q instanceof ReadableStream)return q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(L),new Yp(q,S);var q}(a,jh(r));u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function(u,r,a){const c=x(u);var h;(h=(0,pe.Z)(function*(v,S,L){try{const q=yield S.getMetadata();if(yield function(lt,Ct){const jt=x(lt),_n=oi(Ct.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",Fn=>jt.Je.getBundleMetadata(Fn,Ct.id)).then(Fn=>!!Fn&&Fn.createTime.compareTo(_n)>=0)}(v.localStore,q))return yield S.close(),void L._completeWith((lt=q,{taskState:"Success",documentsLoaded:lt.totalDocuments,bytesLoaded:lt.totalBytes,totalDocuments:lt.totalDocuments,totalBytes:lt.totalBytes}));L._updateProgress(zh(q));const ie=new Va(q,v.localStore,S.N);let he=yield S.Qo();for(;he;){const lt=yield ie.fo(he);lt&&L._updateProgress(lt),he=yield S.Qo()}const xe=yield ie.complete();yield Ua(v,xe.Tn,void 0),yield function(lt,Ct){const jt=x(lt);return jt.persistence.runTransaction("Save bundle","readwrite",_n=>jt.Je.saveBundleMetadata(_n,Ct))}(v.localStore,q),L._completeWith(xe.progress)}catch(q){lr("SyncEngine",`Loading bundle failed with ${q}`),L._failWith(q)}var lt}),function(v,S,L){return h.apply(this,arguments)})(c,r,a).then(()=>{c.sharedClientState.notifyBundleLoaded()})}(yield of(u),h,c)}))}(a,u._databaseId,r,c),c}(this._delegate,r)}namedQuery(r){return function(u,r){return function(u,r){return u.asyncQueue.enqueue((0,pe.Z)(function*(){return function(a,c){const h=x(a);return h.persistence.runTransaction("Get named query","readonly",v=>h.Je.getNamedQuery(v,c))}(yield sf(u),r)}))}(Xi(u=hr(u,hi)),r).then(a=>a?new fs(u,null,a.query):null)}(this._delegate,r).then(a=>a?new Vs(this,a):null)}}class jd extends wg{constructor(r){super(),this.firestore=r}convertBytes(r){return new Bd(new io(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return Fo.forKey(a,this.firestore,null)}}class kg{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}get(r){const a=nc(r);return this._delegate.get(a).then(c=>new Hd(this._firestore,new fl(this._firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,a.converter)))}set(r,a,c){const h=nc(r);return c?(bf("Transaction.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const v=nc(r);return 2===arguments.length?this._delegate.update(v,a):this._delegate.update(v,a,c,...h),this}delete(r){const a=nc(r);return this._delegate.delete(a),this}}class Fg{constructor(r){this._delegate=r}set(r,a,c){const h=nc(r);return c?(bf("WriteBatch.set",c),this._delegate.set(h,a,c)):this._delegate.set(h,a),this}update(r,a,c,...h){const v=nc(r);return 2===arguments.length?this._delegate.update(v,a):this._delegate.update(v,a,c,...h),this}delete(r){const a=nc(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class gl{constructor(r,a,c){this._firestore=r,this._userDataWriter=a,this._delegate=c}fromFirestore(r,a){const c=new kd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new $d(this._firestore,c),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const c=gl.INSTANCES;let h=c.get(r);h||(h=new WeakMap,c.set(r,h));let v=h.get(a);return v||(v=new gl(r,new jd(r),a),h.set(a,v)),v}}gl.INSTANCES=new WeakMap;class Fo{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}static forPath(r,a,c){if(r.length%2!=0)throw new T("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Fo(a,new qr(a._delegate,c,new $t(r)))}static forKey(r,a,c){return new Fo(a,new qr(a._delegate,c,r))}get id(){return this._delegate.id}get parent(){return new tc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new tc(this.firestore,af(this._delegate,r))}catch(a){throw Ls(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Oe.m9)(r))instanceof qr&&gy(this._delegate,r)}set(r,a){a=bf("DocumentReference.set",a);try{return a?_f(this._delegate,r,a):_f(this._delegate,r)}catch(c){throw Ls(c,"setDoc()","DocumentReference.set()")}}update(r,a,...c){try{return 1===arguments.length?vf(this._delegate,r):vf(this._delegate,r,a,...c)}catch(h){throw Ls(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(u){return Ud(hr(u.firestore,hi),[new Al(u._key,bi.none())])}(this._delegate)}onSnapshot(...r){const a=Lg(r),c=vv(r,h=>new Hd(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return Ef(this._delegate,a,c)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=hr(u,qr);const r=hr(u.firestore,hi),a=Xi(r),c=new qc(r);return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(c=(0,pe.Z)(function*(h,v,S){try{const L=yield function(q,ie){const he=x(q);return he.persistence.runTransaction("read document","readonly",xe=>he.Qn.An(xe,ie))}(h,v);L.isFoundDocument()?S.resolve(L):L.isNoDocument()?S.resolve(null):S.reject(new T(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(L){const q=ql(L,`Failed to get document '${v} from cache`);S.reject(q)}}),function(h,v,S){return c.apply(this,arguments)})(yield sf(u),r,a);var c})),a.promise}(a,u._key).then(h=>new fl(r,c,u._key,h,new Xl(null!==h&&h.hasLocalMutations,!0),u.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=hr(u,qr);const r=hr(u.firestore,hi);return Q_(Xi(r),u._key,{source:"server"}).then(a=>Ag(r,u,a))}(this._delegate):function(u){u=hr(u,qr);const r=hr(u.firestore,hi);return Q_(Xi(r),u._key).then(a=>Ag(r,u,a))}(this._delegate),a.then(c=>new Hd(this.firestore,new fl(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)))}withConverter(r){return new Fo(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}function Ls(u,r,a){return u.message=u.message.replace(r,a),u}function Lg(u){for(const r of u)if("object"==typeof r&&!Og(r))return r;return{}}function vv(u,r){var a,c;let h;return h=Og(u[0])?u[0]:Og(u[1])?u[1]:"function"==typeof u[0]?{next:u[0],error:u[1],complete:u[2]}:{next:u[1],error:u[2],complete:u[3]},{next:v=>{h.next&&h.next(r(v))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(c=h.complete)||void 0===c?void 0:c.bind(h)}}class Hd{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new Fo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return mf(this._delegate,r._delegate)}}class $d extends Hd{data(r){const a=this._delegate.data(r);return function(u,r){u||Ht()}(void 0!==a),a}}class Vs{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new jd(r)}where(r,a,c){try{return new Vs(this.firestore,ec(this._delegate,function(u,r,a){const c=r,h=vg("where",u);return new e0(h,c,a)}(r,a,c)))}catch(h){throw Ls(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new Vs(this.firestore,ec(this._delegate,function(u,r="asc"){const a=r,c=vg("orderBy",u);return new Iy(c,a)}(r,a)))}catch(c){throw Ls(c,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new Vs(this.firestore,ec(this._delegate,function(u){return ag("limit",u),new Dy("limit",u,"F")}(r)))}catch(a){throw Ls(a,"limit()","Query.limit()")}}limitToLast(r){try{return new Vs(this.firestore,ec(this._delegate,function(u){return ag("limitToLast",u),new Dy("limitToLast",u,"L")}(r)))}catch(a){throw Ls(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new Vs(this.firestore,ec(this._delegate,function(...u){return new bg("startAt",u,!0)}(...r)))}catch(a){throw Ls(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new Vs(this.firestore,ec(this._delegate,function(...u){return new bg("startAfter",u,!1)}(...r)))}catch(a){throw Ls(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new Vs(this.firestore,ec(this._delegate,function(...u){return new Fd("endBefore",u,!0)}(...r)))}catch(a){throw Ls(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new Vs(this.firestore,ec(this._delegate,function(...u){return new Fd("endAt",u,!1)}(...r)))}catch(a){throw Ls(a,"endAt()","Query.endAt()")}}isEqual(r){return my(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(u){u=hr(u,fs);const r=hr(u.firestore,hi),a=Xi(r),c=new qc(r);return function(u,r){const a=new O;return u.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(c=(0,pe.Z)(function*(h,v,S){try{const L=yield Mn(h,v,!0),q=new L_(v,L.Gn),ie=q.Io(L.documents),he=q.applyChanges(ie,!1);S.resolve(he.snapshot)}catch(L){const q=ql(L,`Failed to execute query '${v} against cache`);S.reject(q)}}),function(h,v,S){return c.apply(this,arguments)})(yield sf(u),r,a);var c})),a.promise}(a,u._query).then(h=>new pl(r,c,u,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(u){u=hr(u,fs);const r=hr(u.firestore,hi),a=Xi(r),c=new qc(r);return fy(a,u._query,{source:"server"}).then(h=>new pl(r,c,u,h))}(this._delegate):function(u){u=hr(u,fs);const r=hr(u.firestore,hi),a=Xi(r),c=new qc(r);return Ty(u._query),fy(a,u._query).then(h=>new pl(r,c,u,h))}(this._delegate),a.then(c=>new Ri(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)))}onSnapshot(...r){const a=Lg(r),c=vv(r,h=>new Ri(this.firestore,new pl(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return Ef(this._delegate,a,c)}withConverter(r){return new Vs(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}class Ev{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new $d(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ri{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new $d(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new Ev(this._firestore,a))}forEach(r,a){this._delegate.forEach(c=>{r.call(a,new $d(this._firestore,c))})}isEqual(r){return mf(this._delegate,r._delegate)}}class tc extends Vs{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Fo(this.firestore,r):null}doc(r){try{return new Fo(this.firestore,void 0===r?uf(this._delegate):uf(this._delegate,r))}catch(a){throw Ls(a,"doc()","CollectionReference.doc()")}}add(r){return function(u,r){const a=hr(u.firestore,hi),c=uf(u),h=Ld(u.converter,r);return Ud(a,[Pd(hl(u.firestore),"addDoc",c._key,h,null!==u.converter,{}).toMutation(c._key,bi.exists(!1))]).then(()=>c)}(this._delegate,r).then(a=>new Fo(this.firestore,a))}isEqual(r){return gy(this._delegate,r._delegate)}withConverter(r){return new tc(this.firestore,this._delegate.withConverter(r?gl.getInstance(this.firestore,r):null))}}function nc(u){return hr(u,qr)}class Vg{constructor(...r){this._delegate=new vo(...r)}static documentId(){return new Vg(Un.keyField().canonicalString())}isEqual(r){return(r=(0,Oe.m9)(r))instanceof vo&&this._delegate._internalPath.isEqual(r._internalPath)}}class ml{constructor(r){this._delegate=r}static serverTimestamp(){const r=new pg("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new ml(r)}static delete(){const r=new Zc("deleteField");return r._methodName="FieldValue.delete",new ml(r)}static arrayUnion(...r){const a=function(...u){return new by("arrayUnion",u)}(...r);return a._methodName="FieldValue.arrayUnion",new ml(a)}static arrayRemove(...r){const a=function(...u){return new iv("arrayRemove",u)}(...r);return a._methodName="FieldValue.arrayRemove",new ml(a)}static increment(r){const a=function(u){return new sv("increment",u)}(r);return a._methodName="FieldValue.increment",new ml(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const bv={Firestore:Cf,GeoPoint:vu,Timestamp:xn,Blob:Bd,Transaction:kg,WriteBatch:Fg,DocumentReference:Fo,DocumentSnapshot:Hd,Query:Vs,QueryDocumentSnapshot:$d,QuerySnapshot:Ri,CollectionReference:tc,FieldPath:Vg,FieldValue:ml,setLogLevel:function(u){!function(u){sn.setLogLevel(u)}(u)},CACHE_SIZE_UNLIMITED:-1};!function(u){(function(u,r){u.INTERNAL.registerComponent(new cn.wA("firestore-compat",a=>((r,a)=>new Cf(r,a,new Pg))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},bv)))})(u),u.registerVersion("@firebase/firestore-compat","0.1.1")}(Me.Z);var Lo=G(8006),wv=G(7841);function Ug(u,r){return function(u,r=_.z){return new ne.y(a=>{let c;return null!=r?r.schedule(()=>{c=u.onSnapshot({includeMetadataChanges:!0},a)}):c=u.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=c&&c()}})}(u,r)}function Tf(u,r){return Ug(u,r).pipe((0,qe.U)(a=>({payload:a,type:"query"})))}function Bg(u,r){return Tf(u,r).pipe((0,Ae.O)(void 0),ye(),(0,qe.U)(([a,c])=>{const h=c.payload.docChanges(),v=h.map(S=>({type:S.type,payload:S}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(c.payload.metadata)&&c.payload.docs.forEach((S,L)=>{const q=h.find(he=>he.doc.ref.isEqual(S.ref)),ie=null==a?void 0:a.payload.docs.find(he=>he.ref.isEqual(S.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(S.metadata)||!q&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(S.metadata)||v.push({type:"modified",payload:{oldIndex:L,newIndex:L,type:"modified",doc:S}})}),v}))}function If(u,r,a){return Bg(u,a).pipe((0,$e.R)((c,h)=>function(u,r,a){return r.forEach(c=>{a.indexOf(c.type)>-1&&(u=function(u,r){switch(r.type){case"added":if(!u[r.newIndex]||!u[r.newIndex].doc.ref.isEqual(r.doc.ref))return sa(u,r.newIndex,0,r);break;case"modified":if(null==u[r.oldIndex]||u[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=u.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return sa(u,r.newIndex,1,r)}break;case"removed":if(u[r.oldIndex]&&u[r.oldIndex].doc.ref.isEqual(r.doc.ref))return sa(u,r.oldIndex,1)}return u}(u,c))}),u}(c,h.map(v=>v.payload),r),[]),a=>a.lift(new me(void 0,void 0)),(0,qe.U)(c=>c.map(h=>({type:h.type,payload:h}))))}function sa(u,r,a,...c){const h=u.slice();return h.splice(r,a,...c),h}function Hg(u){return(!u||0===u.length)&&(u=["added","removed","modified"]),u}class va{constructor(r,a,c){this.ref=r,this.query=a,this.afs=c}stateChanges(r){let a=Bg(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,qe.U)(c=>c.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,Ae.O)(void 0),ye(),(0,je.h)(([c,h])=>h.length>0||!c),(0,qe.U)(([c,h])=>h),be.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,$e.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Hg(r);return If(this.query,a,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(r={}){return Tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(a=>a.payload.docs.map(c=>r.idField?Object.assign(Object.assign({},c.data()),{[r.idField]:c.id}):c.data())),be.iC)}get(r){return(0,Se.D)(this.query.get(r)).pipe(be.f6)}add(r){return this.ref.add(r)}doc(r){return new oa(this.ref.doc(r),this.afs)}}class oa{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const c=this.ref.collection(r),{ref:h,query:v}=Hy(c,a);return new va(h,v,this.afs)}snapshotChanges(){return function(u,r){return Ug(u,r).pipe((0,Ae.O)(void 0),ye(),(0,qe.U)(([a,c])=>c.exists?(null==a?void 0:a.exists)?{payload:c,type:"modified"}:{payload:c,type:"added"}:{payload:c,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,Se.D)(this.ref.get(r)).pipe((0,yt.QV)(this.afs.schedulers.insideAngular))}}class Ea{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?Bg(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(a=>a.filter(c=>r.indexOf(c.type)>-1)),(0,je.h)(a=>a.length>0),be.iC):Bg(this.query,this.afs.schedulers.outsideAngular).pipe(be.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,$e.R)((a,c)=>[...a,...c],[]))}snapshotChanges(r){const a=Hg(r);return If(this.query,a,this.afs.schedulers.outsideAngular).pipe(be.iC)}valueChanges(r={}){return Tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(c=>c.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),be.iC)}get(r){return(0,Se.D)(this.query.get(r)).pipe(be.f6)}}const $g=new E.OlP("angularfire2.enableFirestorePersistence"),Zg=new E.OlP("angularfire2.firestore.persistenceSettings"),Dv=new E.OlP("angularfire2.firestore.settings"),Av=new E.OlP("angularfire2.firestore.use-emulator");function Hy(u,r=(a=>a)){return{query:r(u),ref:u}}let $y=(()=>{class u{constructor(a,c,h,v,S,L,q,ie,he,xe,lt,Ct,jt,_n,Fn,fi){this.schedulers=q;const Us=(0,Ke.on)(a,L,c),Za=he;xe&&(0,Lo.nw)(Us,L,lt,jt,_n,Fn,Ct,fi),[this.firestore,this.persistenceEnabled$]=(0,be.cc)(`${Us.name}.firestore`,"AngularFirestore",Us.name,()=>{const ba=L.runOutsideAngular(()=>Us.firestore());if(v&&ba.settings(v),Za&&ba.useEmulator(...Za),h&&!(0,It.PM)(S)){const Zd=()=>{try{return(0,Se.D)(ba.enablePersistence(ie||void 0).then(()=>!0,()=>!1))}catch(Df){return"undefined"!=typeof console&&console.warn(Df),(0,Ne.of)(!1)}};return[ba,L.runOutsideAngular(Zd)]}return[ba,(0,Ne.of)(!1)]},[v,Za,h])}collection(a,c){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:v,query:S}=Hy(h,c),L=this.schedulers.ngZone.run(()=>v);return new va(L,S,this)}collectionGroup(a,c){const h=c||(S=>S),v=this.firestore.collectionGroup(a);return new Ea(h(v),this)}doc(a){let c;c="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>c);return new oa(h,this)}createId(){return this.firestore.collection("_").doc().id}}return u.\u0275fac=function(a){return new(a||u)(E.LFG(Ke.Dh),E.LFG(Ke.xv,8),E.LFG($g,8),E.LFG(Dv,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(be.HU),E.LFG(Zg,8),E.LFG(Av,8),E.LFG(Lo.zQ,8),E.LFG(Lo.Qv,8),E.LFG(Lo.L6,8),E.LFG(Lo._Q,8),E.LFG(Lo.rT,8),E.LFG(Lo.lh,8),E.LFG(Lo.f7,8))},u.\u0275prov=E.Yz7({token:u,factory:u.\u0275fac,providedIn:"any"}),u})(),Gg=(()=>{class u{constructor(){wv.Z.registerVersion("angularfire",be.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:u,providers:[{provide:$g,useValue:!0},{provide:Zg,useValue:a}]}}}return u.\u0275fac=function(a){return new(a||u)},u.\u0275mod=E.oAB({type:u}),u.\u0275inj=E.cJS({providers:[$y]}),u})()},8939:(Bt,tt,G)=>{"use strict";G.d(tt,{hO:()=>fe,xv:()=>ue,Dh:()=>ye,GT:()=>be,on:()=>ee,pX:()=>Ne});var E=G(3018),_=G(7841),ne=G(9126);Bt=G.hmd(Bt);const Se=["ngOnDestroy"],Ne=(Ae,qe,$e,je={})=>new Proxy(Ae,{get:(yt,Ke)=>$e.runOutsideAngular(()=>{var It;if(Ae[Ke])return(null===(It=null==je?void 0:je.spy)||void 0===It?void 0:It.get)&&je.spy.get(Ke,Ae[Ke]),Ae[Ke];if(Se.indexOf(Ke)>-1)return()=>{};const st=qe.toPromise().then(Me=>{const pe=Me&&Me[Ke];return"function"==typeof pe?pe.bind(Me):pe&&pe.then?pe.then(Ye=>$e.run(()=>Ye)):$e.run(()=>pe)});return new Proxy(()=>{},{get:(Me,pe)=>st[pe],apply:(Me,pe,Ye)=>st.then(cn=>{var Pt;const Oe=cn&&cn(...Ye);return(null===(Pt=null==je?void 0:je.spy)||void 0===Pt?void 0:Pt.apply)&&je.spy.apply(Ke,Ye,Oe),Oe})})})}),be=(Ae,qe)=>{qe.forEach($e=>{Object.getOwnPropertyNames($e.prototype||$e).forEach(je=>{Object.defineProperty(Ae.prototype,je,Object.getOwnPropertyDescriptor($e.prototype||$e,je))})})};class ke{constructor(qe){return qe}}const ye=new E.OlP("angularfire2.app.options"),ue=new E.OlP("angularfire2.app.name");function ee(Ae,qe,$e){const yt="object"==typeof $e&&$e||{};yt.name=yt.name||"string"==typeof $e&&$e||"[DEFAULT]";const It=_.Z.apps.filter(st=>st&&st.name===yt.name)[0]||qe.runOutsideAngular(()=>_.Z.initializeApp(Ae,yt));try{JSON.stringify(Ae)!==JSON.stringify(It.options)&&ae("error",`${It.name} Firebase App already initialized with different options${Bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(st){}return new ke(It)}const ae=(Ae,...qe)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[Ae](...qe)},me={provide:ke,useFactory:ee,deps:[ye,E.R0b,[new E.FiY,ue]]};let fe=(()=>{class Ae{constructor($e){_.Z.registerVersion("angularfire",ne.q4.full,"core"),_.Z.registerVersion("angularfire",ne.q4.full,"app-compat"),_.Z.registerVersion("angular",E.q4F.full,$e.toString())}static initializeApp($e,je){return{ngModule:Ae,providers:[{provide:ye,useValue:$e},{provide:ue,useValue:je}]}}}return Ae.\u0275fac=function($e){return new($e||Ae)(E.LFG(E.Lbi))},Ae.\u0275mod=E.oAB({type:Ae}),Ae.\u0275inj=E.cJS({providers:[me]}),Ae})()},9126:(Bt,tt,G)=>{"use strict";G.d(tt,{q4:()=>ee,iC:()=>Oe,f6:()=>Pt,HU:()=>st,cc:()=>fe});var E=G(3018);(0,G(5452).registerVersion)("firebase","9.0.1","app");var Ne=G(7771),be=G(3637),ke=G(3342),ye=G(309),ue=G(2639);Bt=G.hmd(Bt);const ee=new E.GfV("7.0.3"),ae=!!Bt.hot,me=(et,...le)=>{(0,E.X6Q)()&&"undefined"!=typeof console&&console[et](...le)};function fe(et,le,vt,_t,dn){const[,Nt,xt]=globalThis.\u0275AngularfireInstanceCache.find(Qt=>Qt[0]===et)||[];if(Nt)return function(et,le){try{return et.toString()===le.toString()}catch(vt){return et===le}}(dn,xt)||(me("error",`${le} was already initialized on the ${vt} Firebase App with different settings.${ae?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:dn,was:xt})),Nt;{const Qt=_t();return globalThis.\u0275AngularfireInstanceCache.push([et,Qt,dn]),Qt}}function yt(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Ke{constructor(le,vt=Ne.N){this.zone=le,this.delegate=vt}now(){return this.delegate.now()}schedule(le,vt,_t){const dn=this.zone;return this.delegate.schedule(function(xt){dn.runGuarded(()=>{le.apply(this,[xt])})},vt,_t)}}class It{constructor(le){this.zone=le,this.task=null}call(le,vt){const _t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yt,{},yt,yt)),vt.pipe((0,ke.b)({next:_t,complete:_t,error:_t})).subscribe(le).add(_t)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let st=(()=>{class et{constructor(vt){this.ngZone=vt,this.outsideAngular=vt.runOutsideAngular(()=>new Ke(Zone.current)),this.insideAngular=vt.run(()=>new Ke(Zone.current,be.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return et.\u0275fac=function(vt){return new(vt||et)(E.LFG(E.R0b))},et.\u0275prov=E.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();function Me(){const et=globalThis.\u0275AngularFireScheduler;if(!et)throw new Error("AngularFireModule has not been provided");return et}function Pt(et){return et.pipe((0,ye.QV)(Me().insideAngular))}function Oe(et){return Me(),function(et){return function(vt){return(vt=vt.lift(new It(et.ngZone))).pipe((0,ue.R)(et.outsideAngular),(0,ye.QV)(et.insideAngular))}}(Me())(et)}},665:(Bt,tt,G)=>{"use strict";G.d(tt,{Fj:()=>yt,qu:()=>We,NI:()=>Rt,u:()=>so,cw:()=>gn,sg:()=>es,u5:()=>B,JJ:()=>sr,JL:()=>Ze,On:()=>Pi,YN:()=>mi,wV:()=>wi,_:()=>Ki,UX:()=>Y,EJ:()=>Ti,kI:()=>Ye,_Y:()=>Zr,Kr:()=>oo});var E=G(3018),_=G(8583),ne=G(7574),Se=G(9796),Ne=G(8002),be=G(1555),ke=G(4402);function ue(F,P){return new ne.y(M=>{const z=F.length;if(0===z)return void M.complete();const Re=new Array(z);let Ot=0,Xt=0;for(let ar=0;ar<z;ar++){const er=(0,ke.D)(F[ar]);let gr=!1;M.add(er.subscribe({next:Kn=>{gr||(gr=!0,Xt++),Re[ar]=Kn},error:Kn=>M.error(Kn),complete:()=>{Ot++,(Ot===z||!gr)&&(Xt===z&&M.next(P?P.reduce((Kn,ni,zs)=>(Kn[ni]=Re[zs],Kn),{}):Re),M.complete())}}))}})}let ee=(()=>{class F{constructor(M,z){this._renderer=M,this._elementRef=z,this.onChange=Re=>{},this.onTouched=()=>{}}setProperty(M,z){this._renderer.setProperty(this._elementRef.nativeElement,M,z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(E.Qsj),E.Y36(E.SBq))},F.\u0275dir=E.lG2({type:F}),F})(),ae=(()=>{class F extends ee{}return F.\u0275fac=function(){let P;return function(z){return(P||(P=E.n5z(F)))(z||F)}}(),F.\u0275dir=E.lG2({type:F,features:[E.qOj]}),F})();const me=new E.OlP("NgValueAccessor"),qe={provide:me,useExisting:(0,E.Gpc)(()=>yt),multi:!0},je=new E.OlP("CompositionEventMode");let yt=(()=>{class F extends ee{constructor(M,z,Re){super(M,z),this._compositionMode=Re,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const F=(0,_.q)()?(0,_.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(je,8))},F.\u0275dir=E.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,z){1&M&&E.NdJ("input",function(Ot){return z._handleInput(Ot.target.value)})("blur",function(){return z.onTouched()})("compositionstart",function(){return z._compositionStart()})("compositionend",function(Ot){return z._compositionEnd(Ot.target.value)})},features:[E._Bn([qe]),E.qOj]}),F})();function Ke(F){return null==F||0===F.length}function It(F){return null!=F&&"number"==typeof F.length}const st=new E.OlP("NgValidators"),Me=new E.OlP("NgAsyncValidators"),pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ye{static min(P){return F=P,P=>{if(Ke(P.value)||Ke(F))return null;const M=parseFloat(P.value);return!isNaN(M)&&M<F?{min:{min:F,actual:P.value}}:null};var F}static max(P){return F=P,P=>{if(Ke(P.value)||Ke(F))return null;const M=parseFloat(P.value);return!isNaN(M)&&M>F?{max:{max:F,actual:P.value}}:null};var F}static required(P){return Ke(P.value)?{required:!0}:null}static requiredTrue(P){return!0===P.value?null:{required:!0}}static email(P){return Ke((F=P).value)||pe.test(F.value)?null:{email:!0};var F}static minLength(P){return F=P,P=>Ke(P.value)||!It(P.value)?null:P.value.length<F?{minlength:{requiredLength:F,actualLength:P.value.length}}:null;var F}static maxLength(P){return F=P,P=>It(P.value)&&P.value.length>F?{maxlength:{requiredLength:F,actualLength:P.value.length}}:null;var F}static pattern(P){return function(F){if(!F)return vt;let P,M;return"string"==typeof F?(M="","^"!==F.charAt(0)&&(M+="^"),M+=F,"$"!==F.charAt(F.length-1)&&(M+="$"),P=new RegExp(M)):(M=F.toString(),P=F),z=>{if(Ke(z.value))return null;const Re=z.value;return P.test(Re)?null:{pattern:{requiredPattern:M,actualValue:Re}}}}(P)}static nullValidator(P){return null}static compose(P){return nt(P)}static composeAsync(P){return ge(P)}}function vt(F){return null}function _t(F){return null!=F}function dn(F){const P=(0,E.QGY)(F)?(0,ke.D)(F):F;return(0,E.CqO)(P),P}function Nt(F){let P={};return F.forEach(M=>{P=null!=M?Object.assign(Object.assign({},P),M):P}),0===Object.keys(P).length?null:P}function xt(F,P){return P.map(M=>M(F))}function vn(F){return F.map(P=>function(F){return!F.validate}(P)?P:M=>P.validate(M))}function nt(F){if(!F)return null;const P=F.filter(_t);return 0==P.length?null:function(M){return Nt(xt(M,P))}}function at(F){return null!=F?nt(vn(F)):null}function ge(F){if(!F)return null;const P=F.filter(_t);return 0==P.length?null:function(M){return function(...F){if(1===F.length){const P=F[0];if((0,Se.k)(P))return ue(P,null);if((0,be.K)(P)&&Object.getPrototypeOf(P)===Object.prototype){const M=Object.keys(P);return ue(M.map(z=>P[z]),M)}}if("function"==typeof F[F.length-1]){const P=F.pop();return ue(F=1===F.length&&(0,Se.k)(F[0])?F[0]:F,null).pipe((0,Ne.U)(M=>P(...M)))}return ue(F,null)}(xt(M,P).map(dn)).pipe((0,Ne.U)(Nt))}}function we(F){return null!=F?ge(vn(F)):null}function Dt(F,P){return null===F?[P]:Array.isArray(F)?[...F,P]:[F,P]}function Gt(F){return F._rawValidators}function En(F){return F._rawAsyncValidators}function mn(F){return F?Array.isArray(F)?F:[F]:[]}function rr(F,P){return Array.isArray(F)?F.includes(P):F===P}function or(F,P){const M=mn(P);return mn(F).forEach(Re=>{rr(M,Re)||M.push(Re)}),M}function pn(F,P){return mn(P).filter(M=>!rr(F,M))}let Vn=(()=>{class F{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=at(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=we(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,z){return!!this.control&&this.control.hasError(M,z)}getError(M,z){return this.control?this.control.getError(M,z):null}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275dir=E.lG2({type:F}),F})(),Gn=(()=>{class F extends Vn{get formDirective(){return null}get path(){return null}}return F.\u0275fac=function(){let P;return function(z){return(P||(P=E.n5z(F)))(z||F)}}(),F.\u0275dir=E.lG2({type:F,features:[E.qOj]}),F})();class ir extends Vn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zn{constructor(P){this._cd=P}is(P){var M,z,Re;return"submitted"===P?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Re=null===(z=this._cd)||void 0===z?void 0:z.control)||void 0===Re?void 0:Re[P])}}let sr=(()=>{class F extends Zn{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(ir,2))},F.\u0275dir=E.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,z){2&M&&E.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))},features:[E.qOj]}),F})(),Ze=(()=>{class F extends Zn{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(Gn,10))},F.\u0275dir=E.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,z){2&M&&E.ekj("ng-untouched",z.is("untouched"))("ng-touched",z.is("touched"))("ng-pristine",z.is("pristine"))("ng-dirty",z.is("dirty"))("ng-valid",z.is("valid"))("ng-invalid",z.is("invalid"))("ng-pending",z.is("pending"))("ng-submitted",z.is("submitted"))},features:[E.qOj]}),F})();function Vt(F,P){return[...P.path,F]}function Yt(F,P){Xe(F,P),P.valueAccessor.writeValue(F.value),function(F,P){P.valueAccessor.registerOnChange(M=>{F._pendingValue=M,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&An(F,P)})}(F,P),function(F,P){const M=(z,Re)=>{P.valueAccessor.writeValue(z),Re&&P.viewToModelUpdate(z)};F.registerOnChange(M),P._registerOnDestroy(()=>{F._unregisterOnChange(M)})}(F,P),function(F,P){P.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&An(F,P),"submit"!==F.updateOn&&F.markAsTouched()})}(F,P),function(F,P){if(P.valueAccessor.setDisabledState){const M=z=>{P.valueAccessor.setDisabledState(z)};F.registerOnDisabledChange(M),P._registerOnDestroy(()=>{F._unregisterOnDisabledChange(M)})}}(F,P)}function Te(F,P,M=!0){const z=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(z),P.valueAccessor.registerOnTouched(z)),Ve(F,P),F&&(P._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function se(F,P){F.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(P)})}function Xe(F,P){const M=Gt(F);null!==P.validator?F.setValidators(Dt(M,P.validator)):"function"==typeof M&&F.setValidators([M]);const z=En(F);null!==P.asyncValidator?F.setAsyncValidators(Dt(z,P.asyncValidator)):"function"==typeof z&&F.setAsyncValidators([z]);const Re=()=>F.updateValueAndValidity();se(P._rawValidators,Re),se(P._rawAsyncValidators,Re)}function Ve(F,P){let M=!1;if(null!==F){if(null!==P.validator){const Re=Gt(F);if(Array.isArray(Re)&&Re.length>0){const Ot=Re.filter(Xt=>Xt!==P.validator);Ot.length!==Re.length&&(M=!0,F.setValidators(Ot))}}if(null!==P.asyncValidator){const Re=En(F);if(Array.isArray(Re)&&Re.length>0){const Ot=Re.filter(Xt=>Xt!==P.asyncValidator);Ot.length!==Re.length&&(M=!0,F.setAsyncValidators(Ot))}}}const z=()=>{};return se(P._rawValidators,z),se(P._rawAsyncValidators,z),M}function An(F,P){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Qr(F,P){if(!F.hasOwnProperty("model"))return!1;const M=F.model;return!!M.isFirstChange()||!Object.is(P,M.currentValue)}function pi(F,P){if(!P)return null;let M,z,Re;return Array.isArray(P),P.forEach(Ot=>{Ot.constructor===yt?M=Ot:function(F){return Object.getPrototypeOf(F.constructor)===ae}(Ot)?z=Ot:Re=Ot}),Re||z||M||null}function gi(F,P){const M=F.indexOf(P);M>-1&&F.splice(M,1)}const Lr="VALID",Er="INVALID",$r="PENDING",zr="DISABLED";function en(F){return(zi(F)?F.validators:F)||null}function Wr(F){return Array.isArray(F)?at(F):F||null}function Xr(F,P){return(zi(P)?P.asyncValidators:F)||null}function In(F){return Array.isArray(F)?we(F):F||null}function zi(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}class Ar{constructor(P,M){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=P,this._rawAsyncValidators=M,this._composedValidatorFn=Wr(this._rawValidators),this._composedAsyncValidatorFn=In(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Lr}get invalid(){return this.status===Er}get pending(){return this.status==$r}get disabled(){return this.status===zr}get enabled(){return this.status!==zr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._rawValidators=P,this._composedValidatorFn=Wr(P)}setAsyncValidators(P){this._rawAsyncValidators=P,this._composedAsyncValidatorFn=In(P)}addValidators(P){this.setValidators(or(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(or(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(pn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(pn(P,this._rawAsyncValidators))}hasValidator(P){return rr(this._rawValidators,P)}hasAsyncValidator(P){return rr(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=$r,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=zr,this.errors=null,this._forEachChild(z=>{z.disable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:M})),this._onDisabledChange.forEach(z=>z(!0))}enable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=Lr,this._forEachChild(z=>{z.enable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:M})),this._onDisabledChange.forEach(z=>z(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lr||this.status===$r)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zr:Lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=$r,this._hasOwnPendingAsyncValidator=!0;const M=dn(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(z,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,M={}){this.errors=P,this._updateControlsErrors(!1!==M.emitEvent)}get(P){return function(F,P,M){if(null==P||(Array.isArray(P)||(P=P.split(".")),Array.isArray(P)&&0===P.length))return null;let z=F;return P.forEach(Re=>{z=z instanceof gn?z.controls.hasOwnProperty(Re)?z.controls[Re]:null:z instanceof Pn&&z.at(Re)||null}),z}(this,P)}getError(P,M){const z=M?this.get(M):this;return z&&z.errors?z.errors[P]:null}hasError(P,M){return!!this.getError(P,M)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?zr:this.errors?Er:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($r)?$r:this._anyControlsHaveStatus(Er)?Er:Lr}_anyControlsHaveStatus(P){return this._anyControls(M=>M.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_isBoxedValue(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){zi(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rt extends Ar{constructor(P=null,M,z){super(en(M),Xr(z,M)),this._onChange=[],this._applyFormState(P),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(P,M={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(z=>z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(P,M={}){this.setValue(P,M)}reset(P=null,M={}){this._applyFormState(P),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){gi(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){gi(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){this._isBoxedValue(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}}class gn extends Ar{constructor(P,M,z){super(en(M),Xr(z,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,M){return this.controls[P]?this.controls[P]:(this.controls[P]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(P,M,z={}){this.registerControl(P,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}removeControl(P,M={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(P,M,z={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],M&&this.registerControl(P,M),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,M={}){this._checkAllValuesPresent(P),Object.keys(P).forEach(z=>{this._throwIfControlMissing(z),this.controls[z].setValue(P[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(Object.keys(P).forEach(z=>{this.controls[z]&&this.controls[z].patchValue(P[z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P={},M={}){this._forEachChild((z,Re)=>{z.reset(P[Re],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(P,M,z)=>(P[z]=M instanceof Rt?M.value:M.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(M,z)=>!!z._syncPendingControls()||M);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[P])throw new Error(`Cannot find form control with name: ${P}.`)}_forEachChild(P){Object.keys(this.controls).forEach(M=>{const z=this.controls[M];z&&P(z,M)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const M of Object.keys(this.controls)){const z=this.controls[M];if(this.contains(M)&&P(z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(P,M,z)=>((M.enabled||this.disabled)&&(P[z]=M.value),P))}_reduceChildren(P,M){let z=P;return this._forEachChild((Re,Ot)=>{z=M(z,Re,Ot)}),z}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(P){this._forEachChild((M,z)=>{if(void 0===P[z])throw new Error(`Must supply a value for form control with name: '${z}'.`)})}}class Pn extends Ar{constructor(P,M,z){super(en(M),Xr(z,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[P]}push(P,M={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(P,M,z={}){this.controls.splice(P,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:z.emitEvent})}removeAt(P,M={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(P,M,z={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),M&&(this.controls.splice(P,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,M={}){this._checkAllValuesPresent(P),P.forEach((z,Re)=>{this._throwIfControlMissing(Re),this.at(Re).setValue(z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(P.forEach((z,Re)=>{this.at(Re)&&this.at(Re).patchValue(z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P=[],M={}){this._forEachChild((z,Re)=>{z.reset(P[Re],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(P=>P instanceof Rt?P.value:P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_syncPendingControls(){let P=this.controls.reduce((M,z)=>!!z._syncPendingControls()||M,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(P))throw new Error(`Cannot find form control at index ${P}`)}_forEachChild(P){this.controls.forEach((M,z)=>{P(M,z)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(M=>M.enabled&&P(M))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_checkAllValuesPresent(P){this._forEachChild((M,z)=>{if(void 0===P[z])throw new Error(`Must supply a value for form control at index: ${z}.`)})}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}}const Xn={provide:ir,useExisting:(0,E.Gpc)(()=>Pi)},ai=(()=>Promise.resolve(null))();let Pi=(()=>{class F extends ir{constructor(M,z,Re,Ot){super(),this.control=new Rt,this._registered=!1,this.update=new E.vpe,this._parent=M,this._setValidators(z),this._setAsyncValidators(Re),this.valueAccessor=pi(0,Ot)}ngOnChanges(M){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in M&&this._updateDisabled(M),Qr(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Vt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Yt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){ai.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1})})}_updateDisabled(M){const z=M.isDisabled.currentValue,Re=""===z||z&&"false"!==z;ai.then(()=>{Re&&!this.control.disabled?this.control.disable():!Re&&this.control.disabled&&this.control.enable()})}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(Gn,9),E.Y36(st,10),E.Y36(Me,10),E.Y36(me,10))},F.\u0275dir=E.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Xn]),E.qOj,E.TTD]}),F})(),Zr=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275dir=E.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})();const Wn={provide:me,useExisting:(0,E.Gpc)(()=>wi),multi:!0};let wi=(()=>{class F extends ae{writeValue(M){this.setProperty("value",null==M?"":M)}registerOnChange(M){this.onChange=z=>{M(""==z?null:parseFloat(z))}}}return F.\u0275fac=function(){let P;return function(z){return(P||(P=E.n5z(F)))(z||F)}}(),F.\u0275dir=E.lG2({type:F,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,z){1&M&&E.NdJ("input",function(Ot){return z.onChange(Ot.target.value)})("blur",function(){return z.onTouched()})},features:[E._Bn([Wn]),E.qOj]}),F})();const Wi={provide:me,useExisting:(0,E.Gpc)(()=>Ki),multi:!0};let ei=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({}),F})(),Ur=(()=>{class F{constructor(){this._accessors=[]}add(M,z){this._accessors.push([M,z])}remove(M){for(let z=this._accessors.length-1;z>=0;--z)if(this._accessors[z][1]===M)return void this._accessors.splice(z,1)}select(M){this._accessors.forEach(z=>{this._isSameGroup(z,M)&&z[1]!==M&&z[1].fireUncheck(M.value)})}_isSameGroup(M,z){return!!M[0].control&&M[0]._parent===z._control._parent&&M[1].name===z.name}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275prov=(0,E.Yz7)({factory:function(){return new F},token:F,providedIn:ei}),F})(),Ki=(()=>{class F extends ae{constructor(M,z,Re,Ot){super(M,z),this._registry=Re,this._injector=Ot,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(ir),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(Ur),E.Y36(E.zs3))},F.\u0275dir=E.lG2({type:F,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,z){1&M&&E.NdJ("change",function(){return z.onChange()})("blur",function(){return z.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[E._Bn([Wi]),E.qOj]}),F})();const _r=new E.OlP("NgModelWithFormControlWarning"),wr={provide:Gn,useExisting:(0,E.Gpc)(()=>es)};let es=(()=>{class F extends Gn{constructor(M,z){super(),this.validators=M,this.asyncValidators=z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(M),this._setAsyncValidators(z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ve(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const z=this.form.get(M.path);return Yt(z,M),z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),z}getControl(M){return this.form.get(M.path)}removeControl(M){Te(M.control||null,M,!1),gi(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,z){this.form.get(M.path).setValue(z)}onSubmit(M){return this.submitted=!0,function(F,P){F._syncPendingControls(),P.forEach(M=>{const z=M.control;"submit"===z.updateOn&&z._pendingChange&&(M.viewToModelUpdate(z._pendingValue),z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const z=M.control,Re=this.form.get(M.path);z!==Re&&(Te(z||null,M),Re instanceof Rt&&(Yt(Re,M),M.control=Re))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const z=this.form.get(M.path);(function(F,P){Xe(F,P)})(z,M),z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const z=this.form.get(M.path);z&&function(F,P){return Ve(F,P)}(z,M)&&z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xe(this.form,this),this._oldForm&&Ve(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(st,10),E.Y36(Me,10))},F.\u0275dir=E.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(M,z){1&M&&E.NdJ("submit",function(Ot){return z.onSubmit(Ot)})("reset",function(){return z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([wr]),E.qOj,E.TTD]}),F})();const ts={provide:ir,useExisting:(0,E.Gpc)(()=>so)};let so=(()=>{class F extends ir{constructor(M,z,Re,Ot,Xt){super(),this._ngModelWarningConfig=Xt,this._added=!1,this.update=new E.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(z),this._setAsyncValidators(Re),this.valueAccessor=pi(0,Ot)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),Qr(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return Vt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(Gn,13),E.Y36(st,10),E.Y36(Me,10),E.Y36(me,10),E.Y36(_r,8))},F.\u0275dir=E.lG2({type:F,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[E._Bn([ts]),E.qOj,E.TTD]}),F._ngModelWarningSentOnce=!1,F})();const Mr={provide:me,useExisting:(0,E.Gpc)(()=>Ti),multi:!0};function ns(F,P){return null==F?`${P}`:(P&&"object"==typeof P&&(P="Object"),`${F}: ${P}`.slice(0,50))}let Ti=(()=>{class F extends ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const z=this._getOptionId(M);null==z&&this.setProperty("selectedIndex",-1);const Re=ns(z,M);this.setProperty("value",Re)}registerOnChange(M){this.onChange=z=>{this.value=this._getOptionValue(z),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z),M))return z;return null}_getOptionValue(M){const z=function(F){return F.split(":")[0]}(M);return this._optionMap.has(z)?this._optionMap.get(z):M}}return F.\u0275fac=function(){let P;return function(z){return(P||(P=E.n5z(F)))(z||F)}}(),F.\u0275dir=E.lG2({type:F,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,z){1&M&&E.NdJ("change",function(Ot){return z.onChange(Ot.target.value)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([Mr]),E.qOj]}),F})(),mi=(()=>{class F{constructor(M,z,Re){this._element=M,this._renderer=z,this._select=Re,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(ns(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Ti,9))},F.\u0275dir=E.lG2({type:F,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),F})();const Ns={provide:me,useExisting:(0,E.Gpc)(()=>Ii),multi:!0};function $s(F,P){return null==F?`${P}`:("string"==typeof P&&(P=`'${P}'`),P&&"object"==typeof P&&(P="Object"),`${F}: ${P}`.slice(0,50))}let Ii=(()=>{class F extends ae{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let z;if(this.value=M,Array.isArray(M)){const Re=M.map(Ot=>this._getOptionId(Ot));z=(Ot,Xt)=>{Ot._setSelected(Re.indexOf(Xt.toString())>-1)}}else z=(Re,Ot)=>{Re._setSelected(!1)};this._optionMap.forEach(z)}registerOnChange(M){this.onChange=z=>{const Re=[];if(void 0!==z.selectedOptions){const Ot=z.selectedOptions;for(let Xt=0;Xt<Ot.length;Xt++){const ar=Ot.item(Xt),er=this._getOptionValue(ar.value);Re.push(er)}}else{const Ot=z.options;for(let Xt=0;Xt<Ot.length;Xt++){const ar=Ot.item(Xt);if(ar.selected){const er=this._getOptionValue(ar.value);Re.push(er)}}}this.value=Re,M(Re)}}_registerOption(M){const z=(this._idCounter++).toString();return this._optionMap.set(z,M),z}_getOptionId(M){for(const z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(z)._value,M))return z;return null}_getOptionValue(M){const z=function(F){return F.split(":")[0]}(M);return this._optionMap.has(z)?this._optionMap.get(z)._value:M}}return F.\u0275fac=function(){let P;return function(z){return(P||(P=E.n5z(F)))(z||F)}}(),F.\u0275dir=E.lG2({type:F,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,z){1&M&&E.NdJ("change",function(Ot){return z.onChange(Ot.target)})("blur",function(){return z.onTouched()})},inputs:{compareWith:"compareWith"},features:[E._Bn([Ns]),E.qOj]}),F})(),oo=(()=>{class F{constructor(M,z,Re){this._element=M,this._renderer=z,this._select=Re,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue($s(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue($s(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return F.\u0275fac=function(M){return new(M||F)(E.Y36(E.SBq),E.Y36(E.Qsj),E.Y36(Ii,9))},F.\u0275dir=E.lG2({type:F,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),F})(),W=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({imports:[[ei]]}),F})(),B=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({imports:[W]}),F})(),Y=(()=>{class F{static withConfig(M){return{ngModule:F,providers:[{provide:_r,useValue:M.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({imports:[W]}),F})(),We=(()=>{class F{group(M,z=null){const Re=this._reduceControls(M);let ar,Ot=null,Xt=null;return null!=z&&(function(F){return void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn}(z)?(Ot=null!=z.validators?z.validators:null,Xt=null!=z.asyncValidators?z.asyncValidators:null,ar=null!=z.updateOn?z.updateOn:void 0):(Ot=null!=z.validator?z.validator:null,Xt=null!=z.asyncValidator?z.asyncValidator:null)),new gn(Re,{asyncValidators:Xt,updateOn:ar,validators:Ot})}control(M,z,Re){return new Rt(M,z,Re)}array(M,z,Re){const Ot=M.map(Xt=>this._createControl(Xt));return new Pn(Ot,z,Re)}_reduceControls(M){const z={};return Object.keys(M).forEach(Re=>{z[Re]=this._createControl(M[Re])}),z}_createControl(M){return M instanceof Rt||M instanceof gn||M instanceof Pn?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275prov=(0,E.Yz7)({factory:function(){return new F},token:F,providedIn:Y}),F})()},9075:(Bt,tt,G)=>{"use strict";G.d(tt,{b2:()=>Jr,H7:()=>se,q6:()=>jn,se:()=>En});var E=G(8583),_=G(3018);class ne extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Se extends ne{static makeCurrent(){(0,E.HT)(new Se)}onAndCancel(Ee,oe,Be){return Ee.addEventListener(oe,Be,!1),()=>{Ee.removeEventListener(oe,Be,!1)}}dispatchEvent(Ee,oe){Ee.dispatchEvent(oe)}remove(Ee){Ee.parentNode&&Ee.parentNode.removeChild(Ee)}createElement(Ee,oe){return(oe=oe||this.getDefaultDocument()).createElement(Ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ee){return Ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ee){return Ee instanceof DocumentFragment}getGlobalEventTarget(Ee,oe){return"window"===oe?window:"document"===oe?Ee:"body"===oe?Ee.body:null}getBaseHref(Ee){const oe=(Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null);return null==oe?null:function(Pe){ke=ke||document.createElement("a"),ke.setAttribute("href",Pe);const Ee=ke.pathname;return"/"===Ee.charAt(0)?Ee:`/${Ee}`}(oe)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ee){return(0,E.Mx)(document.cookie,Ee)}}let ke,Ne=null;const ue=new _.OlP("TRANSITION_ID"),ae=[{provide:_.ip1,useFactory:function(Pe,Ee,oe){return()=>{oe.get(_.CZH).donePromise.then(()=>{const Be=(0,E.q)(),Qe=Ee.querySelectorAll(`style[ng-transition="${Pe}"]`);for(let tn=0;tn<Qe.length;tn++)Be.remove(Qe[tn])})}},deps:[ue,E.K0,_.zs3],multi:!0}];class me{static init(){(0,_.VLi)(new me)}addToWindow(Ee){_.dqk.getAngularTestability=(Be,Qe=!0)=>{const tn=Ee.findTestabilityInTree(Be,Qe);if(null==tn)throw new Error("Could not find testability for element.");return tn},_.dqk.getAllAngularTestabilities=()=>Ee.getAllTestabilities(),_.dqk.getAllAngularRootElements=()=>Ee.getAllRootElements(),_.dqk.frameworkStabilizers||(_.dqk.frameworkStabilizers=[]),_.dqk.frameworkStabilizers.push(Be=>{const Qe=_.dqk.getAllAngularTestabilities();let tn=Qe.length,Tn=!1;const qn=function(Xn){Tn=Tn||Xn,tn--,0==tn&&Be(Tn)};Qe.forEach(function(Xn){Xn.whenStable(qn)})})}findTestabilityInTree(Ee,oe,Be){if(null==oe)return null;const Qe=Ee.getTestability(oe);return null!=Qe?Qe:Be?(0,E.q)().isShadowRoot(oe)?this.findTestabilityInTree(Ee,oe.host,!0):this.findTestabilityInTree(Ee,oe.parentElement,!0):null}}let fe=(()=>{class Pe{build(){return new XMLHttpRequest}}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Je=new _.OlP("EventManagerPlugins");let rt=(()=>{class Pe{constructor(oe,Be){this._zone=Be,this._eventNameToPlugin=new Map,oe.forEach(Qe=>Qe.manager=this),this._plugins=oe.slice().reverse()}addEventListener(oe,Be,Qe){return this._findPluginFor(Be).addEventListener(oe,Be,Qe)}addGlobalEventListener(oe,Be,Qe){return this._findPluginFor(Be).addGlobalEventListener(oe,Be,Qe)}getZone(){return this._zone}_findPluginFor(oe){const Be=this._eventNameToPlugin.get(oe);if(Be)return Be;const Qe=this._plugins;for(let tn=0;tn<Qe.length;tn++){const Tn=Qe[tn];if(Tn.supports(oe))return this._eventNameToPlugin.set(oe,Tn),Tn}throw new Error(`No event manager plugin found for event ${oe}`)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(Je),_.LFG(_.R0b))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class et{constructor(Ee){this._doc=Ee}addGlobalEventListener(Ee,oe,Be){const Qe=(0,E.q)().getGlobalEventTarget(this._doc,Ee);if(!Qe)throw new Error(`Unsupported event target ${Qe} for event ${oe}`);return this.addEventListener(Qe,oe,Be)}}let le=(()=>{class Pe{constructor(){this._stylesSet=new Set}addStyles(oe){const Be=new Set;oe.forEach(Qe=>{this._stylesSet.has(Qe)||(this._stylesSet.add(Qe),Be.add(Qe))}),this.onStylesAdded(Be)}onStylesAdded(oe){}getAllStyles(){return Array.from(this._stylesSet)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),vt=(()=>{class Pe extends le{constructor(oe){super(),this._doc=oe,this._hostNodes=new Map,this._hostNodes.set(oe.head,[])}_addStylesToHost(oe,Be,Qe){oe.forEach(tn=>{const Tn=this._doc.createElement("style");Tn.textContent=tn,Qe.push(Be.appendChild(Tn))})}addHost(oe){const Be=[];this._addStylesToHost(this._stylesSet,oe,Be),this._hostNodes.set(oe,Be)}removeHost(oe){const Be=this._hostNodes.get(oe);Be&&Be.forEach(_t),this._hostNodes.delete(oe)}onStylesAdded(oe){this._hostNodes.forEach((Be,Qe)=>{this._addStylesToHost(oe,Qe,Be)})}ngOnDestroy(){this._hostNodes.forEach(oe=>oe.forEach(_t))}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(E.K0))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();function _t(Pe){(0,E.q)().remove(Pe)}const dn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Nt=/%COMP%/g;function we(Pe,Ee,oe){for(let Be=0;Be<Ee.length;Be++){let Qe=Ee[Be];Array.isArray(Qe)?we(Pe,Qe,oe):(Qe=Qe.replace(Nt,Pe),oe.push(Qe))}return oe}function Dt(Pe){return Ee=>{if("__ngUnwrap__"===Ee)return Pe;!1===Pe(Ee)&&(Ee.preventDefault(),Ee.returnValue=!1)}}let En=(()=>{class Pe{constructor(oe,Be,Qe){this.eventManager=oe,this.sharedStylesHost=Be,this.appId=Qe,this.rendererByCompId=new Map,this.defaultRenderer=new mn(oe)}createRenderer(oe,Be){if(!oe||!Be)return this.defaultRenderer;switch(Be.encapsulation){case _.ifc.Emulated:{let Qe=this.rendererByCompId.get(Be.id);return Qe||(Qe=new Vn(this.eventManager,this.sharedStylesHost,Be,this.appId),this.rendererByCompId.set(Be.id,Qe)),Qe.applyToHost(oe),Qe}case 1:case _.ifc.ShadowDom:return new Gn(this.eventManager,this.sharedStylesHost,oe,Be);default:if(!this.rendererByCompId.has(Be.id)){const Qe=we(Be.id,Be.styles,[]);this.sharedStylesHost.addStyles(Qe),this.rendererByCompId.set(Be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(rt),_.LFG(vt),_.LFG(_.AFp))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class mn{constructor(Ee){this.eventManager=Ee,this.data=Object.create(null)}destroy(){}createElement(Ee,oe){return oe?document.createElementNS(dn[oe]||oe,Ee):document.createElement(Ee)}createComment(Ee){return document.createComment(Ee)}createText(Ee){return document.createTextNode(Ee)}appendChild(Ee,oe){Ee.appendChild(oe)}insertBefore(Ee,oe,Be){Ee&&Ee.insertBefore(oe,Be)}removeChild(Ee,oe){Ee&&Ee.removeChild(oe)}selectRootElement(Ee,oe){let Be="string"==typeof Ee?document.querySelector(Ee):Ee;if(!Be)throw new Error(`The selector "${Ee}" did not match any elements`);return oe||(Be.textContent=""),Be}parentNode(Ee){return Ee.parentNode}nextSibling(Ee){return Ee.nextSibling}setAttribute(Ee,oe,Be,Qe){if(Qe){oe=Qe+":"+oe;const tn=dn[Qe];tn?Ee.setAttributeNS(tn,oe,Be):Ee.setAttribute(oe,Be)}else Ee.setAttribute(oe,Be)}removeAttribute(Ee,oe,Be){if(Be){const Qe=dn[Be];Qe?Ee.removeAttributeNS(Qe,oe):Ee.removeAttribute(`${Be}:${oe}`)}else Ee.removeAttribute(oe)}addClass(Ee,oe){Ee.classList.add(oe)}removeClass(Ee,oe){Ee.classList.remove(oe)}setStyle(Ee,oe,Be,Qe){Qe&(_.JOm.DashCase|_.JOm.Important)?Ee.style.setProperty(oe,Be,Qe&_.JOm.Important?"important":""):Ee.style[oe]=Be}removeStyle(Ee,oe,Be){Be&_.JOm.DashCase?Ee.style.removeProperty(oe):Ee.style[oe]=""}setProperty(Ee,oe,Be){Ee[oe]=Be}setValue(Ee,oe){Ee.nodeValue=oe}listen(Ee,oe,Be){return"string"==typeof Ee?this.eventManager.addGlobalEventListener(Ee,oe,Dt(Be)):this.eventManager.addEventListener(Ee,oe,Dt(Be))}}class Vn extends mn{constructor(Ee,oe,Be,Qe){super(Ee),this.component=Be;const tn=we(Qe+"-"+Be.id,Be.styles,[]);oe.addStyles(tn),this.contentAttr="_ngcontent-%COMP%".replace(Nt,Qe+"-"+Be.id),this.hostAttr="_nghost-%COMP%".replace(Nt,Qe+"-"+Be.id)}applyToHost(Ee){super.setAttribute(Ee,this.hostAttr,"")}createElement(Ee,oe){const Be=super.createElement(Ee,oe);return super.setAttribute(Be,this.contentAttr,""),Be}}class Gn extends mn{constructor(Ee,oe,Be,Qe){super(Ee),this.sharedStylesHost=oe,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tn=we(Qe.id,Qe.styles,[]);for(let Tn=0;Tn<tn.length;Tn++){const qn=document.createElement("style");qn.textContent=tn[Tn],this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(Ee){return Ee===this.hostEl?this.shadowRoot:Ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ee,oe){return super.appendChild(this.nodeOrShadowRoot(Ee),oe)}insertBefore(Ee,oe,Be){return super.insertBefore(this.nodeOrShadowRoot(Ee),oe,Be)}removeChild(Ee,oe){return super.removeChild(this.nodeOrShadowRoot(Ee),oe)}parentNode(Ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ee)))}}let ir=(()=>{class Pe extends et{constructor(oe){super(oe)}supports(oe){return!0}addEventListener(oe,Be,Qe){return oe.addEventListener(Be,Qe,!1),()=>this.removeEventListener(oe,Be,Qe)}removeEventListener(oe,Be,Qe){return oe.removeEventListener(Be,Qe)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(E.K0))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Ut=["alt","control","meta","shift"],kt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vt={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let Yt=(()=>{class Pe extends et{constructor(oe){super(oe)}supports(oe){return null!=Pe.parseEventName(oe)}addEventListener(oe,Be,Qe){const tn=Pe.parseEventName(Be),Tn=Pe.eventCallback(tn.fullKey,Qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(oe,tn.domEventName,Tn))}static parseEventName(oe){const Be=oe.toLowerCase().split("."),Qe=Be.shift();if(0===Be.length||"keydown"!==Qe&&"keyup"!==Qe)return null;const tn=Pe._normalizeKey(Be.pop());let Tn="";if(Ut.forEach(Xn=>{const Nr=Be.indexOf(Xn);Nr>-1&&(Be.splice(Nr,1),Tn+=Xn+".")}),Tn+=tn,0!=Be.length||0===tn.length)return null;const qn={};return qn.domEventName=Qe,qn.fullKey=Tn,qn}static getEventFullKey(oe){let Be="",Qe=function(Pe){let Ee=Pe.key;if(null==Ee){if(Ee=Pe.keyIdentifier,null==Ee)return"Unidentified";Ee.startsWith("U+")&&(Ee=String.fromCharCode(parseInt(Ee.substring(2),16)),3===Pe.location&&fn.hasOwnProperty(Ee)&&(Ee=fn[Ee]))}return kt[Ee]||Ee}(oe);return Qe=Qe.toLowerCase()," "===Qe?Qe="space":"."===Qe&&(Qe="dot"),Ut.forEach(tn=>{tn!=Qe&&Vt[tn](oe)&&(Be+=tn+".")}),Be+=Qe,Be}static eventCallback(oe,Be,Qe){return tn=>{Pe.getEventFullKey(tn)===oe&&Qe.runGuarded(()=>Be(tn))}}static _normalizeKey(oe){switch(oe){case"esc":return"escape";default:return oe}}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(E.K0))},Pe.\u0275prov=_.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),se=(()=>{class Pe{}return Pe.\u0275fac=function(oe){return new(oe||Pe)},Pe.\u0275prov=(0,_.Yz7)({factory:function(){return(0,_.LFG)(Xe)},token:Pe,providedIn:"root"}),Pe})(),Xe=(()=>{class Pe extends se{constructor(oe){super(),this._doc=oe}sanitize(oe,Be){if(null==Be)return null;switch(oe){case _.q3G.NONE:return Be;case _.q3G.HTML:return(0,_.qzn)(Be,"HTML")?(0,_.z3N)(Be):(0,_.EiD)(this._doc,String(Be)).toString();case _.q3G.STYLE:return(0,_.qzn)(Be,"Style")?(0,_.z3N)(Be):Be;case _.q3G.SCRIPT:if((0,_.qzn)(Be,"Script"))return(0,_.z3N)(Be);throw new Error("unsafe value used in a script context");case _.q3G.URL:return(0,_.yhl)(Be),(0,_.qzn)(Be,"URL")?(0,_.z3N)(Be):(0,_.mCW)(String(Be));case _.q3G.RESOURCE_URL:if((0,_.qzn)(Be,"ResourceURL"))return(0,_.z3N)(Be);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${oe} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(oe){return(0,_.JVY)(oe)}bypassSecurityTrustStyle(oe){return(0,_.L6k)(oe)}bypassSecurityTrustScript(oe){return(0,_.eBb)(oe)}bypassSecurityTrustUrl(oe){return(0,_.LAX)(oe)}bypassSecurityTrustResourceUrl(oe){return(0,_.pB0)(oe)}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(E.K0))},Pe.\u0275prov=(0,_.Yz7)({factory:function(){return function(Pe){return new Xe(Pe.get(E.K0))}((0,_.LFG)(_.gxx))},token:Pe,providedIn:"root"}),Pe})();const jn=(0,_.eFA)(_._c5,"browser",[{provide:_.Lbi,useValue:E.bD},{provide:_.g9A,useValue:function(){Se.makeCurrent(),me.init()},multi:!0},{provide:E.K0,useFactory:function(){return(0,_.RDi)(document),document},deps:[]}]),Qr=[[],{provide:_.zSh,useValue:"root"},{provide:_.qLn,useFactory:function(){return new _.qLn},deps:[]},{provide:Je,useClass:ir,multi:!0,deps:[E.K0,_.R0b,_.Lbi]},{provide:Je,useClass:Yt,multi:!0,deps:[E.K0]},[],{provide:En,useClass:En,deps:[rt,vt,_.AFp]},{provide:_.FYo,useExisting:En},{provide:le,useExisting:vt},{provide:vt,useClass:vt,deps:[E.K0]},{provide:_.dDg,useClass:_.dDg,deps:[_.R0b]},{provide:rt,useClass:rt,deps:[Je,_.R0b]},{provide:E.JF,useClass:fe,deps:[]},[]];let Jr=(()=>{class Pe{constructor(oe){if(oe)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(oe){return{ngModule:Pe,providers:[{provide:_.AFp,useValue:oe.appId},{provide:ue,useExisting:_.AFp},ae]}}}return Pe.\u0275fac=function(oe){return new(oe||Pe)(_.LFG(Pe,12))},Pe.\u0275mod=_.oAB({type:Pe}),Pe.\u0275inj=_.cJS({providers:Qr,imports:[E.ez,_.hGG]}),Pe})();"undefined"!=typeof window&&window},4363:(Bt,tt,G)=>{"use strict";G.d(tt,{F0:()=>vi,rH:()=>Ia,Od:()=>qo,yS:()=>us,Bz:()=>He,lC:()=>Ei});var E=G(8583),_=G(3018),ne=G(9765),Se=G(7971);class Ne extends ne.xQ{constructor(I){super(),this._value=I}get value(){return this.getValue()}_subscribe(I){const T=super._subscribe(I);return T&&!T.closed&&I.next(this._value),T}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Se.N;return this._value}next(I){super.next(this._value=I)}}var be=G(4869),ke=G(9796),ye=G(7393);class ue extends ye.L{notifyNext(I,T,O,j,K){this.destination.next(T)}notifyError(I,T){this.destination.error(I)}notifyComplete(I){this.destination.complete()}}class ee extends ye.L{constructor(I,T,O){super(),this.parent=I,this.outerValue=T,this.outerIndex=O,this.index=0}_next(I){this.parent.notifyNext(this.outerValue,I,this.outerIndex,this.index++,this)}_error(I){this.parent.notifyError(I,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ae=G(7444),me=G(7574);function fe(x,I,T,O,j=new ee(x,T,O)){if(!j.closed)return I instanceof me.y?I.subscribe(j):(0,ae.s)(I)(j)}var Ae=G(6693);const qe={};class je{constructor(I){this.resultSelector=I}call(I,T){return T.subscribe(new yt(I,this.resultSelector))}}class yt extends ue{constructor(I,T){super(I),this.resultSelector=T,this.active=0,this.values=[],this.observables=[]}_next(I){this.values.push(qe),this.observables.push(I)}_complete(){const I=this.observables,T=I.length;if(0===T)this.destination.complete();else{this.active=T,this.toRespond=T;for(let O=0;O<T;O++)this.add(fe(this,I[O],void 0,O))}}notifyComplete(I){0==(this.active-=1)&&this.destination.complete()}notifyNext(I,T,O){const j=this.values,de=this.toRespond?j[O]===qe?--this.toRespond:this.toRespond:0;j[O]=T,0===de&&(this.resultSelector?this._tryResultSelector(j):this.destination.next(j.slice()))}_tryResultSelector(I){let T;try{T=this.resultSelector.apply(this,I)}catch(O){return void this.destination.error(O)}this.destination.next(T)}}var Ke=G(4402),It=G(9193);function st(x){return new me.y(I=>{let T;try{T=x()}catch(j){return void I.error(j)}return(T?(0,Ke.D)(T):(0,It.c)()).subscribe(I)})}var Me=G(5917),pe=G(3410),Ye=G(8071),cn=G(2441),Pt=G(5345);function Oe(x){return function(T){const O=new Ge(x),j=T.lift(O);return O.caught=j}}class Ge{constructor(I){this.selector=I}call(I,T){return T.subscribe(new Je(I,this.selector,this.caught))}}class Je extends Pt.Ds{constructor(I,T,O){super(I),this.selector=T,this.caught=O}error(I){if(!this.isStopped){let T;try{T=this.selector(I,this.caught)}catch(K){return void super.error(K)}this._unsubscribeAndRecycle();const O=new Pt.IY(this);this.add(O);const j=(0,Pt.ft)(T,O);j!==O&&this.add(j)}}}var rt=G(5435),et=G(7108);function le(x){return function(T){return 0===x?(0,It.c)():T.lift(new vt(x))}}class vt{constructor(I){if(this.total=I,this.total<0)throw new et.W}call(I,T){return T.subscribe(new _t(I,this.total))}}class _t extends ye.L{constructor(I,T){super(I),this.total=T,this.ring=new Array,this.count=0}_next(I){const T=this.ring,O=this.total,j=this.count++;T.length<O?T.push(I):T[j%O]=I}_complete(){const I=this.destination;let T=this.count;if(T>0){const O=this.count>=this.total?this.total:this.count,j=this.ring;for(let K=0;K<O;K++){const de=T++%O;I.next(j[de])}}I.complete()}}var dn=G(4635),Nt=G(5242),xt=G(4487),vn=G(5319);class at{constructor(I){this.callback=I}call(I,T){return T.subscribe(new ge(I,this.callback))}}class ge extends ye.L{constructor(I,T){super(I),this.add(new vn.w(T))}}var we=G(8002),Dt=G(3190),Gt=G(5257),En=G(9761),mn=G(2145),rr=G(4612),or=G(8049),pn=G(9773),Vn=G(3342),Gn=G(1307),ir=G(3282);class Zn{constructor(I,T){this.id=I,this.url=T}}class yn extends Zn{constructor(I,T,O="imperative",j=null){super(I,T),this.navigationTrigger=O,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dn extends Zn{constructor(I,T,O){super(I,T),this.urlAfterRedirects=O}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sr extends Zn{constructor(I,T,O){super(I,T),this.reason=O}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ze extends Zn{constructor(I,T,O){super(I,T),this.error=O}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends Zn{constructor(I,T,O,j){super(I,T),this.urlAfterRedirects=O,this.state=j}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends Zn{constructor(I,T,O,j){super(I,T),this.urlAfterRedirects=O,this.state=j}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gt extends Zn{constructor(I,T,O,j,K){super(I,T),this.urlAfterRedirects=O,this.state=j,this.shouldActivate=K}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dt extends Zn{constructor(I,T,O,j){super(I,T),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ut extends Zn{constructor(I,T,O,j){super(I,T),this.urlAfterRedirects=O,this.state=j}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kt{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fn{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ln{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(I,T,O){this.routerEvent=I,this.position=T,this.anchor=O}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vt="primary";class Yt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T[0]:T}return null}getAll(I){if(this.has(I)){const T=this.params[I];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Te(x){return new Yt(x)}const se="ngNavigationCancelingError";function Le(x){const I=Error("NavigationCancelingError: "+x);return I[se]=!0,I}function Ve(x,I,T){const O=T.path.split("/");if(O.length>x.length||"full"===T.pathMatch&&(I.hasChildren()||O.length<x.length))return null;const j={};for(let K=0;K<O.length;K++){const de=O[K],Ie=x[K];if(de.startsWith(":"))j[de.substring(1)]=Ie;else if(de!==Ie.path)return null}return{consumed:x.slice(0,O.length),posParams:j}}function Wt(x,I){const T=x?Object.keys(x):void 0,O=I?Object.keys(I):void 0;if(!T||!O||T.length!=O.length)return!1;let j;for(let K=0;K<T.length;K++)if(j=T[K],!An(x[j],I[j]))return!1;return!0}function An(x,I){if(Array.isArray(x)&&Array.isArray(I)){if(x.length!==I.length)return!1;const T=[...x].sort(),O=[...I].sort();return T.every((j,K)=>O[K]===j)}return x===I}function Nn(x){return Array.prototype.concat.apply([],x)}function bn(x){return x.length>0?x[x.length-1]:null}function nn(x,I){for(const T in x)x.hasOwnProperty(T)&&I(x[T],T)}function jn(x){return(0,_.CqO)(x)?x:(0,_.QGY)(x)?(0,Ke.D)(Promise.resolve(x)):(0,Me.of)(x)}const Jr={exact:function Oi(x,I,T){if(!In(x.segments,I.segments)||!zr(x.segments,I.segments,T)||x.numberOfChildren!==I.numberOfChildren)return!1;for(const O in I.children)if(!x.children[O]||!Oi(x.children[O],I.children[O],T))return!1;return!0},subset:Er},ps={exact:function(x,I){return Wt(x,I)},subset:function(x,I){return Object.keys(I).length<=Object.keys(x).length&&Object.keys(I).every(T=>An(x[T],I[T]))},ignored:()=>!0};function pi(x,I,T){return Jr[T.paths](x.root,I.root,T.matrixParams)&&ps[T.queryParams](x.queryParams,I.queryParams)&&!("exact"===T.fragment&&x.fragment!==I.fragment)}function Er(x,I,T){return $r(x,I,I.segments,T)}function $r(x,I,T,O){if(x.segments.length>T.length){const j=x.segments.slice(0,T.length);return!(!In(j,T)||I.hasChildren()||!zr(j,T,O))}if(x.segments.length===T.length){if(!In(x.segments,T)||!zr(x.segments,T,O))return!1;for(const j in I.children)if(!x.children[j]||!Er(x.children[j],I.children[j],O))return!1;return!0}{const j=T.slice(0,x.segments.length),K=T.slice(x.segments.length);return!!(In(x.segments,j)&&zr(x.segments,j,O)&&x.children[Vt])&&$r(x.children[Vt],I,K,O)}}function zr(x,I,T){return I.every((O,j)=>ps[T](x[j].parameters,O.parameters))}class Vr{constructor(I,T,O){this.root=I,this.queryParams=T,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Te(this.queryParams)),this._queryParamMap}toString(){return gn.serialize(this)}}class en{constructor(I,T){this.segments=I,this.children=T,this.parent=null,nn(T,(O,j)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pn(this)}}class Wr{constructor(I,T){this.path=I,this.parameters=T}get parameterMap(){return this._parameterMap||(this._parameterMap=Te(this.parameters)),this._parameterMap}toString(){return Qe(this)}}function In(x,I){return x.length===I.length&&x.every((T,O)=>T.path===I[O].path)}class Ar{}class Rt{parse(I){const T=new Wn(I);return new Vr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(I){var x;return`${`/${Sr(I.root,!0)}`}${function(x){const I=Object.keys(x).map(T=>{const O=x[T];return Array.isArray(O)?O.map(j=>`${Cn(T)}=${Cn(j)}`).join("&"):`${Cn(T)}=${Cn(O)}`}).filter(T=>!!T);return I.length?`?${I.join("&")}`:""}(I.queryParams)}${"string"==typeof I.fragment?`#${x=I.fragment,encodeURI(x)}`:""}`}}const gn=new Rt;function Pn(x){return x.segments.map(I=>Qe(I)).join("/")}function Sr(x,I){if(!x.hasChildren())return Pn(x);if(I){const T=x.children[Vt]?Sr(x.children[Vt],!1):"",O=[];return nn(x.children,(j,K)=>{K!==Vt&&O.push(`${K}:${Sr(j,!1)}`)}),O.length>0?`${T}(${O.join("//")})`:T}{const T=function(x,I){let T=[];return nn(x.children,(O,j)=>{j===Vt&&(T=T.concat(I(O,j)))}),nn(x.children,(O,j)=>{j!==Vt&&(T=T.concat(I(O,j)))}),T}(x,(O,j)=>j===Vt?[Sr(x.children[Vt],!1)]:[`${j}:${Sr(O,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Vt]?`${Pn(x)}/${T[0]}`:`${Pn(x)}/(${T.join("//")})`}}function kn(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cn(x){return kn(x).replace(/%3B/gi,";")}function Ee(x){return kn(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oe(x){return decodeURIComponent(x)}function Be(x){return oe(x.replace(/\+/g,"%20"))}function Qe(x){return`${Ee(x.path)}${function(x){return Object.keys(x).map(I=>`;${Ee(I)}=${Ee(x[I])}`).join("")}(x.parameters)}`}const qn=/^[^\/()?;=#]+/;function Xn(x){const I=x.match(qn);return I?I[0]:""}const Nr=/^[^=?&#]+/,Pi=/^[^?&#]+/;class Wn{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(I.length>0||Object.keys(T).length>0)&&(O[Vt]=new en(I,T)),O}parseSegment(){const I=Xn(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new Wr(oe(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const T=Xn(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const j=Xn(this.remaining);j&&(O=j,this.capture(O))}I[oe(T)]=oe(O)}parseQueryParam(I){const T=function(x){const I=x.match(Nr);return I?I[0]:""}(this.remaining);if(!T)return;this.capture(T);let O="";if(this.consumeOptional("=")){const de=function(x){const I=x.match(Pi);return I?I[0]:""}(this.remaining);de&&(O=de,this.capture(O))}const j=Be(T),K=Be(O);if(I.hasOwnProperty(j)){let de=I[j];Array.isArray(de)||(de=[de],I[j]=de),de.push(K)}else I[j]=K}parseParens(I){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=Xn(this.remaining),j=this.remaining[O.length];if("/"!==j&&")"!==j&&";"!==j)throw new Error(`Cannot parse url '${this.url}'`);let K;O.indexOf(":")>-1?(K=O.substr(0,O.indexOf(":")),this.capture(K),this.capture(":")):I&&(K=Vt);const de=this.parseChildren();T[K]=1===Object.keys(de).length?de[Vt]:new en([],de),this.consumeOptional("//")}return T}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class wi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const T=this.pathFromRoot(I);return T.length>1?T[T.length-2]:null}children(I){const T=Wi(I,this._root);return T?T.children.map(O=>O.value):[]}firstChild(I){const T=Wi(I,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(I){const T=br(I,this._root);return T.length<2?[]:T[T.length-2].children.map(j=>j.value).filter(j=>j!==I)}pathFromRoot(I){return br(I,this._root).map(T=>T.value)}}function Wi(x,I){if(x===I.value)return I;for(const T of I.children){const O=Wi(x,T);if(O)return O}return null}function br(x,I){if(x===I.value)return[I];for(const T of I.children){const O=br(x,T);if(O.length)return O.unshift(I),O}return[]}class ei{constructor(I,T){this.value=I,this.children=T}toString(){return`TreeNode(${this.value})`}}function Ur(x){const I={};return x&&x.children.forEach(T=>I[T.value.outlet]=T),I}class Ki extends wi{constructor(I,T){super(I),this.snapshot=T,ki(this,I)}toString(){return this.snapshot.toString()}}function Ci(x,I){const T=function(x,I){const de=new wr([],{},{},"",{},Vt,I,null,x.root,-1,{});return new es("",new ei(de,[]))}(x,I),O=new Ne([new Wr("",{})]),j=new Ne({}),K=new Ne({}),de=new Ne({}),Ie=new Ne(""),pt=new _r(O,j,de,Ie,K,Vt,I,T.root);return pt.snapshot=T.root,new Ki(new ei(pt,[]),T)}class _r{constructor(I,T,O,j,K,de,Ie,pt){this.url=I,this.params=T,this.queryParams=O,this.fragment=j,this.data=K,this.outlet=de,this.component=Ie,this._futureSnapshot=pt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(I=>Te(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(I=>Te(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Kr(x,I="emptyOnly"){const T=x.pathFromRoot;let O=0;if("always"!==I)for(O=T.length-1;O>=1;){const j=T[O],K=T[O-1];if(j.routeConfig&&""===j.routeConfig.path)O--;else{if(K.component)break;O--}}return function(x){return x.reduce((I,T)=>({params:Object.assign(Object.assign({},I.params),T.params),data:Object.assign(Object.assign({},I.data),T.data),resolve:Object.assign(Object.assign({},I.resolve),T._resolvedData)}),{params:{},data:{},resolve:{}})}(T.slice(O))}class wr{constructor(I,T,O,j,K,de,Ie,pt,Zt,ct,Mt){this.url=I,this.params=T,this.queryParams=O,this.fragment=j,this.data=K,this.outlet=de,this.component=Ie,this.routeConfig=pt,this._urlSegment=Zt,this._lastPathIndex=ct,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Te(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Te(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class es extends wi{constructor(I,T){super(T),this.url=I,ki(this,T)}toString(){return Cr(this._root)}}function ki(x,I){I.value._routerState=x,I.children.forEach(T=>ki(x,T))}function Cr(x){const I=x.children.length>0?` { ${x.children.map(Cr).join(", ")} } `:"";return`${x.value}${I}`}function gs(x){if(x.snapshot){const I=x.snapshot,T=x._futureSnapshot;x.snapshot=T,Wt(I.queryParams,T.queryParams)||x.queryParams.next(T.queryParams),I.fragment!==T.fragment&&x.fragment.next(T.fragment),Wt(I.params,T.params)||x.params.next(T.params),function(x,I){if(x.length!==I.length)return!1;for(let T=0;T<x.length;++T)if(!Wt(x[T],I[T]))return!1;return!0}(I.url,T.url)||x.url.next(T.url),Wt(I.data,T.data)||x.data.next(T.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function ms(x,I){return Wt(x.params,I.params)&&function(x,I){return In(x,I)&&x.every((T,O)=>Wt(T.parameters,I[O].parameters))}(x.url,I.url)&&!(!x.parent!=!I.parent)&&(!x.parent||ms(x.parent,I.parent))}function ts(x,I,T){if(T&&x.shouldReuseRoute(I.value,T.value.snapshot)){const O=T.value;O._futureSnapshot=I.value;const j=function(x,I,T){return I.children.map(O=>{for(const j of T.children)if(x.shouldReuseRoute(O.value,j.value.snapshot))return ts(x,O,j);return ts(x,O)})}(x,I,T);return new ei(O,j)}{if(x.shouldAttach(I.value)){const K=x.retrieve(I.value);if(null!==K){const de=K.route;return so(I,de),de}}const O=function(x){return new _r(new Ne(x.url),new Ne(x.params),new Ne(x.queryParams),new Ne(x.fragment),new Ne(x.data),x.outlet,x.component,x)}(I.value),j=I.children.map(K=>ts(x,K));return new ei(O,j)}}function so(x,I){if(x.value.routeConfig!==I.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(x.children.length!==I.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");I.value._futureSnapshot=x.value;for(let T=0;T<x.children.length;++T)so(x.children[T],I.children[T])}function Ti(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function mi(x){return"object"==typeof x&&null!=x&&x.outlets}function Ns(x,I,T,O,j){let K={};return O&&nn(O,(de,Ie)=>{K[Ie]=Array.isArray(de)?de.map(pt=>`${pt}`):`${de}`}),new Vr(T.root===x?I:$s(T.root,x,I),K,j)}function $s(x,I,T){const O={};return nn(x.children,(j,K)=>{O[K]=j===I?T:$s(j,I,T)}),new en(x.segments,O)}class Li{constructor(I,T,O){if(this.isAbsolute=I,this.numberOfDoubleDots=T,this.commands=O,I&&O.length>0&&Ti(O[0]))throw new Error("Root segment cannot have matrix parameters");const j=O.find(mi);if(j&&j!==bn(O))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ii{constructor(I,T,O){this.segmentGroup=I,this.processChildren=T,this.index=O}}function Vi(x,I,T){if(x||(x=new en([],{})),0===x.segments.length&&x.hasChildren())return ti(x,I,T);const O=function(x,I,T){let O=0,j=I;const K={match:!1,pathIndex:0,commandIndex:0};for(;j<x.segments.length;){if(O>=T.length)return K;const de=x.segments[j],Ie=T[O];if(mi(Ie))break;const pt=`${Ie}`,Zt=O<T.length-1?T[O+1]:null;if(j>0&&void 0===pt)break;if(pt&&Zt&&"object"==typeof Zt&&void 0===Zt.outlets){if(!_s(pt,Zt,de))return K;O+=2}else{if(!_s(pt,{},de))return K;O++}j++}return{match:!0,pathIndex:j,commandIndex:O}}(x,I,T),j=T.slice(O.commandIndex);if(O.match&&O.pathIndex<x.segments.length){const K=new en(x.segments.slice(0,O.pathIndex),{});return K.children[Vt]=new en(x.segments.slice(O.pathIndex),x.children),ti(K,0,j)}return O.match&&0===j.length?new en(x.segments,{}):O.match&&!x.hasChildren()?ss(x,I,T):O.match?ti(x,0,j):ss(x,I,T)}function ti(x,I,T){if(0===T.length)return new en(x.segments,{});{const O=function(x){return mi(x[0])?x[0].outlets:{[Vt]:x}}(T),j={};return nn(O,(K,de)=>{"string"==typeof K&&(K=[K]),null!==K&&(j[de]=Vi(x.children[de],I,K))}),nn(x.children,(K,de)=>{void 0===O[de]&&(j[de]=K)}),new en(x.segments,j)}}function ss(x,I,T){const O=x.segments.slice(0,I);let j=0;for(;j<T.length;){const K=T[j];if(mi(K)){const pt=Zs(K.outlets);return new en(O,pt)}if(0===j&&Ti(T[0])){O.push(new Wr(x.segments[I].path,Di(T[0]))),j++;continue}const de=mi(K)?K.outlets[Vt]:`${K}`,Ie=j<T.length-1?T[j+1]:null;de&&Ie&&Ti(Ie)?(O.push(new Wr(de,Di(Ie))),j+=2):(O.push(new Wr(de,{})),j++)}return new en(O,{})}function Zs(x){const I={};return nn(x,(T,O)=>{"string"==typeof T&&(T=[T]),null!==T&&(I[O]=ss(new en([],{}),0,T))}),I}function Di(x){const I={};return nn(x,(T,O)=>I[O]=`${T}`),I}function _s(x,I,T){return x==T.path&&Wt(I,T.parameters)}class Co{constructor(I,T,O,j){this.routeReuseStrategy=I,this.futureState=T,this.currState=O,this.forwardEvent=j}activate(I){const T=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,O,I),gs(this.futureState.root),this.activateChildRoutes(T,O,I)}deactivateChildRoutes(I,T,O){const j=Ur(T);I.children.forEach(K=>{const de=K.value.outlet;this.deactivateRoutes(K,j[de],O),delete j[de]}),nn(j,(K,de)=>{this.deactivateRouteAndItsChildren(K,O)})}deactivateRoutes(I,T,O){const j=I.value,K=T?T.value:null;if(j===K)if(j.component){const de=O.getContext(j.outlet);de&&this.deactivateChildRoutes(I,T,de.children)}else this.deactivateChildRoutes(I,T,O);else K&&this.deactivateRouteAndItsChildren(T,O)}deactivateRouteAndItsChildren(I,T){this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,T):this.deactivateRouteAndOutlet(I,T)}detachAndStoreRouteSubtree(I,T){const O=T.getContext(I.value.outlet);if(O&&O.outlet){const j=O.outlet.detach(),K=O.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:j,route:I,contexts:K})}}deactivateRouteAndOutlet(I,T){const O=T.getContext(I.value.outlet),j=O&&I.value.component?O.children:T,K=Ur(I);for(const de of Object.keys(K))this.deactivateRouteAndItsChildren(K[de],j);O&&O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated(),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(I,T,O){const j=Ur(T);I.children.forEach(K=>{this.activateRoutes(K,j[K.value.outlet],O),this.forwardEvent(new Ln(K.value.snapshot))}),I.children.length&&this.forwardEvent(new Qn(I.value.snapshot))}activateRoutes(I,T,O){const j=I.value,K=T?T.value:null;if(gs(j),j===K)if(j.component){const de=O.getOrCreateContext(j.outlet);this.activateChildRoutes(I,T,de.children)}else this.activateChildRoutes(I,T,O);else if(j.component){const de=O.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Ie=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),de.children.onOutletReAttached(Ie.contexts),de.attachRef=Ie.componentRef,de.route=Ie.route.value,de.outlet&&de.outlet.attach(Ie.componentRef,Ie.route.value),Bo(Ie.route)}else{const Ie=function(x){for(let I=x.parent;I;I=I.parent){const T=I.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig;if(T&&T.component)return null}return null}(j.snapshot),pt=Ie?Ie.module.componentFactoryResolver:null;de.attachRef=null,de.route=j,de.resolver=pt,de.outlet&&de.outlet.activateWith(j,pt),this.activateChildRoutes(I,null,de.children)}}else this.activateChildRoutes(I,null,O)}}function Bo(x){gs(x.value),x.children.forEach(Bo)}class os{constructor(I,T){this.routes=I,this.module=T}}function ui(x){return"function"==typeof x}function Pr(x){return x instanceof Vr}const W=Symbol("INITIAL_VALUE");function B(){return(0,Dt.w)(x=>function(...x){let I,T;return(0,be.K)(x[x.length-1])&&(T=x.pop()),"function"==typeof x[x.length-1]&&(I=x.pop()),1===x.length&&(0,ke.k)(x[0])&&(x=x[0]),(0,Ae.n)(x,T).lift(new je(I))}(x.map(I=>I.pipe((0,Gt.q)(1),(0,En.O)(W)))).pipe((0,mn.R)((I,T)=>{let O=!1;return T.reduce((j,K,de)=>j!==W?j:(K===W&&(O=!0),O||!1!==K&&de!==T.length-1&&!Pr(K)?j:K),I)},W),(0,rt.h)(I=>I!==W),(0,we.U)(I=>Pr(I)?I:!0===I),(0,Gt.q)(1)))}let Y=(()=>{class x{}return x.\u0275fac=function(T){return new(T||x)},x.\u0275cmp=_.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(T,O){1&T&&_._UZ(0,"router-outlet")},directives:function(){return[Ei]},encapsulation:2}),x})();function De(x,I=""){for(let T=0;T<x.length;T++){const O=x[T];We(O,bt(I,O))}}function We(x,I){x.children&&De(x.children,I)}function bt(x,I){return I?x||I.path?x&&!I.path?`${x}/`:!x&&I.path?I.path:`${x}/${I.path}`:"":x}function F(x){const I=x.children&&x.children.map(F),T=I?Object.assign(Object.assign({},x),{children:I}):Object.assign({},x);return!T.component&&(I||T.loadChildren)&&T.outlet&&T.outlet!==Vt&&(T.component=Y),T}function P(x){return x.outlet||Vt}function M(x,I){const T=x.filter(O=>P(O)===I);return T.push(...x.filter(O=>P(O)!==I)),T}const z={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Re(x,I,T){var O;if(""===I.path)return"full"===I.pathMatch&&(x.hasChildren()||T.length>0)?Object.assign({},z):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const K=(I.matcher||Ve)(T,x,I);if(!K)return Object.assign({},z);const de={};nn(K.posParams,(pt,Zt)=>{de[Zt]=pt.path});const Ie=K.consumed.length>0?Object.assign(Object.assign({},de),K.consumed[K.consumed.length-1].parameters):de;return{matched:!0,consumedSegments:K.consumed,lastChild:K.consumed.length,parameters:Ie,positionalParamSegments:null!==(O=K.posParams)&&void 0!==O?O:{}}}function Ot(x,I,T,O,j="corrected"){if(T.length>0&&function(x,I,T){return T.some(O=>Kn(x,I,O)&&P(O)!==Vt)}(x,T,O)){const de=new en(I,function(x,I,T,O){const j={};j[Vt]=O,O._sourceSegment=x,O._segmentIndexShift=I.length;for(const K of T)if(""===K.path&&P(K)!==Vt){const de=new en([],{});de._sourceSegment=x,de._segmentIndexShift=I.length,j[P(K)]=de}return j}(x,I,O,new en(T,x.children)));return de._sourceSegment=x,de._segmentIndexShift=I.length,{segmentGroup:de,slicedSegments:[]}}if(0===T.length&&function(x,I,T){return T.some(O=>Kn(x,I,O))}(x,T,O)){const de=new en(x.segments,function(x,I,T,O,j,K){const de={};for(const Ie of O)if(Kn(x,T,Ie)&&!j[P(Ie)]){const pt=new en([],{});pt._sourceSegment=x,pt._segmentIndexShift="legacy"===K?x.segments.length:I.length,de[P(Ie)]=pt}return Object.assign(Object.assign({},j),de)}(x,I,T,O,x.children,j));return de._sourceSegment=x,de._segmentIndexShift=I.length,{segmentGroup:de,slicedSegments:T}}const K=new en(x.segments,x.children);return K._sourceSegment=x,K._segmentIndexShift=I.length,{segmentGroup:K,slicedSegments:T}}function Kn(x,I,T){return(!(x.hasChildren()||I.length>0)||"full"!==T.pathMatch)&&""===T.path}function ni(x,I,T,O){return!!(P(x)===O||O!==Vt&&Kn(I,T,x))&&("**"===x.path||Re(I,x,T).matched)}function zs(x,I,T){return 0===I.length&&!x.children[T]}class Es{constructor(I){this.segmentGroup=I||null}}class Ui{constructor(I){this.urlTree=I}}function To(x){return new me.y(I=>I.error(new Es(x)))}function ao(x){return new me.y(I=>I.error(new Ui(x)))}function on(x){return new me.y(I=>I.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${x}'`)))}class Wa{constructor(I,T,O,j,K){this.configLoader=T,this.urlSerializer=O,this.urlTree=j,this.config=K,this.allowRedirects=!0,this.ngModule=I.get(_.h0i)}apply(){const I=Ot(this.urlTree.root,[],[],this.config).segmentGroup,T=new en(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,T,Vt).pipe((0,we.U)(K=>this.createUrlTree(Io(K),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oe(K=>{if(K instanceof Ui)return this.allowRedirects=!1,this.match(K.urlTree);throw K instanceof Es?this.noMatchError(K):K}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,Vt).pipe((0,we.U)(j=>this.createUrlTree(Io(j),I.queryParams,I.fragment))).pipe(Oe(j=>{throw j instanceof Es?this.noMatchError(j):j}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,T,O){const j=I.segments.length>0?new en([],{[Vt]:I}):I;return new Vr(j,T,O)}expandSegmentGroup(I,T,O,j){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(I,T,O).pipe((0,we.U)(K=>new en([],K))):this.expandSegment(I,O,T,O.segments,j,!0)}expandChildren(I,T,O){const j=[];for(const K of Object.keys(O.children))"primary"===K?j.unshift(K):j.push(K);return(0,Ke.D)(j).pipe((0,rr.b)(K=>{const de=O.children[K],Ie=M(T,K);return this.expandSegmentGroup(I,Ie,de,K).pipe((0,we.U)(pt=>({segment:pt,outlet:K})))}),(0,mn.R)((K,de)=>(K[de.outlet]=de.segment,K),{}),function(x,I){const T=arguments.length>=2;return O=>O.pipe(x?(0,rt.h)((j,K)=>x(j,K,O)):xt.y,le(1),T?(0,Nt.d)(I):(0,dn.T)(()=>new pe.K))}())}expandSegment(I,T,O,j,K,de){return(0,Ke.D)(O).pipe((0,rr.b)(Ie=>this.expandSegmentAgainstRoute(I,T,O,Ie,j,K,de).pipe(Oe(Zt=>{if(Zt instanceof Es)return(0,Me.of)(null);throw Zt}))),(0,or.P)(Ie=>!!Ie),Oe((Ie,pt)=>{if(Ie instanceof pe.K||"EmptyError"===Ie.name){if(zs(T,j,K))return(0,Me.of)(new en([],{}));throw new Es(T)}throw Ie}))}expandSegmentAgainstRoute(I,T,O,j,K,de,Ie){return ni(j,T,K,de)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(I,T,j,K,de):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,T,O,j,K,de):To(T):To(T)}expandSegmentAgainstRouteUsingRedirect(I,T,O,j,K,de){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,O,j,de):this.expandRegularSegmentAgainstRouteUsingRedirect(I,T,O,j,K,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,T,O,j){const K=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?ao(K):this.lineralizeSegments(O,K).pipe((0,pn.zg)(de=>{const Ie=new en(de,{});return this.expandSegment(I,Ie,T,de,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,T,O,j,K,de){const{matched:Ie,consumedSegments:pt,lastChild:Zt,positionalParamSegments:ct}=Re(T,j,K);if(!Ie)return To(T);const Mt=this.applyRedirectCommands(pt,j.redirectTo,ct);return j.redirectTo.startsWith("/")?ao(Mt):this.lineralizeSegments(j,Mt).pipe((0,pn.zg)(zt=>this.expandSegment(I,T,O,zt.concat(K.slice(Zt)),de,!1)))}matchSegmentAgainstRoute(I,T,O,j,K){if("**"===O.path)return O.loadChildren?(O._loadedConfig?(0,Me.of)(O._loadedConfig):this.configLoader.load(I.injector,O)).pipe((0,we.U)(zt=>(O._loadedConfig=zt,new en(j,{})))):(0,Me.of)(new en(j,{}));const{matched:de,consumedSegments:Ie,lastChild:pt}=Re(T,O,j);if(!de)return To(T);const Zt=j.slice(pt);return this.getChildConfig(I,O,j).pipe((0,pn.zg)(Mt=>{const zt=Mt.module,At=Mt.routes,{segmentGroup:zn,slicedSegments:xr}=Ot(T,Ie,Zt,At),xn=new en(zn.segments,zn.children);if(0===xr.length&&xn.hasChildren())return this.expandChildren(zt,At,xn).pipe((0,we.U)(ls=>new en(Ie,ls)));if(0===At.length&&0===xr.length)return(0,Me.of)(new en(Ie,{}));const hn=P(O)===K;return this.expandSegment(zt,xn,At,xr,hn?Vt:K,!0).pipe((0,we.U)(Ji=>new en(Ie.concat(Ji.segments),Ji.children)))}))}getChildConfig(I,T,O){return T.children?(0,Me.of)(new os(T.children,I)):T.loadChildren?void 0!==T._loadedConfig?(0,Me.of)(T._loadedConfig):this.runCanLoadGuards(I.injector,T,O).pipe((0,pn.zg)(j=>{return j?this.configLoader.load(I.injector,T).pipe((0,we.U)(K=>(T._loadedConfig=K,K))):(x=T,new me.y(I=>I.error(Le(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))));var x})):(0,Me.of)(new os([],I))}runCanLoadGuards(I,T,O){const j=T.canLoad;if(!j||0===j.length)return(0,Me.of)(!0);const K=j.map(de=>{const Ie=I.get(de);let pt;if((x=Ie)&&ui(x.canLoad))pt=Ie.canLoad(T,O);else{if(!ui(Ie))throw new Error("Invalid CanLoad guard");pt=Ie(T,O)}var x;return jn(pt)});return(0,Me.of)(K).pipe(B(),(0,Vn.b)(de=>{if(!Pr(de))return;const Ie=Le(`Redirecting to "${this.urlSerializer.serialize(de)}"`);throw Ie.url=de,Ie}),(0,we.U)(de=>!0===de))}lineralizeSegments(I,T){let O=[],j=T.root;for(;;){if(O=O.concat(j.segments),0===j.numberOfChildren)return(0,Me.of)(O);if(j.numberOfChildren>1||!j.children[Vt])return on(I.redirectTo);j=j.children[Vt]}}applyRedirectCommands(I,T,O){return this.applyRedirectCreatreUrlTree(T,this.urlSerializer.parse(T),I,O)}applyRedirectCreatreUrlTree(I,T,O,j){const K=this.createSegmentGroup(I,T.root,O,j);return new Vr(K,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(I,T){const O={};return nn(I,(j,K)=>{if("string"==typeof j&&j.startsWith(":")){const Ie=j.substring(1);O[K]=T[Ie]}else O[K]=j}),O}createSegmentGroup(I,T,O,j){const K=this.createSegments(I,T.segments,O,j);let de={};return nn(T.children,(Ie,pt)=>{de[pt]=this.createSegmentGroup(I,Ie,O,j)}),new en(K,de)}createSegments(I,T,O,j){return T.map(K=>K.path.startsWith(":")?this.findPosParam(I,K,j):this.findOrReturn(K,O))}findPosParam(I,T,O){const j=O[T.path.substring(1)];if(!j)throw new Error(`Cannot redirect to '${I}'. Cannot find '${T.path}'.`);return j}findOrReturn(I,T){let O=0;for(const j of T){if(j.path===I.path)return T.splice(O),j;O++}return I}}function Io(x){const I={};for(const O of Object.keys(x.children)){const K=Io(x.children[O]);(K.segments.length>0||K.hasChildren())&&(I[O]=K)}return function(x){if(1===x.numberOfChildren&&x.children[Vt]){const I=x.children[Vt];return new en(x.segments.concat(I.segments),I.children)}return x}(new en(x.segments,I))}class Bi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class wt{constructor(I,T){this.component=I,this.route=T}}function Hn(x,I,T){const O=x._root;return bs(O,I?I._root:null,T,[O.value])}function Tr(x,I,T){const O=function(x){if(!x)return null;for(let I=x.parent;I;I=I.parent){const T=I.routeConfig;if(T&&T._loadedConfig)return T._loadedConfig}return null}(I);return(O?O.module.injector:T).get(x)}function bs(x,I,T,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const K=Ur(I);return x.children.forEach(de=>{(function(x,I,T,O,j={canDeactivateChecks:[],canActivateChecks:[]}){const K=x.value,de=I?I.value:null,Ie=T?T.getContext(x.value.outlet):null;if(de&&K.routeConfig===de.routeConfig){const pt=function(x,I,T){if("function"==typeof T)return T(x,I);switch(T){case"pathParamsChange":return!In(x.url,I.url);case"pathParamsOrQueryParamsChange":return!In(x.url,I.url)||!Wt(x.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ms(x,I)||!Wt(x.queryParams,I.queryParams);case"paramsChange":default:return!ms(x,I)}}(de,K,K.routeConfig.runGuardsAndResolvers);pt?j.canActivateChecks.push(new Bi(O)):(K.data=de.data,K._resolvedData=de._resolvedData),bs(x,I,K.component?Ie?Ie.children:null:T,O,j),pt&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&j.canDeactivateChecks.push(new wt(Ie.outlet.component,de))}else de&&ji(I,Ie,j),j.canActivateChecks.push(new Bi(O)),bs(x,null,K.component?Ie?Ie.children:null:T,O,j)})(de,K[de.value.outlet],T,O.concat([de.value]),j),delete K[de.value.outlet]}),nn(K,(de,Ie)=>ji(de,T.getContext(Ie),j)),j}function ji(x,I,T){const O=Ur(x),j=x.value;nn(O,(K,de)=>{ji(K,j.component?I?I.children.getContext(de):null:I,T)}),T.canDeactivateChecks.push(new wt(j.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,j))}class Qi{}function Nu(x){return new me.y(I=>I.error(x))}class $o{constructor(I,T,O,j,K,de){this.rootComponentType=I,this.config=T,this.urlTree=O,this.url=j,this.paramsInheritanceStrategy=K,this.relativeLinkResolution=de}recognize(){const I=Ot(this.urlTree.root,[],[],this.config.filter(de=>void 0===de.redirectTo),this.relativeLinkResolution).segmentGroup,T=this.processSegmentGroup(this.config,I,Vt);if(null===T)return null;const O=new wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vt,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new ei(O,T),K=new es(this.url,j);return this.inheritParamsAndData(K._root),K}inheritParamsAndData(I){const T=I.value,O=Kr(T,this.paramsInheritanceStrategy);T.params=Object.freeze(O.params),T.data=Object.freeze(O.data),I.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(I,T,O){return 0===T.segments.length&&T.hasChildren()?this.processChildren(I,T):this.processSegment(I,T,T.segments,O)}processChildren(I,T){const O=[];for(const K of Object.keys(T.children)){const de=T.children[K],Ie=M(I,K),pt=this.processSegmentGroup(Ie,de,K);if(null===pt)return null;O.push(...pt)}const j=Ja(O);return j.sort((I,T)=>I.value.outlet===Vt?-1:T.value.outlet===Vt?1:I.value.outlet.localeCompare(T.value.outlet)),j}processSegment(I,T,O,j){for(const K of I){const de=this.processSegmentAgainstRoute(K,T,O,j);if(null!==de)return de}return zs(T,O,j)?[]:null}processSegmentAgainstRoute(I,T,O,j){if(I.redirectTo||!ni(I,T,O,j))return null;let K,de=[],Ie=[];if("**"===I.path){const At=O.length>0?bn(O).parameters:{};K=new wr(O,At,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uo(I),P(I),I.component,I,eu(T),ua(T)+O.length,tu(I))}else{const At=Re(T,I,O);if(!At.matched)return null;de=At.consumedSegments,Ie=O.slice(At.lastChild),K=new wr(de,At.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uo(I),P(I),I.component,I,eu(T),ua(T)+de.length,tu(I))}const pt=(x=I).children?x.children:x.loadChildren?x._loadedConfig.routes:[],{segmentGroup:Zt,slicedSegments:ct}=Ot(T,de,Ie,pt.filter(At=>void 0===At.redirectTo),this.relativeLinkResolution);var x;if(0===ct.length&&Zt.hasChildren()){const At=this.processChildren(pt,Zt);return null===At?null:[new ei(K,At)]}if(0===pt.length&&0===ct.length)return[new ei(K,[])];const Mt=P(I)===j,zt=this.processSegment(pt,Zt,ct,Mt?Vt:j);return null===zt?null:[new ei(K,zt)]}}function Zo(x){const I=x.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ja(x){const I=[],T=new Set;for(const O of x){if(!Zo(O)){I.push(O);continue}const j=I.find(K=>O.value.routeConfig===K.value.routeConfig);void 0!==j?(j.children.push(...O.children),T.add(j)):I.push(O)}for(const O of T){const j=Ja(O.children);I.push(new ei(O.value,j))}return I.filter(O=>!T.has(O))}function eu(x){let I=x;for(;I._sourceSegment;)I=I._sourceSegment;return I}function ua(x){let I=x,T=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,T+=I._segmentIndexShift?I._segmentIndexShift:0;return T-1}function uo(x){return x.data||{}}function tu(x){return x.resolve||{}}function Ta(x){return(0,Dt.w)(I=>{const T=x(I);return T?(0,Ke.D)(T).pipe((0,we.U)(()=>I)):(0,Me.of)(I)})}class Ir extends class{shouldDetach(I){return!1}store(I,T){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,T){return I.routeConfig===T.routeConfig}}{}const ca=new _.OlP("ROUTES");class Go{constructor(I,T,O,j){this.loader=I,this.compiler=T,this.onLoadStartListener=O,this.onLoadEndListener=j}load(I,T){if(T._loader$)return T._loader$;this.onLoadStartListener&&this.onLoadStartListener(T);const j=this.loadModuleFactory(T.loadChildren).pipe((0,we.U)(K=>{this.onLoadEndListener&&this.onLoadEndListener(T);const de=K.create(I);return new os(Nn(de.injector.get(ca,void 0,_.XFs.Self|_.XFs.Optional)).map(F),de)}),Oe(K=>{throw T._loader$=void 0,K}));return T._loader$=new cn.c(j,()=>new ne.xQ).pipe((0,Gn.x)()),T._loader$}loadModuleFactory(I){return"string"==typeof I?(0,Ke.D)(this.loader.load(I)):jn(I()).pipe((0,pn.zg)(T=>T instanceof _.YKP?(0,Me.of)(T):(0,Ke.D)(this.compiler.compileModuleAsync(T))))}}class El{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ao,this.attachRef=null}}class Ao{constructor(){this.contexts=new Map}onChildOutletCreated(I,T){const O=this.getOrCreateContext(I);O.outlet=T,this.contexts.set(I,O)}onChildOutletDestroyed(I){const T=this.getContext(I);T&&(T.outlet=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let T=this.getContext(I);return T||(T=new El,this.contexts.set(I,T)),T}getContext(I){return this.contexts.get(I)||null}}class da{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,T){return I}}function lo(x){throw x}function Rs(x,I,T){return I.parse("/")}function co(x,I){return(0,Me.of)(null)}const ha={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class x{constructor(T,O,j,K,de,Ie,pt,Zt){this.rootComponentType=T,this.urlSerializer=O,this.rootContexts=j,this.location=K,this.config=Zt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ne.xQ,this.errorHandler=lo,this.malformedUriErrorHandler=Rs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:co,afterPreactivation:co},this.urlHandlingStrategy=new da,this.routeReuseStrategy=new Ir,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=de.get(_.h0i),this.console=de.get(_.c2e);const zt=de.get(_.R0b);this.isNgZoneEnabled=zt instanceof _.R0b&&_.R0b.isInAngularZone(),this.resetConfig(Zt),this.currentUrlTree=new Vr(new en([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Go(Ie,pt,At=>this.triggerEvent(new ft(At)),At=>this.triggerEvent(new kt(At))),this.routerState=Ci(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var T;return null===(T=this.location.getState())||void 0===T?void 0:T.\u0275routerPageId}setupNavigations(T){const O=this.events;return T.pipe((0,rt.h)(j=>0!==j.id),(0,we.U)(j=>Object.assign(Object.assign({},j),{extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,Dt.w)(j=>{let K=!1,de=!1;return(0,Me.of)(j).pipe((0,Vn.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.currentRawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Dt.w)(Ie=>{const pt=!this.navigated||Ie.extractedUrl.toString()!==this.browserUrlTree.toString(),Zt=("reload"===this.onSameUrlNavigation||pt)&&this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl);if(li(Ie.source)&&(this.browserUrlTree=Ie.rawUrl),Zt)return(0,Me.of)(Ie).pipe((0,Dt.w)(ct=>{const Mt=this.transitions.getValue();return O.next(new yn(ct.id,this.serializeUrl(ct.extractedUrl),ct.source,ct.restoredState)),Mt!==this.transitions.getValue()?It.E:Promise.resolve(ct)}),function(x,I,T,O){return(0,Dt.w)(j=>function(x,I,T,O,j){return new Wa(x,I,T,O,j).apply()}(x,I,T,j.extractedUrl,O).pipe((0,we.U)(K=>Object.assign(Object.assign({},j),{urlAfterRedirects:K}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Vn.b)(ct=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:ct.urlAfterRedirects})}),function(x,I,T,O,j){return(0,pn.zg)(K=>function(x,I,T,O,j="emptyOnly",K="legacy"){try{const de=new $o(x,I,T,O,j,K).recognize();return null===de?Nu(new Qi):(0,Me.of)(de)}catch(de){return Nu(de)}}(x,I,K.urlAfterRedirects,T(K.urlAfterRedirects),O,j).pipe((0,we.U)(de=>Object.assign(Object.assign({},K),{targetSnapshot:de}))))}(this.rootComponentType,this.config,ct=>this.serializeUrl(ct),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vn.b)(ct=>{"eager"===this.urlUpdateStrategy&&(ct.extras.skipLocationChange||this.setBrowserUrl(ct.urlAfterRedirects,ct),this.browserUrlTree=ct.urlAfterRedirects);const Mt=new re(ct.id,this.serializeUrl(ct.extractedUrl),this.serializeUrl(ct.urlAfterRedirects),ct.targetSnapshot);O.next(Mt)}));if(pt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mt,extractedUrl:zt,source:At,restoredState:zn,extras:xr}=Ie,xn=new yn(Mt,this.serializeUrl(zt),At,zn);O.next(xn);const hn=Ci(zt,this.rootComponentType).snapshot;return(0,Me.of)(Object.assign(Object.assign({},Ie),{targetSnapshot:hn,urlAfterRedirects:zt,extras:Object.assign(Object.assign({},xr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ie.rawUrl,this.browserUrlTree=Ie.urlAfterRedirects,Ie.resolve(null),It.E}),Ta(Ie=>{const{targetSnapshot:pt,id:Zt,extractedUrl:ct,rawUrl:Mt,extras:{skipLocationChange:zt,replaceUrl:At}}=Ie;return this.hooks.beforePreactivation(pt,{navigationId:Zt,appliedUrlTree:ct,rawUrlTree:Mt,skipLocationChange:!!zt,replaceUrl:!!At})}),(0,Vn.b)(Ie=>{const pt=new Ce(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot);this.triggerEvent(pt)}),(0,we.U)(Ie=>Object.assign(Object.assign({},Ie),{guards:Hn(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)})),function(x,I){return(0,pn.zg)(T=>{const{targetSnapshot:O,currentSnapshot:j,guards:{canActivateChecks:K,canDeactivateChecks:de}}=T;return 0===de.length&&0===K.length?(0,Me.of)(Object.assign(Object.assign({},T),{guardsResult:!0})):function(x,I,T,O){return(0,Ke.D)(x).pipe((0,pn.zg)(j=>function(x,I,T,O,j){const K=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!K||0===K.length)return(0,Me.of)(!0);const de=K.map(Ie=>{const pt=Tr(Ie,I,j);let Zt;if(function(x){return x&&ui(x.canDeactivate)}(pt))Zt=jn(pt.canDeactivate(x,I,T,O));else{if(!ui(pt))throw new Error("Invalid CanDeactivate guard");Zt=jn(pt(x,I,T,O))}return Zt.pipe((0,or.P)())});return(0,Me.of)(de).pipe(B())}(j.component,j.route,T,I,O)),(0,or.P)(j=>!0!==j,!0))}(de,O,j,x).pipe((0,pn.zg)(Ie=>Ie&&function(x){return"boolean"==typeof x}(Ie)?function(x,I,T,O){return(0,Ke.D)(I).pipe((0,rr.b)(j=>(0,Ye.z)(function(x,I){return null!==x&&I&&I(new fn(x)),(0,Me.of)(!0)}(j.route.parent,O),function(x,I){return null!==x&&I&&I(new ur(x)),(0,Me.of)(!0)}(j.route,O),function(x,I,T){const O=I[I.length-1],K=I.slice(0,I.length-1).reverse().map(de=>function(x){const I=x.routeConfig?x.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:x,guards:I}:null}(de)).filter(de=>null!==de).map(de=>st(()=>{const Ie=de.guards.map(pt=>{const Zt=Tr(pt,de.node,T);let ct;if(function(x){return x&&ui(x.canActivateChild)}(Zt))ct=jn(Zt.canActivateChild(O,x));else{if(!ui(Zt))throw new Error("Invalid CanActivateChild guard");ct=jn(Zt(O,x))}return ct.pipe((0,or.P)())});return(0,Me.of)(Ie).pipe(B())}));return(0,Me.of)(K).pipe(B())}(x,j.path,T),function(x,I,T){const O=I.routeConfig?I.routeConfig.canActivate:null;if(!O||0===O.length)return(0,Me.of)(!0);const j=O.map(K=>st(()=>{const de=Tr(K,I,T);let Ie;if(function(x){return x&&ui(x.canActivate)}(de))Ie=jn(de.canActivate(I,x));else{if(!ui(de))throw new Error("Invalid CanActivate guard");Ie=jn(de(I,x))}return Ie.pipe((0,or.P)())}));return(0,Me.of)(j).pipe(B())}(x,j.route,T))),(0,or.P)(j=>!0!==j,!0))}(O,K,x,I):(0,Me.of)(Ie)),(0,we.U)(Ie=>Object.assign(Object.assign({},T),{guardsResult:Ie})))})}(this.ngModule.injector,Ie=>this.triggerEvent(Ie)),(0,Vn.b)(Ie=>{if(Pr(Ie.guardsResult)){const Zt=Le(`Redirecting to "${this.serializeUrl(Ie.guardsResult)}"`);throw Zt.url=Ie.guardsResult,Zt}const pt=new gt(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.triggerEvent(pt)}),(0,rt.h)(Ie=>!!Ie.guardsResult||(this.restoreHistory(Ie),this.cancelNavigationTransition(Ie,""),!1)),Ta(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,Me.of)(Ie).pipe((0,Vn.b)(pt=>{const Zt=new dt(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot);this.triggerEvent(Zt)}),(0,Dt.w)(pt=>{let Zt=!1;return(0,Me.of)(pt).pipe(function(x,I){return(0,pn.zg)(T=>{const{targetSnapshot:O,guards:{canActivateChecks:j}}=T;if(!j.length)return(0,Me.of)(T);let K=0;return(0,Ke.D)(j).pipe((0,rr.b)(de=>function(x,I,T,O){return function(x,I,T,O){const j=Object.keys(x);if(0===j.length)return(0,Me.of)({});const K={};return(0,Ke.D)(j).pipe((0,pn.zg)(de=>function(x,I,T,O){const j=Tr(x,I,O);return jn(j.resolve?j.resolve(I,T):j(I,T))}(x[de],I,T,O).pipe((0,Vn.b)(Ie=>{K[de]=Ie}))),le(1),(0,pn.zg)(()=>Object.keys(K).length===j.length?(0,Me.of)(K):It.E))}(x._resolve,x,I,O).pipe((0,we.U)(K=>(x._resolvedData=K,x.data=Object.assign(Object.assign({},x.data),Kr(x,T).resolve),null)))}(de.route,O,x,I)),(0,Vn.b)(()=>K++),le(1),(0,pn.zg)(de=>K===j.length?(0,Me.of)(T):It.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Vn.b)({next:()=>Zt=!0,complete:()=>{Zt||(this.restoreHistory(pt),this.cancelNavigationTransition(pt,"At least one route resolver didn't emit any value."))}}))}),(0,Vn.b)(pt=>{const Zt=new Ut(pt.id,this.serializeUrl(pt.extractedUrl),this.serializeUrl(pt.urlAfterRedirects),pt.targetSnapshot);this.triggerEvent(Zt)}))}),Ta(Ie=>{const{targetSnapshot:pt,id:Zt,extractedUrl:ct,rawUrl:Mt,extras:{skipLocationChange:zt,replaceUrl:At}}=Ie;return this.hooks.afterPreactivation(pt,{navigationId:Zt,appliedUrlTree:ct,rawUrlTree:Mt,skipLocationChange:!!zt,replaceUrl:!!At})}),(0,we.U)(Ie=>{const pt=function(x,I,T){const O=ts(x,I._root,T?T._root:void 0);return new Ki(O,I)}(this.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return Object.assign(Object.assign({},Ie),{targetRouterState:pt})}),(0,Vn.b)(Ie=>{this.currentUrlTree=Ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Ie.rawUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie),this.browserUrlTree=Ie.urlAfterRedirects)}),((x,I,T)=>(0,we.U)(O=>(new Co(I,O.targetRouterState,O.currentRouterState,T).activate(x),O)))(this.rootContexts,this.routeReuseStrategy,Ie=>this.triggerEvent(Ie)),(0,Vn.b)({next(){K=!0},complete(){K=!0}}),function(x){return I=>I.lift(new at(x))}(()=>{if(!K&&!de){const Ie=`Navigation ID ${j.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(j),this.cancelNavigationTransition(j,Ie)):this.cancelNavigationTransition(j,Ie)}this.currentNavigation=null}),Oe(Ie=>{if(de=!0,function(x){return x&&x[se]}(Ie)){const pt=Pr(Ie.url);pt||(this.navigated=!0,this.restoreHistory(j,!0));const Zt=new sr(j.id,this.serializeUrl(j.extractedUrl),Ie.message);O.next(Zt),pt?setTimeout(()=>{const ct=this.urlHandlingStrategy.merge(Ie.url,this.rawUrlTree),Mt={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||li(j.source)};this.scheduleNavigation(ct,"imperative",null,Mt,{resolve:j.resolve,reject:j.reject,promise:j.promise})},0):j.resolve(!1)}else{this.restoreHistory(j,!0);const pt=new Ze(j.id,this.serializeUrl(j.extractedUrl),Ie);O.next(pt);try{j.resolve(this.errorHandler(Ie))}catch(Zt){j.reject(Zt)}}return It.E}))}))}resetRootComponentType(T){this.rootComponentType=T,this.routerState.root.component=this.rootComponentType}getTransition(){const T=this.transitions.value;return T.urlAfterRedirects=this.browserUrlTree,T}setTransition(T){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),T))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(T=>{const O=this.extractLocationChangeInfoFromEvent(T);this.shouldScheduleNavigation(this.lastLocationChangeInfo,O)&&setTimeout(()=>{const{source:j,state:K,urlTree:de}=O,Ie={replaceUrl:!0};if(K){const pt=Object.assign({},K);delete pt.navigationId,delete pt.\u0275routerPageId,0!==Object.keys(pt).length&&(Ie.state=pt)}this.scheduleNavigation(de,j,K,Ie)},0),this.lastLocationChangeInfo=O}))}extractLocationChangeInfoFromEvent(T){var O;return{source:"popstate"===T.type?"popstate":"hashchange",urlTree:this.parseUrl(T.url),state:(null===(O=T.state)||void 0===O?void 0:O.navigationId)?T.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(T,O){if(!T)return!0;const j=O.urlTree.toString()===T.urlTree.toString();return O.transitionId!==T.transitionId||!j||!("hashchange"===O.source&&"popstate"===T.source||"popstate"===O.source&&"hashchange"===T.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(T){this.events.next(T)}resetConfig(T){De(T),this.config=T.map(F),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(T,O={}){const{relativeTo:j,queryParams:K,fragment:de,queryParamsHandling:Ie,preserveFragment:pt}=O,Zt=j||this.routerState.root,ct=pt?this.currentUrlTree.fragment:de;let Mt=null;switch(Ie){case"merge":Mt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),K);break;case"preserve":Mt=this.currentUrlTree.queryParams;break;default:Mt=K||null}return null!==Mt&&(Mt=this.removeEmptyProps(Mt)),function(x,I,T,O,j){if(0===T.length)return Ns(I.root,I.root,I,O,j);const K=function(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new Li(!0,0,x);let I=0,T=!1;const O=x.reduce((j,K,de)=>{if("object"==typeof K&&null!=K){if(K.outlets){const Ie={};return nn(K.outlets,(pt,Zt)=>{Ie[Zt]="string"==typeof pt?pt.split("/"):pt}),[...j,{outlets:Ie}]}if(K.segmentPath)return[...j,K.segmentPath]}return"string"!=typeof K?[...j,K]:0===de?(K.split("/").forEach((Ie,pt)=>{0==pt&&"."===Ie||(0==pt&&""===Ie?T=!0:".."===Ie?I++:""!=Ie&&j.push(Ie))}),j):[...j,K]},[]);return new Li(T,I,O)}(T);if(K.toRoot())return Ns(I.root,new en([],{}),I,O,j);const de=function(x,I,T){if(x.isAbsolute)return new Ii(I.root,!0,0);if(-1===T.snapshot._lastPathIndex){const K=T.snapshot._urlSegment;return new Ii(K,K===I.root,0)}const O=Ti(x.commands[0])?0:1;return function(x,I,T){let O=x,j=I,K=T;for(;K>j;){if(K-=j,O=O.parent,!O)throw new Error("Invalid number of '../'");j=O.segments.length}return new Ii(O,!1,j-K)}(T.snapshot._urlSegment,T.snapshot._lastPathIndex+O,x.numberOfDoubleDots)}(K,I,x),Ie=de.processChildren?ti(de.segmentGroup,de.index,K.commands):Vi(de.segmentGroup,de.index,K.commands);return Ns(de.segmentGroup,Ie,I,O,j)}(Zt,this.currentUrlTree,T,Mt,null!=ct?ct:null)}navigateByUrl(T,O={skipLocationChange:!1}){const j=Pr(T)?T:this.parseUrl(T),K=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(K,"imperative",null,O)}navigate(T,O={skipLocationChange:!1}){return function(x){for(let I=0;I<x.length;I++){const T=x[I];if(null==T)throw new Error(`The requested path contains ${T} segment at index ${I}`)}}(T),this.navigateByUrl(this.createUrlTree(T,O),O)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){let O;try{O=this.urlSerializer.parse(T)}catch(j){O=this.malformedUriErrorHandler(j,this.urlSerializer,T)}return O}isActive(T,O){let j;if(j=!0===O?Object.assign({},ha):!1===O?Object.assign({},fa):O,Pr(T))return pi(this.currentUrlTree,T,j);const K=this.parseUrl(T);return pi(this.currentUrlTree,K,j)}removeEmptyProps(T){return Object.keys(T).reduce((O,j)=>{const K=T[j];return null!=K&&(O[j]=K),O},{})}processNavigations(){this.navigations.subscribe(T=>{this.navigated=!0,this.lastSuccessfulId=T.id,this.currentPageId=T.targetPageId,this.events.next(new Dn(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,T.resolve(!0)},T=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(T,O,j,K,de){var Ie,pt;if(this.disposed)return Promise.resolve(!1);const Zt=this.getTransition(),ct=li(O)&&Zt&&!li(Zt.source),At=(this.lastSuccessfulId===Zt.id||this.currentNavigation?Zt.rawUrl:Zt.urlAfterRedirects).toString()===T.toString();if(ct&&At)return Promise.resolve(!0);let zn,xr,xn;de?(zn=de.resolve,xr=de.reject,xn=de.promise):xn=new Promise((Ji,ls)=>{zn=Ji,xr=ls});const hn=++this.navigationId;let Yn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),Yn=j&&j.\u0275routerPageId?j.\u0275routerPageId:K.replaceUrl||K.skipLocationChange?null!==(Ie=this.browserPageId)&&void 0!==Ie?Ie:0:(null!==(pt=this.browserPageId)&&void 0!==pt?pt:0)+1):Yn=0,this.setTransition({id:hn,targetPageId:Yn,source:O,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:T,extras:K,resolve:zn,reject:xr,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(Ji=>Promise.reject(Ji))}setBrowserUrl(T,O){const j=this.urlSerializer.serialize(T),K=Object.assign(Object.assign({},O.extras.state),this.generateNgRouterState(O.id,O.targetPageId));this.location.isCurrentPathEqualTo(j)||O.extras.replaceUrl?this.location.replaceState(j,"",K):this.location.go(j,"",K)}restoreHistory(T,O=!1){var j,K;if("computed"===this.canceledNavigationResolution){const de=this.currentPageId-T.targetPageId;"popstate"!==T.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)||0===de?this.currentUrlTree===(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)&&0===de&&(this.resetState(T),this.browserUrlTree=T.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(de)}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=T.currentRouterState,this.currentUrlTree=T.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(T,O){const j=new sr(T.id,this.serializeUrl(T.extractedUrl),O);this.triggerEvent(j),T.resolve(!1)}generateNgRouterState(T,O){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:O}:{navigationId:T}}}return x.\u0275fac=function(T){return new(T||x)(_.LFG(_.DyG),_.LFG(Ar),_.LFG(Ao),_.LFG(E.Ye),_.LFG(_.zs3),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(void 0))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();function li(x){return"imperative"!==x}let Ia=(()=>{class x{constructor(T,O,j,K,de){this.router=T,this.route=O,this.commands=[],this.onChanges=new ne.xQ,null==j&&K.setAttribute(de.nativeElement,"tabindex","0")}ngOnChanges(T){this.onChanges.next(this)}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:[]}onClick(){const T={skipLocationChange:Ts(this.skipLocationChange),replaceUrl:Ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,T),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ts(this.preserveFragment)})}}return x.\u0275fac=function(T){return new(T||x)(_.Y36(vi),_.Y36(_r),_.$8M("tabindex"),_.Y36(_.Qsj),_.Y36(_.SBq))},x.\u0275dir=_.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(T,O){1&T&&_.NdJ("click",function(){return O.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),x})(),us=(()=>{class x{constructor(T,O,j){this.router=T,this.route=O,this.locationStrategy=j,this.commands=[],this.onChanges=new ne.xQ,this.subscription=T.events.subscribe(K=>{K instanceof Dn&&this.updateTargetUrlAndHref()})}set routerLink(T){this.commands=null!=T?Array.isArray(T)?T:[T]:[]}ngOnChanges(T){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(T,O,j,K,de){if(0!==T||O||j||K||de||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ie={skipLocationChange:Ts(this.skipLocationChange),replaceUrl:Ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ie),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ts(this.preserveFragment)})}}return x.\u0275fac=function(T){return new(T||x)(_.Y36(vi),_.Y36(_r),_.Y36(E.S$))},x.\u0275dir=_.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(T,O){1&T&&_.NdJ("click",function(K){return O.onClick(K.button,K.ctrlKey,K.shiftKey,K.altKey,K.metaKey)}),2&T&&(_.Ikx("href",O.href,_.LSH),_.uIk("target",O.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[_.TTD]}),x})();function Ts(x){return""===x||!!x}let qo=(()=>{class x{constructor(T,O,j,K,de,Ie){this.router=T,this.element=O,this.renderer=j,this.cdr=K,this.link=de,this.linkWithHref=Ie,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=T.events.subscribe(pt=>{pt instanceof Dn&&this.update()})}ngAfterContentInit(){(0,Me.of)(this.links.changes,this.linksWithHrefs.changes,(0,Me.of)(null)).pipe((0,ir.J)()).subscribe(T=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var T;null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe();const O=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(j=>!!j).map(j=>j.onChanges);this.linkInputChangesSubscription=(0,Ke.D)(O).pipe((0,ir.J)()).subscribe(j=>{this.isActive!==this.isLinkActive(this.router)(j)&&this.update()})}set routerLinkActive(T){const O=Array.isArray(T)?T:T.split(" ");this.classes=O.filter(j=>!!j)}ngOnChanges(T){this.update()}ngOnDestroy(){var T;this.routerEventsSubscription.unsubscribe(),null===(T=this.linkInputChangesSubscription)||void 0===T||T.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const T=this.hasActiveLinks();this.isActive!==T&&(this.isActive=T,this.cdr.markForCheck(),this.classes.forEach(O=>{T?this.renderer.addClass(this.element.nativeElement,O):this.renderer.removeClass(this.element.nativeElement,O)}))})}isLinkActive(T){const O=function(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return j=>T.isActive(j.urlTree,O)}hasActiveLinks(){const T=this.isLinkActive(this.router);return this.link&&T(this.link)||this.linkWithHref&&T(this.linkWithHref)||this.links.some(T)||this.linksWithHrefs.some(T)}}return x.\u0275fac=function(T){return new(T||x)(_.Y36(vi),_.Y36(_.SBq),_.Y36(_.Qsj),_.Y36(_.sBO),_.Y36(Ia,8),_.Y36(us,8))},x.\u0275dir=_.lG2({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(T,O,j){if(1&T&&(_.Suo(j,Ia,5),_.Suo(j,us,5)),2&T){let K;_.iGM(K=_.CRH())&&(O.links=K),_.iGM(K=_.CRH())&&(O.linksWithHrefs=K)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[_.TTD]}),x})(),Ei=(()=>{class x{constructor(T,O,j,K,de){this.parentContexts=T,this.location=O,this.resolver=j,this.changeDetector=de,this.activated=null,this._activatedRoute=null,this.activateEvents=new _.vpe,this.deactivateEvents=new _.vpe,this.name=K||Vt,T.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const T=this.parentContexts.getContext(this.name);T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,T}attach(T,O){this.activated=T,this._activatedRoute=O,this.location.insert(T.hostView)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,O){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=T;const de=(O=O||this.resolver).resolveComponentFactory(T._futureSnapshot.routeConfig.component),Ie=this.parentContexts.getOrCreateContext(this.name).children,pt=new Gr(T,Ie,this.location.injector);this.activated=this.location.createComponent(de,this.location.length,pt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(T){return new(T||x)(_.Y36(Ao),_.Y36(_.s_b),_.Y36(_._Vd),_.$8M("name"),_.Y36(_.sBO))},x.\u0275dir=_.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),x})();class Gr{constructor(I,T,O){this.route=I,this.childContexts=T,this.parent=O}get(I,T){return I===_r?this.route:I===Ao?this.childContexts:this.parent.get(I,T)}}class Ru{}class Da{preload(I,T){return(0,Me.of)(null)}}let V=(()=>{class x{constructor(T,O,j,K,de){this.router=T,this.injector=K,this.preloadingStrategy=de,this.loader=new Go(O,j,Zt=>T.triggerEvent(new ft(Zt)),Zt=>T.triggerEvent(new kt(Zt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(T=>T instanceof Dn),(0,rr.b)(()=>this.preload())).subscribe(()=>{})}preload(){const T=this.injector.get(_.h0i);return this.processRoutes(T,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,O){const j=[];for(const K of O)if(K.loadChildren&&!K.canLoad&&K._loadedConfig){const de=K._loadedConfig;j.push(this.processRoutes(de.module,de.routes))}else K.loadChildren&&!K.canLoad?j.push(this.preloadConfig(T,K)):K.children&&j.push(this.processRoutes(T,K.children));return(0,Ke.D)(j).pipe((0,ir.J)(),(0,we.U)(K=>{}))}preloadConfig(T,O){return this.preloadingStrategy.preload(O,()=>(O._loadedConfig?(0,Me.of)(O._loadedConfig):this.loader.load(T.injector,O)).pipe((0,pn.zg)(K=>(O._loadedConfig=K,this.processRoutes(K.module,K.routes)))))}}return x.\u0275fac=function(T){return new(T||x)(_.LFG(vi),_.LFG(_.v3s),_.LFG(_.Sil),_.LFG(_.zs3),_.LFG(Ru))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})(),b=(()=>{class x{constructor(T,O,j={}){this.router=T,this.viewportScroller=O,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(T=>{T instanceof yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof Dn&&(this.lastId=T.id,this.scheduleScrollEvent(T,this.router.parseUrl(T.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(T=>{T instanceof Jn&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,O){this.router.triggerEvent(new Jn(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(T){return new(T||x)(_.LFG(vi),_.LFG(E.EM),_.LFG(void 0))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();const R=new _.OlP("ROUTER_CONFIGURATION"),Z=new _.OlP("ROUTER_FORROOT_GUARD"),ce=[E.Ye,{provide:Ar,useClass:Rt},{provide:vi,useFactory:function(x,I,T,O,j,K,de,Ie={},pt,Zt){const ct=new vi(null,x,I,T,O,j,K,Nn(de));return pt&&(ct.urlHandlingStrategy=pt),Zt&&(ct.routeReuseStrategy=Zt),function(x,I){x.errorHandler&&(I.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(I.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(I.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(I.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(I.urlUpdateStrategy=x.urlUpdateStrategy)}(Ie,ct),Ie.enableTracing&&ct.events.subscribe(Mt=>{var zt,At;null===(zt=console.group)||void 0===zt||zt.call(console,`Router Event: ${Mt.constructor.name}`),console.log(Mt.toString()),console.log(Mt),null===(At=console.groupEnd)||void 0===At||At.call(console)}),ct},deps:[Ar,Ao,E.Ye,_.zs3,_.v3s,_.Sil,ca,R,[class{},new _.FiY],[class{},new _.FiY]]},Ao,{provide:_r,useFactory:function(x){return x.routerState.root},deps:[vi]},{provide:_.v3s,useClass:_.EAV},V,Da,class{preload(I,T){return T().pipe(Oe(()=>(0,Me.of)(null)))}},{provide:R,useValue:{enableTracing:!1}}];function _e(){return new _.PXZ("Router",vi)}let He=(()=>{class x{constructor(T,O){}static forRoot(T,O){return{ngModule:x,providers:[ce,sn(T),{provide:Z,useFactory:qt,deps:[[vi,new _.FiY,new _.tp0]]},{provide:R,useValue:O||{}},{provide:E.S$,useFactory:Tt,deps:[E.lw,[new _.tBr(E.mr),new _.FiY],R]},{provide:b,useFactory:ht,deps:[vi,E.EM,R]},{provide:Ru,useExisting:O&&O.preloadingStrategy?O.preloadingStrategy:Da},{provide:_.PXZ,multi:!0,useFactory:_e},[un,{provide:_.ip1,multi:!0,useFactory:lr,deps:[un]},{provide:Ht,useFactory:Dr,deps:[un]},{provide:_.tb,multi:!0,useExisting:Ht}]]}}static forChild(T){return{ngModule:x,providers:[sn(T)]}}}return x.\u0275fac=function(T){return new(T||x)(_.LFG(Z,8),_.LFG(vi,8))},x.\u0275mod=_.oAB({type:x}),x.\u0275inj=_.cJS({}),x})();function ht(x,I,T){return T.scrollOffset&&I.setOffset(T.scrollOffset),new b(x,I,T)}function Tt(x,I,T={}){return T.useHash?new E.Do(x,I):new E.b0(x,I)}function qt(x){return"guarded"}function sn(x){return[{provide:_.deG,multi:!0,useValue:x},{provide:ca,multi:!0,useValue:x}]}let un=(()=>{class x{constructor(T){this.injector=T,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ne.xQ}appInitializer(){return this.injector.get(E.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let O=null;const j=new Promise(Ie=>O=Ie),K=this.injector.get(vi),de=this.injector.get(R);return"disabled"===de.initialNavigation?(K.setUpLocationChangeListener(),O(!0)):"enabled"===de.initialNavigation||"enabledBlocking"===de.initialNavigation?(K.hooks.afterPreactivation=()=>this.initNavigation?(0,Me.of)(null):(this.initNavigation=!0,O(!0),this.resultOfPreactivationDone),K.initialNavigation()):O(!0),j})}bootstrapListener(T){const O=this.injector.get(R),j=this.injector.get(V),K=this.injector.get(b),de=this.injector.get(vi),Ie=this.injector.get(_.z2F);T===Ie.components[0]&&(("enabledNonBlocking"===O.initialNavigation||void 0===O.initialNavigation)&&de.initialNavigation(),j.setUpPreloading(),K.init(),de.resetRootComponentType(Ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(T){return new(T||x)(_.LFG(_.zs3))},x.\u0275prov=_.Yz7({token:x,factory:x.\u0275fac}),x})();function lr(x){return x.appInitializer.bind(x)}function Dr(x){return x.bootstrapListener.bind(x)}const Ht=new _.OlP("Router Initializer")},4486:(Bt,tt,G)=>{"use strict";G.d(tt,{Z:()=>$e});var E=G(4685),_=G(6034),ne=G(5452),Se=G(300);class Ne{constructor(yt,Ke){this._delegate=yt,this.firebase=Ke,(0,ne._addComponent)(yt,new _.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ne.deleteApp)(this._delegate)))}_getService(yt,Ke=ne._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(yt);return!st.isInitialized()&&"EXPLICIT"===(null===(It=st.getComponent())||void 0===It?void 0:It.instantiationMode)&&st.initialize(),st.getImmediate({identifier:Ke})}_removeServiceInstance(yt,Ke=ne._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(Ke)}_addComponent(yt){(0,ne._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,ne._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ke=new E.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ue(){const je=function(je){const yt={},Ke={__esModule:!0,initializeApp:function(Pt,Oe={}){const Ge=ne.initializeApp(Pt,Oe);if((0,E.r3)(yt,Ge.name))return yt[Ge.name];const Je=new je(Ge,Ke);return yt[Ge.name]=Je,Je},app:st,registerVersion:ne.registerVersion,setLogLevel:ne.setLogLevel,onLog:ne.onLog,apps:null,SDK_VERSION:ne.SDK_VERSION,INTERNAL:{registerComponent:function(Pt){const Oe=Pt.name,Ge=Oe.replace("-compat","");if(ne._registerComponent(Pt)&&"PUBLIC"===Pt.type){const Je=(rt=st())=>{if("function"!=typeof rt[Ge])throw ke.create("invalid-app-argument",{appName:Oe});return rt[Ge]()};void 0!==Pt.serviceProps&&(0,E.ZB)(Je,Pt.serviceProps),Ke[Ge]=Je,je.prototype[Ge]=function(...rt){return this._getService.bind(this,Oe).apply(this,Pt.multipleInstances?rt:[])}}return"PUBLIC"===Pt.type?Ke[Ge]:null},removeApp:function(Pt){delete yt[Pt]},useAsService:function(Pt,Oe){return"serverAuth"===Oe?null:Oe},modularAPIs:ne}};function st(Pt){if(!(0,E.r3)(yt,Pt=Pt||ne._DEFAULT_ENTRY_NAME))throw ke.create("no-app",{appName:Pt});return yt[Pt]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function(){return Object.keys(yt).map(Pt=>yt[Pt])}}),st.App=je,Ke}(Ne);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function(Ke){(0,E.ZB)(je,Ke)},createSubscribe:E.ne,ErrorFactory:E.LL,deepExtend:E.ZB}),je}(),ae=new Se.Yd("@firebase/app-compat");if((0,E.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=ee;(0,ne.registerVersion)("@firebase/app-compat","0.1.1",undefined);const $e=qe},5452:(Bt,tt,G)=>{"use strict";G.r(tt),G.d(tt,{FirebaseError:()=>Se.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>dn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>nt,_apps:()=>xt,_clearComponents:()=>Dt,_components:()=>Qt,_getProvider:()=>ge,_registerComponent:()=>at,_removeServiceInstance:()=>we,deleteApp:()=>Gn,getApp:()=>pn,getApps:()=>Vn,initializeApp:()=>or,onLog:()=>yn,registerVersion:()=>Zn,setLogLevel:()=>Dn});var E=G(8239),_=G(6034),ne=G(300),Se=G(4685);class Ne{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function(Ze){const re=Ze.getComponent();return"VERSION"===(null==re?void 0:re.type)}(Ce)){const gt=Ce.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ce=>Ce).join(" ")}}const ke="@firebase/app",ue=new ne.Yd("@firebase/app"),dn="[DEFAULT]",Nt={[ke]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},xt=new Map,Qt=new Map;function vn(Ze,re){try{Ze.container.addComponent(re)}catch(Ce){ue.debug(`Component ${re.name} failed to register with FirebaseApp ${Ze.name}`,Ce)}}function nt(Ze,re){Ze.container.addOrOverwriteComponent(re)}function at(Ze){const re=Ze.name;if(Qt.has(re))return ue.debug(`There were multiple attempts to register component ${re}.`),!1;Qt.set(re,Ze);for(const Ce of xt.values())vn(Ce,Ze);return!0}function ge(Ze,re){return Ze.container.getProvider(re)}function we(Ze,re,Ce=dn){ge(Ze,re).clearInstance(Ce)}function Dt(){Qt.clear()}const En=new Se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class mn{constructor(re,Ce,gt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new _.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}const rr="9.0.0";function or(Ze,re={}){"object"!=typeof re&&(re={name:re});const Ce=Object.assign({name:dn,automaticDataCollectionEnabled:!1},re),gt=Ce.name;if("string"!=typeof gt||!gt)throw En.create("bad-app-name",{appName:String(gt)});const dt=xt.get(gt);if(dt){if((0,Se.vZ)(Ze,dt.options)&&(0,Se.vZ)(Ce,dt.config))return dt;throw En.create("duplicate-app",{appName:gt})}const Ut=new _.H0(gt);for(const kt of Qt.values())Ut.addComponent(kt);const ft=new mn(Ze,Ce,Ut);return xt.set(gt,ft),ft}function pn(Ze=dn){const re=xt.get(Ze);if(!re)throw En.create("no-app",{appName:Ze});return re}function Vn(){return Array.from(xt.values())}function Gn(Ze){return ir.apply(this,arguments)}function ir(){return(ir=(0,E.Z)(function*(Ze){const re=Ze.name;xt.has(re)&&(xt.delete(re),yield Promise.all(Ze.container.getProviders().map(Ce=>Ce.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function Zn(Ze,re,Ce){var gt;let dt=null!==(gt=Nt[Ze])&&void 0!==gt?gt:Ze;Ce&&(dt+=`-${Ce}`);const Ut=dt.match(/\s|\//),ft=re.match(/\s|\//);if(Ut||ft){const kt=[`Unable to register library "${dt}" with version "${re}":`];return Ut&&kt.push(`library name "${dt}" contains illegal characters (whitespace or "/")`),Ut&&ft&&kt.push("and"),ft&&kt.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void ue.warn(kt.join(" "))}at(new _.wA(`${dt}-version`,()=>({library:dt,version:re}),"VERSION"))}function yn(Ze,re){if(null!==Ze&&"function"!=typeof Ze)throw En.create("invalid-log-argument");(0,ne.Am)(Ze,re)}function Dn(Ze){(0,ne.Ub)(Ze)}at(new _.wA("platform-logger",re=>new Ne(re),"PRIVATE")),Zn(ke,"0.7.0",undefined),Zn("fire-js","")},6034:(Bt,tt,G)=>{"use strict";G.d(tt,{wA:()=>ne,H0:()=>ye});var E=G(4762),_=G(4685),ne=function(){function ue(ee,ae,me){this.name=ee,this.instanceFactory=ae,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ue.prototype.setInstantiationMode=function(ee){return this.instantiationMode=ee,this},ue.prototype.setMultipleInstances=function(ee){return this.multipleInstances=ee,this},ue.prototype.setServiceProps=function(ee){return this.serviceProps=ee,this},ue.prototype.setInstanceCreatedCallback=function(ee){return this.onInstanceCreated=ee,this},ue}(),Se="[DEFAULT]",Ne=function(){function ue(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ue.prototype.get=function(ee){var ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){var me=new _.BH;if(this.instancesDeferred.set(ae,me),this.isInitialized(ae)||this.shouldAutoInitialize())try{var fe=this.getOrInitializeService({instanceIdentifier:ae});fe&&me.resolve(fe)}catch(Ae){}}return this.instancesDeferred.get(ae).promise},ue.prototype.getImmediate=function(ee){var ae,me=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),fe=null!==(ae=null==ee?void 0:ee.optional)&&void 0!==ae&&ae;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(Ae){if(fe)return null;throw Ae}},ue.prototype.getComponent=function(){return this.component},ue.prototype.setComponent=function(ee){var ae,me;if(ee.name!==this.name)throw Error("Mismatching Component "+ee.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ee,this.shouldAutoInitialize()){if(function(ue){return"EAGER"===ue.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(It){}try{for(var fe=(0,E.XA)(this.instancesDeferred.entries()),Ae=fe.next();!Ae.done;Ae=fe.next()){var qe=(0,E.CR)(Ae.value,2),je=qe[1],yt=this.normalizeInstanceIdentifier(qe[0]);try{var Ke=this.getOrInitializeService({instanceIdentifier:yt});je.resolve(Ke)}catch(It){}}}catch(It){ae={error:It}}finally{try{Ae&&!Ae.done&&(me=fe.return)&&me.call(fe)}finally{if(ae)throw ae.error}}}},ue.prototype.clearInstance=function(ee){void 0===ee&&(ee=Se),this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)},ue.prototype.delete=function(){return(0,E.mG)(this,void 0,void 0,function(){var ee;return(0,E.Jh)(this,function(ae){switch(ae.label){case 0:return ee=Array.from(this.instances.values()),[4,Promise.all((0,E.ev)((0,E.ev)([],(0,E.CR)(ee.filter(function(me){return"INTERNAL"in me}).map(function(me){return me.INTERNAL.delete()}))),(0,E.CR)(ee.filter(function(me){return"_delete"in me}).map(function(me){return me._delete()}))))];case 1:return ae.sent(),[2]}})})},ue.prototype.isComponentSet=function(){return null!=this.component},ue.prototype.isInitialized=function(ee){return void 0===ee&&(ee=Se),this.instances.has(ee)},ue.prototype.getOptions=function(ee){return void 0===ee&&(ee=Se),this.instancesOptions.get(ee)||{}},ue.prototype.initialize=function(ee){var ae,me;void 0===ee&&(ee={});var fe=ee.options,Ae=void 0===fe?{}:fe,qe=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(qe))throw Error(this.name+"("+qe+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var $e=this.getOrInitializeService({instanceIdentifier:qe,options:Ae});try{for(var je=(0,E.XA)(this.instancesDeferred.entries()),yt=je.next();!yt.done;yt=je.next()){var Ke=(0,E.CR)(yt.value,2),st=Ke[1];qe===this.normalizeInstanceIdentifier(Ke[0])&&st.resolve($e)}}catch(pe){ae={error:pe}}finally{try{yt&&!yt.done&&(me=je.return)&&me.call(je)}finally{if(ae)throw ae.error}}return $e},ue.prototype.onInit=function(ee,ae){var me,fe=this.normalizeInstanceIdentifier(ae),Ae=null!==(me=this.onInitCallbacks.get(fe))&&void 0!==me?me:new Set;Ae.add(ee),this.onInitCallbacks.set(fe,Ae);var qe=this.instances.get(fe);return qe&&ee(qe,fe),function(){Ae.delete(ee)}},ue.prototype.invokeOnInitCallbacks=function(ee,ae){var me,fe,Ae=this.onInitCallbacks.get(ae);if(Ae)try{for(var qe=(0,E.XA)(Ae),$e=qe.next();!$e.done;$e=qe.next()){var je=$e.value;try{je(ee,ae)}catch(yt){}}}catch(yt){me={error:yt}}finally{try{$e&&!$e.done&&(fe=qe.return)&&fe.call(qe)}finally{if(me)throw me.error}}},ue.prototype.getOrInitializeService=function(ee){var ae=ee.instanceIdentifier,me=ee.options,fe=void 0===me?{}:me,Ae=this.instances.get(ae);if(!Ae&&this.component&&(Ae=this.component.instanceFactory(this.container,{instanceIdentifier:be(ae),options:fe}),this.instances.set(ae,Ae),this.instancesOptions.set(ae,fe),this.invokeOnInitCallbacks(Ae,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,Ae)}catch(qe){}return Ae||null},ue.prototype.normalizeInstanceIdentifier=function(ee){return void 0===ee&&(ee=Se),this.component?this.component.multipleInstances?ee:Se:ee},ue.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ue}();function be(ue){return ue===Se?void 0:ue}var ye=function(){function ue(ee){this.name=ee,this.providers=new Map}return ue.prototype.addComponent=function(ee){var ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error("Component "+ee.name+" has already been registered with "+this.name);ae.setComponent(ee)},ue.prototype.addOrOverwriteComponent=function(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)},ue.prototype.getProvider=function(ee){if(this.providers.has(ee))return this.providers.get(ee);var ae=new Ne(ee,this);return this.providers.set(ee,ae),ae},ue.prototype.getProviders=function(){return Array.from(this.providers.values())},ue}()},300:(Bt,tt,G)=>{"use strict";function E(){for(var me=0,fe=0,Ae=arguments.length;fe<Ae;fe++)me+=arguments[fe].length;var qe=Array(me),$e=0;for(fe=0;fe<Ae;fe++)for(var je=arguments[fe],yt=0,Ke=je.length;yt<Ke;yt++,$e++)qe[$e]=je[yt];return qe}G.d(tt,{in:()=>Se,Yd:()=>ue,Ub:()=>ee,Am:()=>ae});var _,ne=[],Se=(()=>{return(me=Se||(Se={}))[me.DEBUG=0]="DEBUG",me[me.VERBOSE=1]="VERBOSE",me[me.INFO=2]="INFO",me[me.WARN=3]="WARN",me[me.ERROR=4]="ERROR",me[me.SILENT=5]="SILENT",Se;var me})(),Ne={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},be=Se.INFO,ke=((_={})[Se.DEBUG]="log",_[Se.VERBOSE]="log",_[Se.INFO]="info",_[Se.WARN]="warn",_[Se.ERROR]="error",_),ye=function(me,fe){for(var Ae=[],qe=2;qe<arguments.length;qe++)Ae[qe-2]=arguments[qe];if(!(fe<me.logLevel)){var $e=(new Date).toISOString(),je=ke[fe];if(!je)throw new Error("Attempted to log a message with an invalid logType (value: "+fe+")");console[je].apply(console,E(["["+$e+"]  "+me.name+":"],Ae))}},ue=function(){function me(fe){this.name=fe,this._logLevel=be,this._logHandler=ye,this._userLogHandler=null,ne.push(this)}return Object.defineProperty(me.prototype,"logLevel",{get:function(){return this._logLevel},set:function(fe){if(!(fe in Se))throw new TypeError('Invalid value "'+fe+'" assigned to `logLevel`');this._logLevel=fe},enumerable:!1,configurable:!0}),me.prototype.setLogLevel=function(fe){this._logLevel="string"==typeof fe?Ne[fe]:fe},Object.defineProperty(me.prototype,"logHandler",{get:function(){return this._logHandler},set:function(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe},enumerable:!1,configurable:!0}),Object.defineProperty(me.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(fe){this._userLogHandler=fe},enumerable:!1,configurable:!0}),me.prototype.debug=function(){for(var fe=[],Ae=0;Ae<arguments.length;Ae++)fe[Ae]=arguments[Ae];this._userLogHandler&&this._userLogHandler.apply(this,E([this,Se.DEBUG],fe)),this._logHandler.apply(this,E([this,Se.DEBUG],fe))},me.prototype.log=function(){for(var fe=[],Ae=0;Ae<arguments.length;Ae++)fe[Ae]=arguments[Ae];this._userLogHandler&&this._userLogHandler.apply(this,E([this,Se.VERBOSE],fe)),this._logHandler.apply(this,E([this,Se.VERBOSE],fe))},me.prototype.info=function(){for(var fe=[],Ae=0;Ae<arguments.length;Ae++)fe[Ae]=arguments[Ae];this._userLogHandler&&this._userLogHandler.apply(this,E([this,Se.INFO],fe)),this._logHandler.apply(this,E([this,Se.INFO],fe))},me.prototype.warn=function(){for(var fe=[],Ae=0;Ae<arguments.length;Ae++)fe[Ae]=arguments[Ae];this._userLogHandler&&this._userLogHandler.apply(this,E([this,Se.WARN],fe)),this._logHandler.apply(this,E([this,Se.WARN],fe))},me.prototype.error=function(){for(var fe=[],Ae=0;Ae<arguments.length;Ae++)fe[Ae]=arguments[Ae];this._userLogHandler&&this._userLogHandler.apply(this,E([this,Se.ERROR],fe)),this._logHandler.apply(this,E([this,Se.ERROR],fe))},me}();function ee(me){ne.forEach(function(fe){fe.setLogLevel(me)})}function ae(me,fe){for(var Ae=function(yt){var Ke=null;fe&&fe.level&&(Ke=Ne[fe.level]),yt.userLogHandler=null===me?null:function(It,st){for(var Me=[],pe=2;pe<arguments.length;pe++)Me[pe-2]=arguments[pe];var Ye=Me.map(function(cn){if(null==cn)return null;if("string"==typeof cn)return cn;if("number"==typeof cn||"boolean"==typeof cn)return cn.toString();if(cn instanceof Error)return cn.message;try{return JSON.stringify(cn)}catch(Pt){return null}}).filter(function(cn){return cn}).join(" ");st>=(null!=Ke?Ke:It.logLevel)&&me({level:Se[st].toLowerCase(),message:Ye,args:Me,type:It.name})}},qe=0,$e=ne;qe<$e.length;qe++)Ae($e[qe])}},4685:(Bt,tt,G)=>{"use strict";G.d(tt,{BH:()=>Ae,LL:()=>vt,ZR:()=>le,tV:()=>ee,r3:()=>we,Sg:()=>qe,ne:()=>ir,vZ:()=>mn,ZB:()=>me,pd:()=>Vn,m9:()=>Yt,z$:()=>$e,jU:()=>Ke,ru:()=>It,d:()=>Me,xb:()=>Gt,w1:()=>pe,hl:()=>Oe,uI:()=>je,UG:()=>yt,b$:()=>st,G6:()=>Pt,Mn:()=>Ye,xO:()=>or,zd:()=>pn});var E=G(4762),Ne=function(Te){for(var se=[],Le=0,Xe=0;Xe<Te.length;Xe++){var Ve=Te.charCodeAt(Xe);Ve<128?se[Le++]=Ve:Ve<2048?(se[Le++]=Ve>>6|192,se[Le++]=63&Ve|128):55296==(64512&Ve)&&Xe+1<Te.length&&56320==(64512&Te.charCodeAt(Xe+1))?(Ve=65536+((1023&Ve)<<10)+(1023&Te.charCodeAt(++Xe)),se[Le++]=Ve>>18|240,se[Le++]=Ve>>12&63|128,se[Le++]=Ve>>6&63|128,se[Le++]=63&Ve|128):(se[Le++]=Ve>>12|224,se[Le++]=Ve>>6&63|128,se[Le++]=63&Ve|128)}return se},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Te,se){if(!Array.isArray(Te))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Le=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Xe=[],Ve=0;Ve<Te.length;Ve+=3){var mt=Te[Ve],Wt=Ve+1<Te.length,An=Wt?Te[Ve+1]:0,Nn=Ve+2<Te.length,bn=Nn?Te[Ve+2]:0,jn=(15&An)<<2|bn>>6,Qr=63&bn;Nn||(Qr=64,Wt||(jn=64)),Xe.push(Le[mt>>2],Le[(3&mt)<<4|An>>4],Le[jn],Le[Qr])}return Xe.join("")},encodeString:function(Te,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(Te):this.encodeByteArray(Ne(Te),se)},decodeString:function(Te,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(Te):function(Te){for(var se=[],Le=0,Xe=0;Le<Te.length;){var Ve=Te[Le++];if(Ve<128)se[Xe++]=String.fromCharCode(Ve);else if(Ve>191&&Ve<224){var mt=Te[Le++];se[Xe++]=String.fromCharCode((31&Ve)<<6|63&mt)}else if(Ve>239&&Ve<365){var Nn=((7&Ve)<<18|(63&(mt=Te[Le++]))<<12|(63&(Wt=Te[Le++]))<<6|63&Te[Le++])-65536;se[Xe++]=String.fromCharCode(55296+(Nn>>10)),se[Xe++]=String.fromCharCode(56320+(1023&Nn))}else{mt=Te[Le++];var Wt=Te[Le++];se[Xe++]=String.fromCharCode((15&Ve)<<12|(63&mt)<<6|63&Wt)}}return se.join("")}(this.decodeStringToByteArray(Te,se))},decodeStringToByteArray:function(Te,se){this.init_();for(var Le=se?this.charToByteMapWebSafe_:this.charToByteMap_,Xe=[],Ve=0;Ve<Te.length;){var mt=Le[Te.charAt(Ve++)],An=Ve<Te.length?Le[Te.charAt(Ve)]:0,bn=++Ve<Te.length?Le[Te.charAt(Ve)]:64,nn=++Ve<Te.length?Le[Te.charAt(Ve)]:64;if(++Ve,null==mt||null==An||null==bn||null==nn)throw Error();Xe.push(mt<<2|An>>4),64!==bn&&(Xe.push(An<<4&240|bn>>2),64!==nn&&Xe.push(bn<<6&192|nn))}return Xe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Te=0;Te<this.ENCODED_VALS.length;Te++)this.byteToCharMap_[Te]=this.ENCODED_VALS.charAt(Te),this.charToByteMap_[this.byteToCharMap_[Te]]=Te,this.byteToCharMapWebSafe_[Te]=this.ENCODED_VALS_WEBSAFE.charAt(Te),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Te]]=Te,Te>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Te)]=Te,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Te)]=Te)}}},ue=function(Te){return function(Te){var se=Ne(Te);return ke.encodeByteArray(se,!0)}(Te).replace(/\./g,"")},ee=function(Te){try{return ke.decodeString(Te,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function me(Te,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===Te&&(Te={});break;case Array:Te=[];break;default:return se}for(var Xe in se)!se.hasOwnProperty(Xe)||!fe(Xe)||(Te[Xe]=me(Te[Xe],se[Xe]));return Te}function fe(Te){return"__proto__"!==Te}var Ae=function(){function Te(){var se=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Le,Xe){se.resolve=Le,se.reject=Xe})}return Te.prototype.wrapCallback=function(se){var Le=this;return function(Xe,Ve){Xe?Le.reject(Xe):Le.resolve(Ve),"function"==typeof se&&(Le.promise.catch(function(){}),1===se.length?se(Xe):se(Xe,Ve))}},Te}();function qe(Te,se){if(Te.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Xe=se||"demo-project",Ve=Te.iat||0,mt=Te.sub||Te.user_id;if(!mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Wt=(0,E.pi)({iss:"https://securetoken.google.com/"+Xe,aud:Xe,iat:Ve,exp:Ve+3600,auth_time:Ve,sub:mt,user_id:mt,firebase:{sign_in_provider:"custom",identities:{}}},Te);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Wt)),""].join(".")}function $e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function yt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Te){return!1}}function Ke(){return"object"==typeof self&&self.self===self}function It(){var Te="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Te&&void 0!==Te.id}function st(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return $e().indexOf("Electron/")>=0}function pe(){var Te=$e();return Te.indexOf("MSIE ")>=0||Te.indexOf("Trident/")>=0}function Ye(){return $e().indexOf("MSAppHost/")>=0}function Pt(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Oe(){return"indexedDB"in self&&null!=indexedDB}var le=function(Te){function se(Le,Xe,Ve){var mt=Te.call(this,Xe)||this;return mt.code=Le,mt.customData=Ve,mt.name="FirebaseError",Object.setPrototypeOf(mt,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(mt,vt.prototype.create),mt}return(0,E.ZT)(se,Te),se}(Error),vt=function(){function Te(se,Le,Xe){this.service=se,this.serviceName=Le,this.errors=Xe}return Te.prototype.create=function(se){for(var Le=[],Xe=1;Xe<arguments.length;Xe++)Le[Xe-1]=arguments[Xe];var Ve=Le[0]||{},mt=this.service+"/"+se,Wt=this.errors[se],An=Wt?_t(Wt,Ve):"Error",Nn=this.serviceName+": "+An+" ("+mt+").",bn=new le(mt,Nn,Ve);return bn},Te}();function _t(Te,se){return Te.replace(dn,function(Le,Xe){var Ve=se[Xe];return null!=Ve?String(Ve):"<"+Xe+"?>"})}var dn=/\{\$([^}]+)}/g;function we(Te,se){return Object.prototype.hasOwnProperty.call(Te,se)}function Gt(Te){for(var se in Te)if(Object.prototype.hasOwnProperty.call(Te,se))return!1;return!0}function mn(Te,se){if(Te===se)return!0;for(var Le=Object.keys(Te),Xe=Object.keys(se),Ve=0,mt=Le;Ve<mt.length;Ve++){if(!Xe.includes(Wt=mt[Ve]))return!1;var An=Te[Wt],Nn=se[Wt];if(rr(An)&&rr(Nn)){if(!mn(An,Nn))return!1}else if(An!==Nn)return!1}for(var bn=0,yr=Xe;bn<yr.length;bn++){var Wt;if(!Le.includes(Wt=yr[bn]))return!1}return!0}function rr(Te){return null!==Te&&"object"==typeof Te}function or(Te){for(var se=[],Le=function(Nn,bn){Array.isArray(bn)?bn.forEach(function(yr){se.push(encodeURIComponent(Nn)+"="+encodeURIComponent(yr))}):se.push(encodeURIComponent(Nn)+"="+encodeURIComponent(bn))},Xe=0,Ve=Object.entries(Te);Xe<Ve.length;Xe++){var mt=Ve[Xe];Le(mt[0],mt[1])}return se.length?"&"+se.join("&"):""}function pn(Te){var se={};return Te.replace(/^\?/,"").split("&").forEach(function(Xe){if(Xe){var Ve=Xe.split("="),Wt=Ve[1];se[decodeURIComponent(Ve[0])]=decodeURIComponent(Wt)}}),se}function Vn(Te){var se=Te.indexOf("?");if(!se)return"";var Le=Te.indexOf("#",se);return Te.substring(se,Le>0?Le:void 0)}function ir(Te,se){var Le=new Zn(Te,se);return Le.subscribe.bind(Le)}!function(){function Te(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var se=1;se<this.blockSize;++se)this.pad_[se]=0;this.reset()}Te.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Te.prototype.compress_=function(se,Le){Le||(Le=0);var Xe=this.W_;if("string"==typeof se)for(var Ve=0;Ve<16;Ve++)Xe[Ve]=se.charCodeAt(Le)<<24|se.charCodeAt(Le+1)<<16|se.charCodeAt(Le+2)<<8|se.charCodeAt(Le+3),Le+=4;else for(Ve=0;Ve<16;Ve++)Xe[Ve]=se[Le]<<24|se[Le+1]<<16|se[Le+2]<<8|se[Le+3],Le+=4;for(Ve=16;Ve<80;Ve++)Xe[Ve]=4294967295&((mt=Xe[Ve-3]^Xe[Ve-8]^Xe[Ve-14]^Xe[Ve-16])<<1|mt>>>31);var nn,jn,Wt=this.chain_[0],An=this.chain_[1],Nn=this.chain_[2],bn=this.chain_[3],yr=this.chain_[4];for(Ve=0;Ve<80;Ve++){Ve<40?Ve<20?(nn=bn^An&(Nn^bn),jn=1518500249):(nn=An^Nn^bn,jn=1859775393):Ve<60?(nn=An&Nn|bn&(An|Nn),jn=2400959708):(nn=An^Nn^bn,jn=3395469782);var mt=(Wt<<5|Wt>>>27)+nn+yr+jn+Xe[Ve]&4294967295;yr=bn,bn=Nn,Nn=4294967295&(An<<30|An>>>2),An=Wt,Wt=mt}this.chain_[0]=this.chain_[0]+Wt&4294967295,this.chain_[1]=this.chain_[1]+An&4294967295,this.chain_[2]=this.chain_[2]+Nn&4294967295,this.chain_[3]=this.chain_[3]+bn&4294967295,this.chain_[4]=this.chain_[4]+yr&4294967295},Te.prototype.update=function(se,Le){if(null!=se){void 0===Le&&(Le=se.length);for(var Xe=Le-this.blockSize,Ve=0,mt=this.buf_,Wt=this.inbuf_;Ve<Le;){if(0===Wt)for(;Ve<=Xe;)this.compress_(se,Ve),Ve+=this.blockSize;if("string"==typeof se){for(;Ve<Le;)if(mt[Wt]=se.charCodeAt(Ve),++Ve,++Wt===this.blockSize){this.compress_(mt),Wt=0;break}}else for(;Ve<Le;)if(mt[Wt]=se[Ve],++Ve,++Wt===this.blockSize){this.compress_(mt),Wt=0;break}}this.inbuf_=Wt,this.total_+=Le}},Te.prototype.digest=function(){var se=[],Le=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Xe=this.blockSize-1;Xe>=56;Xe--)this.buf_[Xe]=255&Le,Le/=256;this.compress_(this.buf_);var Ve=0;for(Xe=0;Xe<5;Xe++)for(var mt=24;mt>=0;mt-=8)se[Ve]=this.chain_[Xe]>>mt&255,++Ve;return se}}();var Zn=function(){function Te(se,Le){var Xe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Le,this.task.then(function(){se(Xe)}).catch(function(Ve){Xe.error(Ve)})}return Te.prototype.next=function(se){this.forEachObserver(function(Le){Le.next(se)})},Te.prototype.error=function(se){this.forEachObserver(function(Le){Le.error(se)}),this.close(se)},Te.prototype.complete=function(){this.forEachObserver(function(se){se.complete()}),this.close()},Te.prototype.subscribe=function(se,Le,Xe){var mt,Ve=this;if(void 0===se&&void 0===Le&&void 0===Xe)throw new Error("Missing Observer.");void 0===(mt=function(Te,se){if("object"!=typeof Te||null===Te)return!1;for(var Le=0,Xe=["next","error","complete"];Le<Xe.length;Le++){var Ve=Xe[Le];if(Ve in Te&&"function"==typeof Te[Ve])return!0}return!1}(se)?se:{next:se,error:Le,complete:Xe}).next&&(mt.next=sr),void 0===mt.error&&(mt.error=sr),void 0===mt.complete&&(mt.complete=sr);var Wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Ve.finalError?mt.error(Ve.finalError):mt.complete()}catch(An){}}),this.observers.push(mt),Wt},Te.prototype.unsubscribeOne=function(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Te.prototype.forEachObserver=function(se){if(!this.finalized)for(var Le=0;Le<this.observers.length;Le++)this.sendOne(Le,se)},Te.prototype.sendOne=function(se,Le){var Xe=this;this.task.then(function(){if(void 0!==Xe.observers&&void 0!==Xe.observers[se])try{Le(Xe.observers[se])}catch(Ve){"undefined"!=typeof console&&console.error&&console.error(Ve)}})},Te.prototype.close=function(se){var Le=this;this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(function(){Le.observers=void 0,Le.onNoObservers=void 0}))},Te}();function sr(){}function Yt(Te){return Te&&Te._delegate?Te._delegate:Te}},7841:(Bt,tt,G)=>{"use strict";G.d(tt,{Z:()=>E.Z});var E=G(4486);E.Z.registerVersion("firebase","9.0.1","app-compat")},9083:(Bt,tt,G)=>{"use strict";G.r(tt);var E=G(8239),_=G(4486),ne=G(4685),Se=G(5452),Ne=G(4762),be=G(300),ke=G(6034);const qe=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=new ne.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new be.Yd("@firebase/auth");function It(D,...g){Ke.logLevel<=be.in.ERROR&&Ke.error(`Auth (${Se.SDK_VERSION}): ${D}`,...g)}function st(D,...g){throw pe(D,...g)}function Me(D,...g){return pe(D,...g)}function pe(D,...g){if("string"!=typeof D){const m=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=D.name),D._errorFactory.create(m,...A)}return je.create(D,...g)}function Ye(D,g,...m){if(!D)throw pe(g,...m)}function cn(D){const g="INTERNAL ASSERTION FAILED: "+D;throw It(g),new Error(g)}function Pt(D,g){D||cn(g)}const Oe=new Map;function Ge(D){Pt(D instanceof Function,"Expected a class definition");let g=Oe.get(D);return g?(Pt(g instanceof D,"Instance stored in cache mismatched with class"),g):(g=new D,Oe.set(D,g),g)}function et(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function le(){return"http:"===vt()||"https:"===vt()}function vt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Nt{constructor(g,m){this.shortDelay=g,this.longDelay=m,Pt(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,ne.uI)()||(0,ne.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(le()||(0,ne.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function xt(D,g){Pt(D.emulator,"Emulator should always be set here");const{url:m}=D.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class Qt{static initialize(g,m,A){this.fetchImpl=g,m&&(this.headersImpl=m),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},nt=new Nt(3e4,6e4);function at(D,g){return D.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:D.tenantId}):g}function ge(D,g,m,A){return we.apply(this,arguments)}function we(){return(we=(0,E.Z)(function*(D,g,m,A,H={}){return Dt(D,H,()=>{let X={},Ue={};A&&("GET"===g?Ue=A:X={body:JSON.stringify(A)});const it=(0,ne.xO)(Object.assign({key:D.config.apiKey},Ue)).slice(1),Ft=new(Qt.headers());return Ft.set("Content-Type","application/json"),Ft.set("X-Client-Version",D._getSdkClientVersion()),D.languageCode&&Ft.set("X-Firebase-Locale",D.languageCode),Qt.fetch()(rr(D,D.config.apiHost,m,it),Object.assign({method:g,headers:Ft,referrerPolicy:"no-referrer"},X))})})).apply(this,arguments)}function Dt(D,g,m){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,E.Z)(function*(D,g,m){D._canInitEmulator=!1;const A=Object.assign(Object.assign({},vn),g);try{const H=new or(D),X=yield Promise.race([m(),H.promise]);H.clearNetworkTimeout();const Ue=yield X.json();if("needConfirmation"in Ue)throw pn(D,"account-exists-with-different-credential",Ue);if(X.ok&&!("errorMessage"in Ue))return Ue;{const Ft=(X.ok?Ue.errorMessage:Ue.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ft)throw pn(D,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===Ft)throw pn(D,"email-already-in-use",Ue);st(D,A[Ft]||Ft.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(H){if(H instanceof ne.ZR)throw H;st(D,"network-request-failed")}})).apply(this,arguments)}function En(D,g,m,A){return mn.apply(this,arguments)}function mn(){return(mn=(0,E.Z)(function*(D,g,m,A,H={}){const X=yield ge(D,g,m,A,H);return"mfaPendingCredential"in X&&st(D,"multi-factor-auth-required",{serverResponse:X}),X})).apply(this,arguments)}function rr(D,g,m,A){const H=`${g}${m}?${A}`;return D.config.emulator?xt(D.config,H):`${D.config.apiScheme}://${H}`}class or{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,A)=>{this.timer=setTimeout(()=>A(Me(this.auth,"timeout")),nt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(D,g,m){const A={appName:D.name};m.email&&(A.email=m.email),m.phoneNumber&&(A.phoneNumber=m.phoneNumber);const H=Me(D,g,A);return H.customData._tokenResponse=m,H}function Gn(){return(Gn=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function ir(D,g){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yn(D,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function sr(D){if(D)try{const g=new Date(Number(D));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Ce(){return(Ce=(0,E.Z)(function*(D,g=!1){const m=(0,ne.m9)(D),A=yield m.getIdToken(g),H=dt(A);Ye(H&&H.exp&&H.auth_time&&H.iat,m.auth,"internal-error");const X="object"==typeof H.firebase?H.firebase:void 0,Ue=null==X?void 0:X.sign_in_provider;return{claims:H,token:A,authTime:sr(gt(H.auth_time)),issuedAtTime:sr(gt(H.iat)),expirationTime:sr(gt(H.exp)),signInProvider:Ue||null,signInSecondFactor:(null==X?void 0:X.sign_in_second_factor)||null}})).apply(this,arguments)}function gt(D){return 1e3*Number(D)}function dt(D){const[g,m,A]=D.split(".");if(void 0===g||void 0===m||void 0===A)return It("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,ne.tV)(m);return H?JSON.parse(H):(It("Failed to decode base64 JWT payload"),null)}catch(H){return It("Caught error parsing JWT payload as JSON",H),null}}function ft(D,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,E.Z)(function*(D,g,m=!1){if(m)return g;try{return yield g}catch(A){throw A instanceof ne.ZR&&fn(A)&&D.auth.currentUser===D&&(yield D.auth.signOut()),A}})).apply(this,arguments)}function fn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Qn{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const H=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,E.Z)(function*(){yield m.iteration()}),A)}iteration(){var g=this;return(0,E.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class ur{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=sr(this.lastLoginAt),this.creationTime=sr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ln(D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,E.Z)(function*(D){var g;const m=D.auth,A=yield D.getIdToken(),H=yield ft(D,yn(m,{idToken:A}));Ye(null==H?void 0:H.users.length,m,"internal-error");const X=H.users[0];D._notifyReloadListener(X);const Ue=(null===(g=X.providerUserInfo)||void 0===g?void 0:g.length)?se(X.providerUserInfo):[],it=Te(D.providerData,Ue),ln=!!D.isAnonymous&&!(D.email&&X.passwordHash||(null==it?void 0:it.length)),rn={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:it,metadata:new ur(X.createdAt,X.lastLoginAt),isAnonymous:ln};Object.assign(D,rn)})).apply(this,arguments)}function Yt(){return(Yt=(0,E.Z)(function*(D){const g=(0,ne.m9)(D);yield Ln(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Te(D,g){return[...D.filter(A=>!g.some(H=>H.providerId===A.providerId)),...g]}function se(D){return D.map(g=>{var{providerId:m}=g,A=(0,Ne._T)(g,["providerId"]);return{providerId:m,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Xe(){return(Xe=(0,E.Z)(function*(D,g){const m=yield Dt(D,{},()=>{const A=(0,ne.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:H,apiKey:X}=D.config,Ue=rr(D,H,"/v1/token",`key=${X}`);return Qt.fetch()(Ue,{method:"POST",headers:{"X-Client-Version":D._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:A})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Ye(g.idToken,"internal-error"),Ye(void 0!==g.idToken,"internal-error"),Ye(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(D){const g=dt(D);return Ye(g,"internal-error"),Ye(void 0!==g.exp,"internal-error"),Ye(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var A=this;return(0,E.Z)(function*(){return Ye(!A.accessToken||A.refreshToken,g,"user-token-expired"),m||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var A=this;return(0,E.Z)(function*(){const{accessToken:H,refreshToken:X,expiresIn:Ue}=yield function(D,g){return Xe.apply(this,arguments)}(g,m);A.updateTokensAndExpiration(H,X,Number(Ue))})()}updateTokensAndExpiration(g,m,A){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,m){const{refreshToken:A,accessToken:H,expirationTime:X}=m,Ue=new Ve;return A&&(Ye("string"==typeof A,"internal-error",{appName:g}),Ue.refreshToken=A),H&&(Ye("string"==typeof H,"internal-error",{appName:g}),Ue.accessToken=H),X&&(Ye("number"==typeof X,"internal-error",{appName:g}),Ue.expirationTime=X),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ve,this.toJSON())}_performRefresh(){return cn("not implemented")}}function mt(D,g){Ye("string"==typeof D||void 0===D,"internal-error",{appName:g})}class Wt{constructor(g){var{uid:m,auth:A,stsTokenManager:H}=g,X=(0,Ne._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=A,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.metadata=new ur(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,E.Z)(function*(){const A=yield ft(m,m.stsTokenManager.getToken(m.auth,g));return Ye(A,m.auth,"internal-error"),m.accessToken!==A&&(m.accessToken=A,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),A})()}getIdTokenResult(g){return function(D){return Ce.apply(this,arguments)}(this,g)}reload(){return function(D){return Yt.apply(this,arguments)}(this)}_assign(g){this!==g&&(Ye(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Wt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var A=this;return(0,E.Z)(function*(){let H=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),H=!0),m&&(yield Ln(A)),yield A.auth._persistUserIfCurrent(A),H&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,E.Z)(function*(){const m=yield g.getIdToken();return yield ft(g,function(D,g){return Gn.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var A,H,X,Ue,it,Ft,Kt,ln;const rn=null!==(A=m.displayName)&&void 0!==A?A:void 0,Hr=null!==(H=m.email)&&void 0!==H?H:void 0,xi=null!==(X=m.phoneNumber)&&void 0!==X?X:void 0,yo=null!==(Ue=m.photoURL)&&void 0!==Ue?Ue:void 0,Zi=null!==(it=m.tenantId)&&void 0!==it?it:void 0,Ic=null!==(Ft=m._redirectEventId)&&void 0!==Ft?Ft:void 0,hd=null!==(Kt=m.createdAt)&&void 0!==Kt?Kt:void 0,fd=null!==(ln=m.lastLoginAt)&&void 0!==ln?ln:void 0,{uid:St,emailVerified:Dc,isAnonymous:no,providerData:pd,stsTokenManager:tl}=m;Ye(St&&tl,g,"internal-error");const fu=Ve.fromJSON(this.name,tl);Ye("string"==typeof St,g,"internal-error"),mt(rn,g.name),mt(Hr,g.name),Ye("boolean"==typeof Dc,g,"internal-error"),Ye("boolean"==typeof no,g,"internal-error"),mt(xi,g.name),mt(yo,g.name),mt(Zi,g.name),mt(Ic,g.name),mt(hd,g.name),mt(fd,g.name);const ka=new Wt({uid:St,auth:g,email:Hr,emailVerified:Dc,displayName:rn,isAnonymous:no,photoURL:yo,phoneNumber:xi,tenantId:Zi,stsTokenManager:fu,createdAt:hd,lastLoginAt:fd});return pd&&Array.isArray(pd)&&(ka.providerData=pd.map(hs=>Object.assign({},hs))),Ic&&(ka._redirectEventId=Ic),ka}static _fromIdTokenResponse(g,m,A=!1){return(0,E.Z)(function*(){const H=new Ve;H.updateFromServerResponse(m);const X=new Wt({uid:m.localId,auth:g,stsTokenManager:H,isAnonymous:A});return yield Ln(X),X})()}}const Nn=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,E.Z)(function*(){return!0})()}_set(m,A){var H=this;return(0,E.Z)(function*(){H.storage[m]=A})()}_get(m){var A=this;return(0,E.Z)(function*(){const H=A.storage[m];return void 0===H?null:H})()}_remove(m){var A=this;return(0,E.Z)(function*(){delete A.storage[m]})()}_addListener(m,A){}_removeListener(m,A){}}return D.type="NONE",D})();function bn(D,g,m){return`firebase:${D}:${g}:${m}`}class yr{constructor(g,m,A){this.persistence=g,this.auth=m,this.userKey=A;const{config:H,name:X}=this.auth;this.fullUserKey=bn(this.userKey,H.apiKey,X),this.fullPersistenceKey=bn("persistence",H.apiKey,X),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,E.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Wt._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,E.Z)(function*(){if(m.persistence===g)return;const A=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,A?m.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,A="authUser"){return(0,E.Z)(function*(){if(!m.length)return new yr(Ge(Nn),g,A);const H=(yield Promise.all(m.map(function(){var Kt=(0,E.Z)(function*(ln){if(yield ln._isAvailable())return ln});return function(ln){return Kt.apply(this,arguments)}}()))).filter(Kt=>Kt);let X=H[0]||Ge(Nn);const Ue=bn(A,g.config.apiKey,g.name);let it=null;for(const Kt of m)try{const ln=yield Kt._get(Ue);if(ln){const rn=Wt._fromJSON(g,ln);Kt!==X&&(it=rn),X=Kt;break}}catch(ln){}const Ft=H.filter(Kt=>Kt._shouldAllowMigration);return X._shouldAllowMigration&&Ft.length?(X=Ft[0],it&&(yield X._set(Ue,it.toJSON())),yield Promise.all(m.map(function(){var Kt=(0,E.Z)(function*(ln){if(ln!==X)try{yield ln._remove(Ue)}catch(rn){}});return function(ln){return Kt.apply(this,arguments)}}())),new yr(X,g,A)):new yr(X,g,A)})()}}function nn(D){const g=D.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ps(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(jn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(gi(g))return"Blackberry";if(Oi(g))return"Webos";if(Qr(g))return"Safari";if((g.includes("chrome/")||Jr(g))&&!g.includes("edge/"))return"Chrome";if(pi(g))return"Android";{const A=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function jn(D=(0,ne.z$)()){return/firefox\//i.test(D)}function Qr(D=(0,ne.z$)()){const g=D.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Jr(D=(0,ne.z$)()){return/crios\//i.test(D)}function ps(D=(0,ne.z$)()){return/iemobile/i.test(D)}function pi(D=(0,ne.z$)()){return/android/i.test(D)}function gi(D=(0,ne.z$)()){return/blackberry/i.test(D)}function Oi(D=(0,ne.z$)()){return/webos/i.test(D)}function Lr(D=(0,ne.z$)()){return/iphone|ipad|ipod/i.test(D)}function Vr(D=(0,ne.z$)()){return Lr(D)||pi(D)||Oi(D)||gi(D)||/windows phone/i.test(D)||ps(D)}function Wr(D,g=[]){let m;switch(D){case"Browser":m=nn((0,ne.z$)());break;case"Worker":m=`${nn((0,ne.z$)())}-${D}`;break;default:m=D}const A=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${Se.SDK_VERSION}/${A}`}class Xr{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zi(this),this.idTokenSubscription=new zi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=je,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var A=this;return m&&(this._popupRedirectResolver=Ge(m)),this._initializationPromise=this.queue((0,E.Z)(function*(){var H;A._deleted||(A.persistenceManager=yield yr.create(A,g),!A._deleted&&((null===(H=A._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)&&(yield A._popupRedirectResolver._initialize(A)),yield A.initializeCurrentUser(m),!A._deleted&&(A._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,E.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,E.Z)(function*(){var A;let H=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const X=null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId,Ue=null==H?void 0:H._redirectEventId,it=yield m.tryRedirectSignIn(g);(!X||X===Ue)&&(null==it?void 0:it.user)&&(H=it.user)}return H?H._redirectEventId?(Ye(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===H._redirectEventId?m.directlySetCurrentUser(H):m.reloadAndSetCurrentUserOrClear(H)):m.reloadAndSetCurrentUserOrClear(H):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,E.Z)(function*(){let A=null;try{A=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(H){yield m._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,E.Z)(function*(){try{yield Ln(g)}catch(A){if("auth/network-request-failed"!==A.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var g=this;return(0,E.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,E.Z)(function*(){const A=g?(0,ne.m9)(g):null;return A&&Ye(A.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(A&&A._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,E.Z)(function*(){if(!m._deleted)return g&&Ye(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,E.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,E.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,E.Z)(function*(){yield m.assertedPersistence.setPersistence(Ge(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new ne.LL("auth","Firebase",g())}onAuthStateChanged(g,m,A){return this.registerStateListener(this.authStateSubscription,g,m,A)}onIdTokenChanged(g,m,A){return this.registerStateListener(this.idTokenSubscription,g,m,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var A=this;return(0,E.Z)(function*(){const H=yield A.getOrInitRedirectPersistenceManager(m);return null===g?H.removeCurrentUser():H.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,E.Z)(function*(){if(!m.redirectPersistenceManager){const A=g&&Ge(g)||m._popupRedirectResolver;Ye(A,m,"argument-error"),m.redirectPersistenceManager=yield yr.create(m,[Ge(A._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,E.Z)(function*(){var A,H;return m._isInitialized&&(yield m.queue((0,E.Z)(function*(){}))),(null===(A=m._currentUser)||void 0===A?void 0:A._redirectEventId)===g?m._currentUser:(null===(H=m.redirectUser)||void 0===H?void 0:H._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,E.Z)(function*(){if(g===m.currentUser)return m.queue((0,E.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,A,H){if(this._deleted)return()=>{};const X="function"==typeof m?m:m.next.bind(m),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return Ye(Ue,this,"internal-error"),Ue.then(()=>X(this.currentUser)),"function"==typeof m?g.addObserver(m,A,H):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,E.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Wr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function In(D){return(0,ne.m9)(D)}class zi{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,ne.ne)(m=>this.observer=m)}get next(){return Ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rt(D){const g=D.indexOf(":");return g<0?"":D.substr(0,g+1)}function Pn(D){if(!D)return null;const g=Number(D);return isNaN(g)?null:g}class kn{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return cn("not implemented")}_getIdTokenResponse(g){return cn("not implemented")}_linkToIdToken(g,m){return cn("not implemented")}_getReauthenticationResolver(g){return cn("not implemented")}}function Cn(D,g){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:resetPassword",at(D,g))})).apply(this,arguments)}function Ee(D,g){return oe.apply(this,arguments)}function oe(){return(oe=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Be(D,g){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:update",at(D,g))})).apply(this,arguments)}function Tn(){return(Tn=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithPassword",at(D,g))})).apply(this,arguments)}function qn(D,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:sendOobCode",at(D,g))})).apply(this,arguments)}function Nr(D,g){return ai.apply(this,arguments)}function ai(){return(ai=(0,E.Z)(function*(D,g){return qn(D,g)})).apply(this,arguments)}function Pi(D,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,E.Z)(function*(D,g){return qn(D,g)})).apply(this,arguments)}function Wn(D,g){return wi.apply(this,arguments)}function wi(){return(wi=(0,E.Z)(function*(D,g){return qn(D,g)})).apply(this,arguments)}function Wi(D,g){return br.apply(this,arguments)}function br(){return(br=(0,E.Z)(function*(D,g){return qn(D,g)})).apply(this,arguments)}function Ur(){return(Ur=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithEmailLink",at(D,g))})).apply(this,arguments)}function Ci(){return(Ci=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithEmailLink",at(D,g))})).apply(this,arguments)}class fr extends kn{constructor(g,m,A,H=null){super("password",A),this._email=g,this._password=m,this._tenantId=H}static _fromEmailAndPassword(g,m){return new fr(g,m,"password")}static _fromEmailAndCode(g,m,A=null){return new fr(g,m,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,E.Z)(function*(){switch(m.signInMethod){case"password":return function(D,g){return Tn.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(D,g){return Ur.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:st(g,"internal-error")}})()}_linkToIdToken(g,m){var A=this;return(0,E.Z)(function*(){switch(A.signInMethod){case"password":return Ee(g,{idToken:m,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function(D,g){return Ci.apply(this,arguments)}(g,{idToken:m,email:A._email,oobCode:A._password});default:st(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function _r(D,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithIdp",at(D,g))})).apply(this,arguments)}class wr extends kn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new wr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):st("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:H}=m,X=(0,Ne._T)(m,["providerId","signInMethod"]);if(!A||!H)return null;const Ue=new wr(A,H);return Object.assign(Ue,X),Ue}_getIdTokenResponse(g){return _r(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,_r(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,_r(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,ne.xO)(m)}return g}}function es(D,g){return ki.apply(this,arguments)}function ki(){return(ki=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:sendVerificationCode",at(D,g))})).apply(this,arguments)}function gs(){return(gs=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithPhoneNumber",at(D,g))})).apply(this,arguments)}function Hs(){return(Hs=(0,E.Z)(function*(D,g){const m=yield En(D,"POST","/v1/accounts:signInWithPhoneNumber",at(D,g));if(m.temporaryProof)throw pn(D,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ts={USER_NOT_FOUND:"user-not-found"};function Mr(){return(Mr=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithPhoneNumber",at(D,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ts)})).apply(this,arguments)}class ns extends kn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new ns({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new ns({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(D,g){return gs.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(D,g){return Hs.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(D,g){return Mr.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:A,verificationCode:H}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:A,code:H}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:A,phoneNumber:H,temporaryProof:X}=g;return A||m||H||X?new ns({verificationId:m,verificationCode:A,phoneNumber:H,temporaryProof:X}):null}}class mi{constructor(g){var m,A,H,X,Ue,it;const Ft=(0,ne.zd)((0,ne.pd)(g)),Kt=null!==(m=Ft.apiKey)&&void 0!==m?m:null,ln=null!==(A=Ft.oobCode)&&void 0!==A?A:null,rn=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Ft.mode)&&void 0!==H?H:null);Ye(Kt&&ln&&rn,"argument-error"),this.apiKey=Kt,this.operation=rn,this.code=ln,this.continueUrl=null!==(X=Ft.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Ue=Ft.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(it=Ft.tenantId)&&void 0!==it?it:null}static parseLink(g){const m=function(D){const g=(0,ne.zd)((0,ne.pd)(D)).link,m=g?(0,ne.zd)((0,ne.pd)(g)).deep_link_id:null,A=(0,ne.zd)((0,ne.pd)(D)).deep_link_id;return(A?(0,ne.zd)((0,ne.pd)(A)).link:null)||A||m||g||D}(g);try{return new mi(m)}catch(A){return null}}}let $s=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(m,A){return fr._fromEmailAndPassword(m,A)}static credentialWithLink(m,A){const H=mi.parseLink(A);return Ye(H,"argument-error"),fr._fromEmailAndCode(m,H.code,H.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Li{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class rs extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ii extends rs{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Ye("providerId"in m&&"signInMethod"in m,"argument-error"),wr._fromParams(m)}credential(g){return this._credential(g)}_credential(g){return Ye(g.idToken||g.accessToken,"argument-error"),wr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ii.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ii.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:A,oauthTokenSecret:H,pendingToken:X,nonce:Ue,providerId:it}=g;if(!A&&!H&&!m&&!X||!it)return null;try{return new Ii(it)._credential({idToken:m,accessToken:A,rawNonce:Ue,pendingToken:X})}catch(Ft){return null}}}let oo=(()=>{class D extends rs{constructor(){super("facebook.com")}static credential(m){return wr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),is=(()=>{class D extends rs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,A){return wr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:A,oauthAccessToken:H}=m;if(!A&&!H)return null;try{return D.credential(A,H)}catch(X){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ys=(()=>{class D extends rs{constructor(){super("github.com")}static credential(m){return wr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return D.credential(m.oauthAccessToken)}catch(A){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class ti extends kn{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return _r(g,this.buildRequest())}_linkToIdToken(g,m){const A=this.buildRequest();return A.idToken=m,_r(g,A)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,_r(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:H,pendingToken:X}=m;return A&&H&&X&&A===H?new ti(A,X):null}static _create(g,m){return new ti(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Zs=(()=>{class D extends rs{constructor(){super("twitter.com")}static credential(m,A){return wr._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:A})}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:A,oauthTokenSecret:H}=m;if(!A||!H)return null;try{return D.credential(A,H)}catch(X){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Di(D,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signUp",at(D,g))})).apply(this,arguments)}class Br{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,A,H=!1){return(0,E.Z)(function*(){const X=yield Wt._fromIdTokenResponse(g,A,H),Ue=Co(A);return new Br({user:X,providerId:Ue,_tokenResponse:A,operationType:m})})()}static _forOperation(g,m,A){return(0,E.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const H=Co(A);return new Br({user:g,providerId:H,_tokenResponse:A,operationType:m})})()}}function Co(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function Gs(){return(Gs=(0,E.Z)(function*(D){var g;const m=In(D);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Br({user:m.currentUser,providerId:null,operationType:"signIn"});const A=yield Di(m,{returnSecureToken:!0}),H=yield Br._fromIdTokenResponse(m,"signIn",A,!0);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class os extends ne.ZR{constructor(g,m,A,H){var X;super(m.code,m.message),this.operationType=A,this.user=H,this.name="FirebaseError",Object.setPrototypeOf(this,os.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(X=g.tenantId)&&void 0!==X?X:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,A,H){return new os(g,m,A,H)}}function ui(D,g,m,A){return("reauthenticate"===g?m._getReauthenticationResolver(D):m._getIdTokenResponse(D)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?os._fromErrorAndOperation(D,X,g,A):X})}function as(D){return new Set(D.map(({providerId:g})=>g).filter(g=>!!g))}function vs(){return(vs=(0,E.Z)(function*(D,g){const m=(0,ne.m9)(D);yield U(!0,m,g);const{providerUserInfo:A}=yield ir(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),H=as(A||[]);return m.providerData=m.providerData.filter(X=>H.has(X.providerId)),H.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function yi(D,g){return qs.apply(this,arguments)}function qs(){return(qs=(0,E.Z)(function*(D,g,m=!1){const A=yield ft(D,g._linkToIdToken(D.auth,yield D.getIdToken()),m);return Br._forOperation(D,"link",A)})).apply(this,arguments)}function U(D,g,m){return W.apply(this,arguments)}function W(){return(W=(0,E.Z)(function*(D,g,m){yield Ln(g);const H=!1===D?"provider-already-linked":"no-such-provider";Ye(as(g.providerData).has(m)===D,g.auth,H)})).apply(this,arguments)}function B(D,g){return Y.apply(this,arguments)}function Y(){return(Y=(0,E.Z)(function*(D,g,m=!1){const{auth:A}=D,H="reauthenticate";try{const X=yield ft(D,ui(A,H,g,D),m);Ye(X.idToken,A,"internal-error");const Ue=dt(X.idToken);Ye(Ue,A,"internal-error");const{sub:it}=Ue;return Ye(D.uid===it,A,"user-mismatch"),Br._forOperation(D,H,X)}catch(X){throw"auth/user-not-found"===(null==X?void 0:X.code)&&st(A,"user-mismatch"),X}})).apply(this,arguments)}function De(D,g){return We.apply(this,arguments)}function We(){return(We=(0,E.Z)(function*(D,g,m=!1){const A="signIn",H=yield ui(D,A,g),X=yield Br._fromIdTokenResponse(D,A,H);return m||(yield D._updateCurrentUser(X.user)),X})).apply(this,arguments)}function bt(D,g){return F.apply(this,arguments)}function F(){return(F=(0,E.Z)(function*(D,g){return De(In(D),g)})).apply(this,arguments)}function P(D,g){return M.apply(this,arguments)}function M(){return(M=(0,E.Z)(function*(D,g){const m=(0,ne.m9)(D);return yield U(!1,m,g.providerId),yi(m,g)})).apply(this,arguments)}function z(D,g){return Re.apply(this,arguments)}function Re(){return(Re=(0,E.Z)(function*(D,g){return B((0,ne.m9)(D),g)})).apply(this,arguments)}function Ot(D,g){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,E.Z)(function*(D,g){return En(D,"POST","/v1/accounts:signInWithCustomToken",at(D,g))})).apply(this,arguments)}function er(){return(er=(0,E.Z)(function*(D,g){const m=In(D),A=yield Ot(m,{token:g,returnSecureToken:!0}),H=yield Br._fromIdTokenResponse(m,"signIn",A);return yield m._updateCurrentUser(H.user),H})).apply(this,arguments)}class gr{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Kn._fromServerResponse(g,m):st(g,"internal-error")}}class Kn extends gr{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Kn(m)}}function ni(D,g,m){var A;Ye((null===(A=m.url)||void 0===A?void 0:A.length)>0,D,"invalid-continue-uri"),Ye(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ye(m.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),g.iosBundleId=m.iOS.bundleId),m.android&&(Ye(m.android.packageName.length>0,D,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Es(){return(Es=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D),H={requestType:"PASSWORD_RESET",email:g};m&&ni(A,H,m),yield Pi(A,H)})).apply(this,arguments)}function To(){return(To=(0,E.Z)(function*(D,g,m){yield Cn((0,ne.m9)(D),{oobCode:g,newPassword:m})})).apply(this,arguments)}function on(){return(on=(0,E.Z)(function*(D,g){yield Be((0,ne.m9)(D),{oobCode:g})})).apply(this,arguments)}function Du(D,g){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(D,g){const m=(0,ne.m9)(D),A=yield Cn(m,{oobCode:g}),H=A.requestType;switch(Ye(H,m,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ye(A.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ye(A.mfaInfo,m,"internal-error");default:Ye(A.email,m,"internal-error")}let X=null;return A.mfaInfo&&(X=gr._fromServerResponse(In(m),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:X},operation:H}})).apply(this,arguments)}function Ws(){return(Ws=(0,E.Z)(function*(D,g){const{data:m}=yield Du((0,ne.m9)(D),g);return m.email})).apply(this,arguments)}function Au(){return(Au=(0,E.Z)(function*(D,g,m){const A=In(D),H=yield Di(A,{returnSecureToken:!0,email:g,password:m}),X=yield Br._fromIdTokenResponse(A,"signIn",H);return yield A._updateCurrentUser(X.user),X})).apply(this,arguments)}function Hn(){return(Hn=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D),H={requestType:"EMAIL_SIGNIN",email:g};Ye(m.handleCodeInApp,A,"argument-error"),m&&ni(A,H,m),yield Wn(A,H)})).apply(this,arguments)}function jo(){return(jo=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D),H=$s.credentialWithLink(g,m||et());return Ye(H._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),bt(A,H)})).apply(this,arguments)}function bs(D,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:createAuthUri",at(D,g))})).apply(this,arguments)}function ji(){return(ji=(0,E.Z)(function*(D,g){const A={identifier:g,continueUri:le()?et():"http://localhost"},{signinMethods:H}=yield bs((0,ne.m9)(D),A);return H||[]})).apply(this,arguments)}function Ya(){return(Ya=(0,E.Z)(function*(D,g){const m=(0,ne.m9)(D),H={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};g&&ni(m.auth,H,g);const{email:X}=yield Nr(m.auth,H);X!==D.email&&(yield D.reload())})).apply(this,arguments)}function ws(){return(ws=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D),X={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:g};m&&ni(A.auth,X,m);const{email:Ue}=yield Wi(A.auth,X);Ue!==D.email&&(yield D.reload())})).apply(this,arguments)}function Yr(D,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,E.Z)(function*(D,g){return ge(D,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Yi(){return(Yi=(0,E.Z)(function*(D,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const A=(0,ne.m9)(D),X={idToken:yield A.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Ue=yield ft(A,Yr(A.auth,X));A.displayName=Ue.displayName||null,A.photoURL=Ue.photoUrl||null;const it=A.providerData.find(({providerId:Ft})=>"password"===Ft);it&&(it.displayName=A.displayName,it.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function Or(D,g,m){return $o.apply(this,arguments)}function $o(){return($o=(0,E.Z)(function*(D,g,m){const{auth:A}=D,X={idToken:yield D.getIdToken(),returnSecureToken:!0};g&&(X.email=g),m&&(X.password=m);const Ue=yield ft(D,Ee(A,X));yield D._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class Cs{constructor(g,m,A={}){this.isNewUser=g,this.providerId=m,this.profile=A}}class Zo extends Cs{constructor(g,m,A,H){super(g,m,A),this.username=H}}class Ja extends Cs{constructor(g,m){super(g,"facebook.com",m)}}class Xa extends Zo{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class eu extends Cs{constructor(g,m){super(g,"google.com",m)}}class ua extends Zo{constructor(g,m,A){super(g,"twitter.com",m,A)}}function uo(D){const{user:g,_tokenResponse:m}=D;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(D){var g,m;if(!D)return null;const{providerId:A}=D,H=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},X=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!A&&(null==D?void 0:D.idToken)){const Ue=null===(m=null===(g=dt(D.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ue)return new Cs(X,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!A)return null;switch(A){case"facebook.com":return new Ja(X,H);case"github.com":return new Xa(X,H);case"google.com":return new eu(X,H);case"twitter.com":return new ua(X,H,D.screenName||null);case"custom":case"anonymous":return new Cs(X,null);default:return new Cs(X,A,H)}}(m)}class ii{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new ii("enroll",g)}static _fromMfaPendingCredential(g){return new ii("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,A;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return ii._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(A=g.multiFactorSession)||void 0===A?void 0:A.idToken)return ii._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Ir{constructor(g,m,A){this.session=g,this.hints=m,this.signInResolver=A}static _fromError(g,m){const A=In(g),H=(m.serverResponse.mfaInfo||[]).map(Ue=>gr._fromServerResponse(A,Ue));Ye(m.serverResponse.mfaPendingCredential,A,"internal-error");const X=ii._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new Ir(X,H,function(){var Ue=(0,E.Z)(function*(it){const Ft=yield it._process(A,X);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const Kt=Object.assign(Object.assign({},m.serverResponse),{idToken:Ft.idToken,refreshToken:Ft.refreshToken});switch(m.operationType){case"signIn":const ln=yield Br._fromIdTokenResponse(A,m.operationType,Kt);return yield A._updateCurrentUser(ln.user),ln;case"reauthenticate":return Ye(m.user,A,"internal-error"),Br._forOperation(m.user,m.operationType,Kt);default:st(A,"internal-error")}});return function(it){return Ue.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,E.Z)(function*(){return m.signInResolver(g)})()}}function Go(D,g){return ge(D,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:D.tenantId},g))}class So{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(A=>gr._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new So(g)}getSession(){var g=this;return(0,E.Z)(function*(){return ii._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var A=this;return(0,E.Z)(function*(){const H=g,X=yield A.getSession(),Ue=yield ft(A.user,H._process(A.user.auth,X,m));return yield A.user._updateTokensIfNecessary(Ue),A.user.reload()})()}unenroll(g){var m=this;return(0,E.Z)(function*(){const A="string"==typeof g?g:g.uid,H=yield m.user.getIdToken(),X=yield ft(m.user,function(D,g){return ge(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:D.tenantId},g))}(m.user.auth,{idToken:H,mfaEnrollmentId:A}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ue})=>Ue!==A),yield m.user._updateTokensIfNecessary(X);try{yield m.user.reload()}catch(Ue){if("auth/user-token-expired"!==Ue.code)throw Ue}})()}}const da=new WeakMap,Rs="__sak";class co{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const li=(()=>{class D extends co{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,ne.z$)();return Qr(D)||Lr(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Vr(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(m){for(const A of Object.keys(this.listeners)){const H=this.storage.getItem(A),X=this.localCache[A];H!==X&&m(A,X,H)}}onStorageEvent(m,A=!1){if(!m.key)return void this.forAllChangedKeys((it,Ft,Kt)=>{this.notifyListeners(it,Kt)});const H=m.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const it=this.storage.getItem(H);if(m.newValue!==it)null!==m.newValue?this.storage.setItem(H,m.newValue):this.storage.removeItem(H);else if(this.localCache[H]===m.newValue&&!A)return}const X=()=>{const it=this.storage.getItem(H);!A&&this.localCache[H]===it||this.notifyListeners(H,it)},Ue=this.storage.getItem(H);(0,ne.w1)()&&10===document.documentMode&&Ue!==m.newValue&&m.newValue!==m.oldValue?setTimeout(X,10):X()}notifyListeners(m,A){this.localCache[m]=A;const H=this.listeners[m];if(H)for(const X of Array.from(H))X(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,A,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:A,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,A){var H=()=>super._set,X=this;return(0,E.Z)(function*(){yield H().call(X,m,A),X.localCache[m]=JSON.stringify(A)})()}_get(m){var A=()=>super._get,H=this;return(0,E.Z)(function*(){const X=yield A().call(H,m);return H.localCache[m]=JSON.stringify(X),X})()}_remove(m){var A=()=>super._remove,H=this;return(0,E.Z)(function*(){yield A().call(H,m),delete H.localCache[m]})()}}return D.type="LOCAL",D})(),us=(()=>{class D extends co{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,A){}_removeListener(m,A){}}return D.type="SESSION",D})();let qo=(()=>{class D{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const A=this.receivers.find(X=>X.isListeningto(m));if(A)return A;const H=new D(m);return this.receivers.push(H),H}isListeningto(m){return this.eventTarget===m}handleEvent(m){var A=this;return(0,E.Z)(function*(){const H=m,{eventId:X,eventType:Ue,data:it}=H.data,Ft=A.handlersMap[Ue];if(!(null==Ft?void 0:Ft.size))return;H.ports[0].postMessage({status:"ack",eventId:X,eventType:Ue});const Kt=Array.from(Ft).map(function(){var rn=(0,E.Z)(function*(Hr){return Hr(H.origin,it)});return function(Hr){return rn.apply(this,arguments)}}()),ln=yield function(D){return Promise.all(D.map(function(){var g=(0,E.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(A){return{fulfilled:!1,reason:A}}});return function(m){return g.apply(this,arguments)}}()))}(Kt);H.ports[0].postMessage({status:"done",eventId:X,eventType:Ue,response:ln})})()}_subscribe(m,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(A)}_unsubscribe(m,A){this.handlersMap[m]&&A&&this.handlersMap[m].delete(A),(!A||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ks(D="",g=10){let m="";for(let A=0;A<g;A++)m+=Math.floor(10*Math.random());return D+m}class Ei{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,A=50){var H=this;return(0,E.Z)(function*(){const X="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Ue,it;return new Promise((Ft,Kt)=>{const ln=Ks("",20);X.port1.start();const rn=setTimeout(()=>{Kt(new Error("unsupported_event"))},A);it={messageChannel:X,onMessage(Hr){const xi=Hr;if(xi.data.eventId===ln)switch(xi.data.status){case"ack":clearTimeout(rn),Ue=setTimeout(()=>{Kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),Ft(xi.data.response);break;default:clearTimeout(rn),clearTimeout(Ue),Kt(new Error("invalid_response"))}}},H.handlers.add(it),X.port1.addEventListener("message",it.onMessage),H.target.postMessage({eventType:g,eventId:ln,data:m},[X.port2])}).finally(()=>{it&&H.removeMessageHandler(it)})})()}}function Gr(){return window}function Ms(){return void 0!==Gr().WorkerGlobalScope&&"function"==typeof Gr().importScripts}function V(){return(V=(0,E.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const R="firebaseLocalStorageDb",J="firebaseLocalStorage",ce="fbase_key";class _e{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function He(D,g){return D.transaction([J],g?"readwrite":"readonly").objectStore(J)}function Tt(){const D=indexedDB.open(R,1);return new Promise((g,m)=>{D.addEventListener("error",()=>{m(D.error)}),D.addEventListener("upgradeneeded",()=>{const A=D.result;try{A.createObjectStore(J,{keyPath:ce})}catch(H){m(H)}}),D.addEventListener("success",(0,E.Z)(function*(){const A=D.result;A.objectStoreNames.contains(J)?g(A):(A.close(),yield function(){const D=indexedDB.deleteDatabase(R);return new _e(D).toPromise()}(),g(yield Tt()))}))})}function qt(D,g,m){return sn.apply(this,arguments)}function sn(){return(sn=(0,E.Z)(function*(D,g,m){const A=He(D,!0).put({[ce]:g,value:m});return new _e(A).toPromise()})).apply(this,arguments)}function an(){return(an=(0,E.Z)(function*(D,g){const m=He(D,!1).get(g),A=yield new _e(m).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function ut(D,g){const m=He(D,!0).delete(g);return new _e(m).toPromise()}const Ht=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,E.Z)(function*(){return m.db||(m.db=yield Tt()),m.db})()}_withRetries(m){var A=this;return(0,E.Z)(function*(){let H=0;for(;;)try{const X=yield A._openDb();return yield m(X)}catch(X){if(H++>3)throw X;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,E.Z)(function*(){return Ms()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,E.Z)(function*(){m.receiver=qo._getInstance(Ms()?self:null),m.receiver._subscribe("keyChanged",function(){var A=(0,E.Z)(function*(H,X){return{keyProcessed:(yield m._poll()).includes(X.key)}});return function(H,X){return A.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var A=(0,E.Z)(function*(H,X){return["keyChanged"]});return function(H,X){return A.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,E.Z)(function*(){var A,H;if(m.activeServiceWorker=yield function(){return V.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ei(m.activeServiceWorker);const X=yield m.sender._send("ping",{},800);!X||(null===(A=X[0])||void 0===A?void 0:A.fulfilled)&&(null===(H=X[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var A=this;return(0,E.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:m},A.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,E.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Tt();return yield qt(m,Rs,"1"),yield ut(m,Rs),!0}catch(m){}return!1})()}_withPendingWrite(m){var A=this;return(0,E.Z)(function*(){A.pendingWrites++;try{yield m()}finally{A.pendingWrites--}})()}_set(m,A){var H=this;return(0,E.Z)(function*(){return H._withPendingWrite((0,E.Z)(function*(){return yield H._withRetries(X=>qt(X,m,A)),H.localCache[m]=A,H.notifyServiceWorker(m)}))})()}_get(m){var A=this;return(0,E.Z)(function*(){const H=yield A._withRetries(X=>function(D,g){return an.apply(this,arguments)}(X,m));return A.localCache[m]=H,H})()}_remove(m){var A=this;return(0,E.Z)(function*(){return A._withPendingWrite((0,E.Z)(function*(){return yield A._withRetries(H=>ut(H,m)),delete A.localCache[m],A.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,E.Z)(function*(){const A=yield m._withRetries(Ue=>{const it=He(Ue,!1).getAll();return new _e(it).toPromise()});if(!A)return[];if(0!==m.pendingWrites)return[];const H=[],X=new Set;for(const{fbase_key:Ue,value:it}of A)X.add(Ue),JSON.stringify(m.localCache[Ue])!==JSON.stringify(it)&&(m.notifyListeners(Ue,it),H.push(Ue));for(const Ue of Object.keys(m.localCache))m.localCache[Ue]&&!X.has(Ue)&&(m.notifyListeners(Ue,null),H.push(Ue));return H})()}notifyListeners(m,A){this.localCache[m]=A;const H=this.listeners[m];if(H)for(const X of Array.from(H))X(A)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,E.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(A)}_removeListener(m,A){this.listeners[m]&&(this.listeners[m].delete(A),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Jt(D,g){return ge(D,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:D.tenantId},g))}function I(){return(I=(0,E.Z)(function*(D){return(yield ge(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function O(D){return new Promise((g,m)=>{const A=document.createElement("script");A.setAttribute("src",D),A.onload=g,A.onerror=H=>{const X=Me("internal-error");X.customData=H,m(X)},A.type="text/javascript",A.charset="UTF-8",function(){var D,g;return null!==(g=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==g?g:document}().appendChild(A)})}function j(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Ie=1e12;class pt{constructor(g){this.auth=g,this.counter=Ie,this._widgets=new Map}render(g,m){const A=this.counter;return this._widgets.set(A,new Zt(g,this.auth.name,m||{})),this.counter++,A}reset(g){var m;const A=g||Ie;null===(m=this._widgets.get(A))||void 0===m||m.delete(),this._widgets.delete(A)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ie))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,E.Z)(function*(){var A;return null===(A=m._widgets.get(g||Ie))||void 0===A||A.execute(),""})()}}class Zt{constructor(g,m,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof g?document.getElementById(g):g;Ye(H,"argument-error",{appName:m}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<50;A++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(A){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(A){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mt=j("rcb"),zt=new Nt(3e4,6e4);class zn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Gr().grecaptcha}load(g,m=""){return Ye((D=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Gr().grecaptcha):new Promise((A,H)=>{const X=Gr().setTimeout(()=>{H(Me(g,"network-request-failed"))},zt.get());Gr()[Mt]=()=>{Gr().clearTimeout(X),delete Gr()[Mt];const it=Gr().grecaptcha;if(!it)return void H(Me(g,"internal-error"));const Ft=it.render;it.render=(Kt,ln)=>{const rn=Ft(Kt,ln);return this.counter++,rn},this.hostLanguage=m,A(it)},O(`https://www.google.com/recaptcha/api.js??${(0,ne.xO)({onload:Mt,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(X),H(Me(g,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Gr().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xn{load(g){return(0,E.Z)(function*(){return new pt(g)})()}clearedOneInstance(){}}const hn="recaptcha",Yn={theme:"light",type:"image"};class Ji{constructor(g,m=Object.assign({},Yn),A){this.parameters=m,this.type=hn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=In(A),this.isInvisible="invisible"===this.parameters.size,Ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof g?document.getElementById(g):g;Ye(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xn:new zn,this.validateStartingState()}verify(){var g=this;return(0,E.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(m)||new Promise(X=>{const Ue=it=>{!it||(g.tokenChangeListeners.delete(Ue),X(it))};g.tokenChangeListeners.add(Ue),g.isInvisible&&A.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Ye(!this.parameters.sitekey,this.auth,"argument-error"),Ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(A=>A(m)),"function"==typeof g)g(m);else if("string"==typeof g){const A=Gr()[g];"function"==typeof A&&A(m)}}}assertNotDestroyed(){Ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,E.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const A=document.createElement("div");m.appendChild(A),m=A}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,E.Z)(function*(){Ye(le()&&!Ms(),g.auth,"internal-error"),yield function(){let D=null;return new Promise(g=>{"complete"!==document.readyState?(D=()=>g(),window.addEventListener("load",D)):g()}).catch(g=>{throw D&&window.removeEventListener("load",D),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(D){return I.apply(this,arguments)}(g.auth);Ye(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=ns._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function No(){return(No=(0,E.Z)(function*(D,g,m){const A=In(D),H=yield Kc(A,g,(0,ne.m9)(m));return new Ys(H,X=>bt(A,X))})).apply(this,arguments)}function Aa(){return(Aa=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D);yield U(!1,A,"phone");const H=yield Kc(A.auth,g,(0,ne.m9)(m));return new Ys(H,X=>P(A,X))})).apply(this,arguments)}function Ai(){return(Ai=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D),H=yield Kc(A.auth,g,(0,ne.m9)(m));return new Ys(H,X=>z(A,X))})).apply(this,arguments)}function Kc(D,g,m){return pa.apply(this,arguments)}function pa(){return(pa=(0,E.Z)(function*(D,g,m){var A;const H=yield m.verify();try{let X;if(Ye("string"==typeof H,D,"argument-error"),Ye(m.type===hn,D,"argument-error"),X="string"==typeof g?{phoneNumber:g}:g,"session"in X){const Ue=X.session;if("phoneNumber"in X)return Ye("enroll"===Ue.type,D,"internal-error"),(yield Go(D,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:X.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Ye("signin"===Ue.type,D,"internal-error");const it=(null===(A=X.multiFactorHint)||void 0===A?void 0:A.uid)||X.multiFactorUid;return Ye(it,D,"missing-multi-factor-info"),(yield Jt(D,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:it,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield es(D,{phoneNumber:X.phoneNumber,recaptchaToken:H});return Ue}}finally{m._reset()}})).apply(this,arguments)}function ru(){return(ru=(0,E.Z)(function*(D,g){yield yi((0,ne.m9)(D),g)})).apply(this,arguments)}let Mu=(()=>{class D{constructor(m){this.providerId=D.PROVIDER_ID,this.auth=In(m)}verifyPhoneNumber(m,A){return Kc(this.auth,m,(0,ne.m9)(A))}static credential(m,A){return ns._fromVerification(m,A)}static credentialFromResult(m){return D.credentialFromTaggedObject(m)}static credentialFromError(m){return D.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:A,temporaryProof:H}=m;return A&&H?ns._fromTokenResponse(A,H):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function iu(D,g){return g?Ge(g):(Ye(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Ou extends kn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return _r(g,this._buildIdpRequest())}_linkToIdToken(g,m){return _r(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return _r(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Pu(D){return De(D.auth,new Ou(D),D.bypassAuthState)}function Sa(D){const{auth:g,user:m}=D;return Ye(m,g,"internal-error"),B(m,new Ou(D),D.bypassAuthState)}function Hf(D){return $t.apply(this,arguments)}function $t(){return($t=(0,E.Z)(function*(D){const{auth:g,user:m}=D;return Ye(m,g,"internal-error"),yi(m,new Ou(D),D.bypassAuthState)})).apply(this,arguments)}class xo{constructor(g,m,A,H,X=!1){this.auth=g,this.resolver=A,this.user=H,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,E.Z)(function*(A,H){g.pendingPromise={resolve:A,reject:H};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(X){g.reject(X)}});return function(A,H){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,E.Z)(function*(){const{urlResponse:A,sessionId:H,postBody:X,tenantId:Ue,error:it,type:Ft}=g;if(it)return void m.reject(it);const Kt={auth:m.auth,requestUri:A,sessionId:H,tenantId:Ue||void 0,postBody:X||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ft)(Kt))}catch(ln){m.reject(ln)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Pu;case"linkViaPopup":case"linkViaRedirect":return Hf;case"reauthViaPopup":case"reauthViaRedirect":return Sa;default:st(this.auth,"internal-error")}}resolve(g){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qs=new Nt(2e3,1e4);function Na(){return(Na=(0,E.Z)(function*(D,g,m){const A=In(D);Ye(g instanceof Li,D,"argument-error");const H=iu(A,m);return new po(A,"signInViaPopup",g,H).executeNotNull()})).apply(this,arguments)}function Os(){return(Os=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D);Ye(g instanceof Li,A.auth,"argument-error");const H=iu(A.auth,m);return new po(A.auth,"reauthViaPopup",g,H,A).executeNotNull()})).apply(this,arguments)}function fo(){return(fo=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D);Ye(g instanceof Li,A.auth,"argument-error");const H=iu(A.auth,m);return new po(A.auth,"linkViaPopup",g,H,A).executeNotNull()})).apply(this,arguments)}let po=(()=>{class D extends xo{constructor(m,A,H,X,Ue){super(m,A,X,Ue),this.provider=H,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var m=this;return(0,E.Z)(function*(){const A=yield m.execute();return Ye(A,m.auth,"internal-error"),A})()}onExecution(){var m=this;return(0,E.Z)(function*(){Pt(1===m.filter.length,"Popup operations only handle one event");const A=Ks();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],A),m.authWindow.associatedEvent=A,m.resolver._originValidation(m.auth).catch(H=>{m.reject(H)}),m.resolver._isIframeWebStorageSupported(m.auth,H=>{H||m.reject(Me(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const m=()=>{var A,H;this.pollId=(null===(H=null===(A=this.authWindow)||void 0===A?void 0:A.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Qs.get())};m()}}return D.currentPopupAction=null,D})();const oc=new Map;class Xd extends xo{constructor(g,m,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,E.Z)(function*(){let A=oc.get(m.auth._key());if(!A){try{const X=(yield function(D,g){return Fu.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;A=()=>Promise.resolve(X)}catch(H){A=()=>Promise.reject(H)}oc.set(m.auth._key(),A)}return A()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,A=this;return(0,E.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(A,g);if("unknown"!==g.type){if(g.eventId){const H=yield A.auth._redirectUserForId(g.eventId);if(H)return A.user=H,m().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,E.Z)(function*(){})()}cleanUp(){}}function Fu(){return(Fu=(0,E.Z)(function*(D,g){const m=eh(g),A="true"===(yield xa(D)._get(m));return yield xa(D)._remove(m),A})).apply(this,arguments)}function Ni(D,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,E.Z)(function*(D,g){return xa(D)._set(eh(g),"true")})).apply(this,arguments)}function xa(D){return Ge(D._redirectPersistence)}function eh(D){return bn("pendingRedirect",D.config.apiKey,D.name)}function Vu(){return(Vu=(0,E.Z)(function*(D,g,m){const A=In(D);Ye(g instanceof Li,D,"argument-error");const H=iu(A,m);return yield Ni(H,A),H._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Qc(){return(Qc=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D);Ye(g instanceof Li,A.auth,"argument-error");const H=iu(A.auth,m);yield Ni(H,A.auth);const X=yield th(A);return H._openRedirect(A.auth,g,"reauthViaRedirect",X)})).apply(this,arguments)}function Uu(){return(Uu=(0,E.Z)(function*(D,g,m){const A=(0,ne.m9)(D);Ye(g instanceof Li,A.auth,"argument-error");const H=iu(A.auth,m);yield U(!1,A,g.providerId),yield Ni(H,A.auth);const X=yield th(A);return H._openRedirect(A.auth,g,"linkViaRedirect",X)})).apply(this,arguments)}function su(){return(su=(0,E.Z)(function*(D,g){return yield In(D)._initializationPromise,Bu(D,g,!1)})).apply(this,arguments)}function Bu(D,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,E.Z)(function*(D,g,m=!1){const A=In(D),H=iu(A,g),Ue=yield new Xd(A,H,m).execute();return Ue&&!m&&(delete Ue.user._redirectEventId,yield A._persistUserIfCurrent(Ue.user),yield A._setRedirectUser(null,g)),Ue})).apply(this,arguments)}function th(D){return ou.apply(this,arguments)}function ou(){return(ou=(0,E.Z)(function*(D){const g=Ks(`${D.uid}:::`);return D._redirectEventId=g,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),g})).apply(this,arguments)}class ga{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(m=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wl(D);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var A;if(g.error&&!wl(g)){const H=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";m.onError(Me(this.auth,H))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const A=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gf(g))}saveEventToCache(g){this.cachedEventUids.add(Gf(g)),this.lastProcessedEventTime=Date.now()}}function Gf(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(g=>g).join("-")}function wl({type:D,error:g}){return"unknown"===D&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Ds(D){return lc.apply(this,arguments)}function lc(){return(lc=(0,E.Z)(function*(D,g={}){return ge(D,"GET","/v1/projects",g)})).apply(this,arguments)}const jr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cl=/^https?/;function Ro(){return(Ro=(0,E.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:g}=yield Ds(D);for(const m of g)try{if(au(m))return}catch(A){}st(D,"unauthorized-domain")})).apply(this,arguments)}function au(D){const g=et(),{protocol:m,hostname:A}=new URL(g);if(D.startsWith("chrome-extension://")){const Ue=new URL(D);return""===Ue.hostname&&""===A?"chrome-extension:"===m&&D.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Ue.hostname===A}if(!Cl.test(m))return!1;if(jr.test(D))return A===D;const H=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(A)}const ed=new Nt(3e4,6e4);function Ma(){const D=Gr().___jsl;if(null==D?void 0:D.H)for(const g of Object.keys(D.H))if(D.H[g].r=D.H[g].r||[],D.H[g].L=D.H[g].L||[],D.H[g].r=[...D.H[g].L],D.CP)for(let m=0;m<D.CP.length;m++)D.CP[m]=null}let cc=null;function Wo(D){return cc=cc||function(D){return new Promise((g,m)=>{var A,H,X;function Ue(){Ma(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Ma(),m(Me(D,"network-request-failed"))},timeout:ed.get()})}if(null===(H=null===(A=Gr().gapi)||void 0===A?void 0:A.iframes)||void 0===H?void 0:H.Iframe)g(gapi.iframes.getContext());else{if(!(null===(X=Gr().gapi)||void 0===X?void 0:X.load)){const it=j("iframefcb");return Gr()[it]=()=>{gapi.load?Ue():m(Me(D,"network-request-failed"))},O(`https://apis.google.com/js/api.js?onload=${it}`)}Ue()}}).catch(g=>{throw cc=null,g})}(D),cc}const Ko=new Nt(5e3,15e3),nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},rh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(D){const g=D.config;Ye(g.authDomain,D,"auth-domain-config-required");const m=g.emulator?xt(g,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:D.name,v:Se.SDK_VERSION},H=rh.get(D.config.apiHost);H&&(A.eid=H);const X=D._getFrameworks();return X.length&&(A.fw=X.join(",")),`${m}?${(0,ne.xO)(A).slice(1)}`}function Il(){return(Il=(0,E.Z)(function*(D){const g=yield Wo(D),m=Gr().gapi;return Ye(m,D,"internal-error"),g.open({where:document.body,url:dc(D),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nh,dontclear:!0},A=>new Promise(function(){var H=(0,E.Z)(function*(X,Ue){yield A.restyle({setHideOnLeave:!1});const it=Me(D,"network-request-failed"),Ft=Gr().setTimeout(()=>{Ue(it)},Ko.get());function Kt(){Gr().clearTimeout(Ft),X(A)}A.ping(Kt).then(Kt,()=>{Ue(it)})});return function(X,Ue){return H.apply(this,arguments)}}()))})).apply(this,arguments)}const hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function fc(D,g,m,A,H,X){Ye(D.config.authDomain,D,"auth-domain-config-required"),Ye(D.config.apiKey,D,"invalid-api-key");const Ue={apiKey:D.config.apiKey,appName:D.name,authType:m,redirectUrl:A,v:Se.SDK_VERSION,eventId:H};if(g instanceof Li){g.setDefaultLanguage(D.languageCode),Ue.providerId=g.providerId||"",(0,ne.xb)(g.getCustomParameters())||(Ue.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ft,Kt]of Object.entries(X||{}))Ue[Ft]=Kt}if(g instanceof rs){const Ft=g.getScopes().filter(Kt=>""!==Kt);Ft.length>0&&(Ue.scopes=Ft.join(","))}D.tenantId&&(Ue.tid=D.tenantId);const it=Ue;for(const Ft of Object.keys(it))void 0===it[Ft]&&delete it[Ft];return`${function({config:D}){return D.emulator?xt(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,ne.xO)(it).slice(1)}`}const Yo="webStorageSupport";class zu extends class{constructor(g){this.factorId=g}_process(g,m,A){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,A);case"signin":return this._finalizeSignIn(g,m.credential);default:return cn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new zu(g)}_finalizeEnroll(g,m,A){return function(D,g){return ge(D,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:D.tenantId},g))}(g,{idToken:m,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(D,g){return ge(D,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:D.tenantId},g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class rd{constructor(){}static assertion(g){return zu._fromCredential(g)}}var D;class sh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,E.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(A=>{var H;g((null===(H=A)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ps(){return window}function gc(){return(gc=(0,E.Z)(function*(D,g,m){var A;const{BuildInfo:H}=Ps();Pt(g.sessionId,"AuthEvent did not contain a session ID");const X=yield lh(g.sessionId),Ue={};return Lr()?Ue.ibi=H.packageName:pi()?Ue.apn=H.packageName:st(D,"operation-not-supported-in-this-environment"),H.displayName&&(Ue.appDisplayName=H.displayName),Ue.sessionId=X,fc(D,m,g.type,void 0,null!==(A=g.eventId)&&void 0!==A?A:void 0,Ue)})).apply(this,arguments)}function eo(){return(eo=(0,E.Z)(function*(D){const{BuildInfo:g}=Ps(),m={};Lr()?m.iosBundleId=g.packageName:pi()?m.androidPackageName=g.packageName:st(D,"operation-not-supported-in-this-environment"),yield Ds(D,m)})).apply(this,arguments)}function nr(){return(nr=(0,E.Z)(function*(D,g,m){const{cordova:A}=Ps();let H=()=>{};try{yield new Promise((X,Ue)=>{let it=null;function Ft(){var rn;X();const Hr=null===(rn=A.plugins.browsertab)||void 0===rn?void 0:rn.close;"function"==typeof Hr&&Hr(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Kt(){it||(it=window.setTimeout(()=>{Ue(Me(D,"redirect-cancelled-by-user"))},2e3))}function ln(){"visible"===(null==document?void 0:document.visibilityState)&&Kt()}g.addPassiveListener(Ft),document.addEventListener("resume",Kt,!1),pi()&&document.addEventListener("visibilitychange",ln,!1),H=()=>{g.removePassiveListener(Ft),document.removeEventListener("resume",Kt,!1),document.removeEventListener("visibilitychange",ln,!1),it&&window.clearTimeout(it)}})}finally{H()}})).apply(this,arguments)}function lh(D){return di.apply(this,arguments)}function di(){return(di=(0,E.Z)(function*(D){const g=mc(D),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mc(D){if(Pt(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const g=new ArrayBuffer(D.length),m=new Uint8Array(g);for(let A=0;A<D.length;A++)m[A]=D.charCodeAt(A);return m}D="Browser",(0,Se._registerComponent)(new ke.wA("auth",(g,{options:m})=>{const A=g.getProvider("app").getImmediate(),{apiKey:H,authDomain:X}=A.options;return(Ue=>{Ye(H&&!H.includes(":"),"invalid-api-key",{appName:Ue.name}),Ye(!(null==X?void 0:X.includes(":")),"argument-error",{appName:Ue.name});const it={apiKey:H,authDomain:X,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wr(D)},Ft=new Xr(Ue,it);return function(D,g){const m=(null==g?void 0:g.persistence)||[],A=(Array.isArray(m)?m:[m]).map(Ge);(null==g?void 0:g.errorMap)&&D._updateErrorMap(g.errorMap),D._initializeWithPersistence(A,null==g?void 0:g.popupRedirectResolver)}(Ft,m),Ft})(A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,A)=>{g.getProvider("auth-internal").initialize()})),(0,Se._registerComponent)(new ke.wA("auth-internal",g=>{const m=In(g.getProvider("auth").getImmediate());return new sh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Se.registerVersion)("@firebase/auth","0.17.1",void 0);class si extends ga{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,E.Z)(function*(){yield g.initPromise})()}}function to(D){return dh.apply(this,arguments)}function dh(){return(dh=(0,E.Z)(function*(D){const g=yield Nl()._get(mo(D));return g&&(yield Nl()._remove(mo(D))),g})).apply(this,arguments)}function Sl(){const D=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const A=Math.floor(Math.random()*g.length);D.push(g.charAt(A))}return D.join("")}function Nl(){return Ge(li)}function mo(D){return bn("authEvent",D.config.apiKey,D.name)}function Oa(D){if(!(null==D?void 0:D.includes("?")))return{};const[g,...m]=D.split("?");return(0,ne.zd)(m.join("?"))}function fh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Ec(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function gh(D=(0,ne.z$)()){return!("file:"!==Ec()&&"ionic:"!==Ec()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const D=self.localStorage,g=Ks();if(D)return D.setItem(g,"1"),D.removeItem(g),!function(D=(0,ne.z$)()){return(0,ne.w1)()&&11===(null==document?void 0:document.documentMode)||function(D=(0,ne.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,ne.hl)()}catch(D){return Yu()&&(0,ne.hl)()}return!1}function Yu(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qu(){return("http:"===Ec()||"https:"===Ec()||(0,ne.ru)()||gh())&&!((0,ne.b$)()||(0,ne.UG)())&&oi()&&!Yu()}function Ju(){return gh()&&"undefined"!=typeof document}function Xu(){return(Xu=(0,E.Z)(function*(){return!!Ju()&&new Promise(D=>{const g=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),D(!0)})})})).apply(this,arguments)}const ks={LOCAL:"local",NONE:"none",SESSION:"session"},Mo=Ye,bc="persistence";function wc(D){return ld.apply(this,arguments)}function ld(){return(ld=(0,E.Z)(function*(D){yield D._initializationPromise;const g=Rl(),m=bn(bc,D.config.apiKey,D.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,D._getPersistence())})).apply(this,arguments)}function Rl(){return"undefined"!=typeof window?window:null}const Jf=Ye;class du{constructor(){this.browserResolver=Ge(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=Bu}_openPopup(g,m,A,H){var X=this;return(0,E.Z)(function*(){var Ue;Pt(null===(Ue=X.eventManagers[g._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const it=fc(g,m,A,et(),H);return function(D,g,m,A=500,H=600){const X=Math.max((window.screen.availHeight-H)/2,0).toString(),Ue=Math.max((window.screen.availWidth-A)/2,0).toString();let it="";const Ft=Object.assign(Object.assign({},hc),{width:A.toString(),height:H.toString(),top:X,left:Ue}),Kt=(0,ne.z$)().toLowerCase();m&&(it=Jr(Kt)?"_blank":m),jn(Kt)&&(g=g||"http://localhost",Ft.scrollbars="yes");const ln=Object.entries(Ft).reduce((Hr,[xi,yo])=>`${Hr}${xi}=${yo},`,"");if(function(D=(0,ne.z$)()){var g;return Lr(D)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Kt)&&"_self"!==it)return function(D,g){const m=document.createElement("a");m.href=D,m.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(A)}(g||"",it),new uu(null);const rn=window.open(g||"",it,ln);Ye(rn,D,"popup-blocked");try{rn.focus()}catch(Hr){}return new uu(rn)}(g,it,Ks())})()}_openRedirect(g,m,A,H){var X=this;return(0,E.Z)(function*(){return yield X._originValidation(g),D=fc(g,m,A,et(),H),Gr().location.href=D,new Promise(()=>{});var D})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:H,promise:X}=this.eventManagers[m];return H?Promise.resolve(H):(Pt(X,"If manager is not set, promise should be"),X)}const A=this.initAndGetManager(g);return this.eventManagers[m]={promise:A},A}initAndGetManager(g){var m=this;return(0,E.Z)(function*(){const A=yield function(D){return Il.apply(this,arguments)}(g),H=new ga(g);return A.register("authEvent",X=>(Ye(null==X?void 0:X.authEvent,g,"invalid-auth-event"),{status:H.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:H},m.iframes[g._key()]=A,H})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Yo,{type:Yo},H=>{var X;const Ue=null===(X=null==H?void 0:H[0])||void 0===X?void 0:X[Yo];void 0!==Ue&&m(!!Ue),st(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(D){return Ro.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Vr()||Qr()||Lr()}}),this.cordovaResolver=Ge(class{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bu}_initialize(g){var m=this;return(0,E.Z)(function*(){const A=g._key();let H=m.eventManagers.get(A);return H||(H=new si(g),m.eventManagers.set(A,H),m.attachCallbackListeners(g,H)),H})()}_openPopup(g){st(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,A,H){var X=this;return(0,E.Z)(function*(){!function(D){var g,m,A,H,X,Ue,it,Ft,Kt,ln;const rn=Ps();Ye("function"==typeof(null===(g=null==rn?void 0:rn.universalLinks)||void 0===g?void 0:g.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ye(void 0!==(null===(m=null==rn?void 0:rn.BuildInfo)||void 0===m?void 0:m.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ye("function"==typeof(null===(X=null===(H=null===(A=null==rn?void 0:rn.cordova)||void 0===A?void 0:A.plugins)||void 0===H?void 0:H.browsertab)||void 0===X?void 0:X.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ye("function"==typeof(null===(Ft=null===(it=null===(Ue=null==rn?void 0:rn.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===it?void 0:it.browsertab)||void 0===Ft?void 0:Ft.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ye("function"==typeof(null===(ln=null===(Kt=null==rn?void 0:rn.cordova)||void 0===Kt?void 0:Kt.InAppBrowser)||void 0===ln?void 0:ln.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Ue=yield X._initialize(g);yield Ue.initialized(),Ue.resetRedirect(),oc.clear(),yield X._originValidation(g);const it=function(D,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:Sl(),postBody:null,tenantId:D.tenantId,error:Me(D,"no-auth-event")}}(g,A,H);yield function(D,g){return Nl()._set(mo(D),g)}(g,it);const Ft=yield function(D,g,m){return gc.apply(this,arguments)}(g,it,m),Kt=yield function(D){const{cordova:g}=Ps();return new Promise(m=>{g.plugins.browsertab.isAvailable(A=>{let H=null;A?g.plugins.browsertab.openUrl(D):H=g.InAppBrowser.open(D,function(D=(0,ne.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),m(H)})})}(Ft);return function(D,g,m){return nr.apply(this,arguments)}(g,Ue,Kt)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(D){return eo.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:A,handleOpenURL:H,BuildInfo:X}=Ps(),Ue=setTimeout((0,E.Z)(function*(){yield to(g),m.onEvent(fh())}),500),it=function(){var ln=(0,E.Z)(function*(rn){clearTimeout(Ue);const Hr=yield to(g);let xi=null;Hr&&(null==rn?void 0:rn.url)&&(xi=function(D,g){var m,A;const H=function(D){const g=Oa(D),m=g.link?decodeURIComponent(g.link):void 0,A=Oa(m).link,H=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Oa(H).link||H||A||m||D}(g);if(H.includes("/__/auth/callback")){const X=Oa(H),Ue=X.firebaseError?function(D){try{return JSON.parse(D)}catch(g){return null}}(decodeURIComponent(X.firebaseError)):null,it=null===(A=null===(m=null==Ue?void 0:Ue.code)||void 0===m?void 0:m.split("auth/"))||void 0===A?void 0:A[1],Ft=it?Me(it):null;return Ft?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:H,postBody:null}}return null}(Hr,rn.url)),m.onEvent(xi||fh())});return function(Hr){return ln.apply(this,arguments)}}();void 0!==A&&"function"==typeof A.subscribe&&A.subscribe(null,it);const Ft=H,Kt=`${X.packageName.toLowerCase()}://`;Ps().handleOpenURL=function(){var ln=(0,E.Z)(function*(rn){if(rn.toLowerCase().startsWith(Kt)&&it({url:rn}),"function"==typeof Ft)try{Ft(rn)}catch(Hr){console.error(Hr)}});return function(rn){return ln.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=Bu}_initialize(g){var m=this;return(0,E.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,A,H){var X=this;return(0,E.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openPopup(g,m,A,H)})()}_openRedirect(g,m,A,H){var X=this;return(0,E.Z)(function*(){return yield X.selectUnderlyingResolver(),X.assertedUnderlyingResolver._openRedirect(g,m,A,H)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ju()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Jf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,E.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return Xu.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function hu(D){return D.unwrap()}function Cc(D){return Tc(D)}function vh(D,g){var m;const A=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new el(D,function(D,g){var m;const A=(0,ne.m9)(D),H=g;return Ye(g.operationType,A,"argument-error"),Ye(null===(m=H.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,A,"argument-error"),Ir._fromError(A,H)}(D,g));else if(A){const H=Tc(g),X=g;H&&(X.credential=H,X.tenantId=A.tenantId||void 0,X.email=A.email||void 0,X.phoneNumber=A.phoneNumber||void 0)}}function Tc(D){const{_tokenResponse:g}=D instanceof ne.ZR?D.customData:D;if(!g)return null;if(!(D instanceof ne.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Mu.credentialFromResult(D);const m=g.providerId;if(!m||"password"===m)return null;let A;switch(m){case"google.com":A=is;break;case"facebook.com":A=oo;break;case"github.com":A=ys;break;case"twitter.com":A=Zs;break;default:const{oauthIdToken:H,oauthAccessToken:X,oauthTokenSecret:Ue,pendingToken:it,nonce:Ft}=g;return X||Ue||H||it?it?m.startsWith("saml.")?ti._create(m,it):wr._fromParams({providerId:m,signInMethod:m,pendingToken:it,idToken:H,accessToken:X}):new Ii(m).credential({idToken:H,accessToken:X,rawNonce:Ft}):null}return D instanceof ne.ZR?A.credentialFromError(D):A.credentialFromResult(D)}function vr(D,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,E.Z)(function*(D,g){let m;try{m=yield g}catch(X){throw X instanceof ne.ZR&&vh(D,X),X}const{operationType:A,user:H}=m;return{operationType:A,credential:Cc(m),additionalUserInfo:uo(m),user:As.getOrCreate(H)}})).apply(this,arguments)}function Ml(D,g){return cd.apply(this,arguments)}function cd(){return(cd=(0,E.Z)(function*(D,g){const m=yield g;return{verificationId:m.verificationId,confirm:A=>vr(D,m.confirm(A))}})).apply(this,arguments)}class el{constructor(g,m){this.resolver=m,this.auth=function(D){return D.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return vr(hu(this.auth),this.resolver.resolveSignIn(g))}}class As{constructor(g){this._delegate=g,this.multiFactor=function(D){const g=(0,ne.m9)(D);return da.has(g)||da.set(g,So._fromUser(g)),da.get(g)}(g)}static getOrCreate(g){return As.USER_MAP.has(g)||As.USER_MAP.set(g,new As(g)),As.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,E.Z)(function*(){return vr(m.auth,P(m._delegate,g))})()}linkWithPhoneNumber(g,m){var A=this;return(0,E.Z)(function*(){return Ml(A.auth,function(D,g,m){return Aa.apply(this,arguments)}(A._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,E.Z)(function*(){return vr(m.auth,function(D,g,m){return fo.apply(this,arguments)}(m._delegate,g,du))})()}linkWithRedirect(g){var m=this;return(0,E.Z)(function*(){return yield wc(In(m.auth)),function(D,g,m){return function(D,g,m){return Uu.apply(this,arguments)}(D,g,m)}(m._delegate,g,du)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,E.Z)(function*(){return vr(m.auth,z(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return Ml(this.auth,function(D,g,m){return Ai.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return vr(this.auth,function(D,g,m){return Os.apply(this,arguments)}(this._delegate,g,du))}reauthenticateWithRedirect(g){var m=this;return(0,E.Z)(function*(){return yield wc(In(m.auth)),function(D,g,m){return function(D,g,m){return Qc.apply(this,arguments)}(D,g,m)}(m._delegate,g,du)})()}sendEmailVerification(g){return function(D,g){return Ya.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,E.Z)(function*(){return yield function(D,g){return vs.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(D,g){return Or((0,ne.m9)(D),g,null)}(this._delegate,g)}updatePassword(g){return function(D,g){return Or((0,ne.m9)(D),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(D,g){return ru.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(D,g){return Yi.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(D,g,m){return ws.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}As.USER_MAP=new WeakMap;const Ol=Ye;let dd=(()=>{class D{constructor(m,A){if(this.app=m,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=m.options;Ol(H,"invalid-api-key",{appName:m.name});let X=[Nn];if("undefined"!=typeof window){X=function(D,g){const m=Rl();if(!(null==m?void 0:m.sessionStorage))return[];const A=bn(bc,D,g);switch(m.sessionStorage.getItem(A)){case ks.NONE:return[Nn];case ks.LOCAL:return[Ht,us];case ks.SESSION:return[us];default:return[]}}(H,m.name);for(const it of[Ht,li,us])X.includes(it)||X.push(it)}Ol(H,"invalid-api-key",{appName:m.name});const Ue="undefined"!=typeof window?du:void 0;this._delegate=A.initialize({options:{persistence:X,popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?As.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,A){!function(D,g,m){const A=In(D);Ye(A._canInitEmulator,A,"emulator-config-failed"),Ye(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const H=!!(null==m?void 0:m.disableWarnings),X=Rt(g),{host:Ue,port:it}=function(D){const g=Rt(D),m=/(\/\/)?([^?#/]+)/.exec(D.substr(g.length));if(!m)return{host:"",port:null};const A=m[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(A);if(H){const X=H[1];return{host:X,port:Pn(A.substr(X.length+1))}}{const[X,Ue]=A.split(":");return{host:X,port:Pn(Ue)}}}(g);A.config.emulator={url:`${X}//${Ue}${null===it?"":`:${it}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ue,port:it,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:H})}),function(D){function g(){const m=document.createElement("p"),A=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",A.position="fixed",A.width="100%",A.backgroundColor="#ffffff",A.border=".1em solid #000000",A.color="#b50000",A.bottom="0px",A.left="0px",A.margin="0px",A.zIndex="10000",A.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!D&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}(H)}(this._delegate,m,A)}applyActionCode(m){return function(D,g){return on.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Du(this._delegate,m)}confirmPasswordReset(m,A){return function(D,g,m){return To.apply(this,arguments)}(this._delegate,m,A)}createUserWithEmailAndPassword(m,A){var H=this;return(0,E.Z)(function*(){return vr(H._delegate,function(D,g,m){return Au.apply(this,arguments)}(H._delegate,m,A))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(D,g){return ji.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(D,g){const m=mi.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,E.Z)(function*(){Ol(Qu(),m._delegate,"operation-not-supported-in-this-environment");const A=yield function(D,g){return su.apply(this,arguments)}(m._delegate,du);return A?vr(m._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(D,g){In(D)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,A,H){const{next:X,error:Ue,complete:it}=Eh(m,A,H);return this._delegate.onAuthStateChanged(X,Ue,it)}onIdTokenChanged(m,A,H){const{next:X,error:Ue,complete:it}=Eh(m,A,H);return this._delegate.onIdTokenChanged(X,Ue,it)}sendSignInLinkToEmail(m,A){return function(D,g,m){return Hn.apply(this,arguments)}(this._delegate,m,A)}sendPasswordResetEmail(m,A){return function(D,g,m){return Es.apply(this,arguments)}(this._delegate,m,A||void 0)}setPersistence(m){var A=this;return(0,E.Z)(function*(){let H;switch(function(D,g){Mo(Object.values(ks).includes(g),D,"invalid-persistence-type"),(0,ne.b$)()?Mo(g!==ks.SESSION,D,"unsupported-persistence-type"):(0,ne.UG)()?Mo(g===ks.NONE,D,"unsupported-persistence-type"):Yu()?Mo(g===ks.NONE||g===ks.LOCAL&&(0,ne.hl)(),D,"unsupported-persistence-type"):Mo(g===ks.NONE||oi(),D,"unsupported-persistence-type")}(A._delegate,m),m){case ks.SESSION:H=us;break;case ks.LOCAL:H=(yield Ge(Ht)._isAvailable())?Ht:li;break;case ks.NONE:H=Nn;break;default:return st("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return vr(this._delegate,function(D){return Gs.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return vr(this._delegate,bt(this._delegate,m))}signInWithCustomToken(m){return vr(this._delegate,function(D,g){return er.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,A){return vr(this._delegate,function(D,g,m){return bt((0,ne.m9)(D),$s.credential(g,m))}(this._delegate,m,A))}signInWithEmailLink(m,A){return vr(this._delegate,function(D,g,m){return jo.apply(this,arguments)}(this._delegate,m,A))}signInWithPhoneNumber(m,A){return Ml(this._delegate,function(D,g,m){return No.apply(this,arguments)}(this._delegate,m,A))}signInWithPopup(m){var A=this;return(0,E.Z)(function*(){return Ol(Qu(),A._delegate,"operation-not-supported-in-this-environment"),vr(A._delegate,function(D,g,m){return Na.apply(this,arguments)}(A._delegate,m,du))})()}signInWithRedirect(m){var A=this;return(0,E.Z)(function*(){return Ol(Qu(),A._delegate,"operation-not-supported-in-this-environment"),yield wc(A._delegate),function(D,g,m){return function(D,g,m){return Vu.apply(this,arguments)}(D,g,m)}(A._delegate,m,du)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(D,g){return Ws.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=ks,D})();function Eh(D,g,m){let A=D;"function"!=typeof D&&({next:A,error:g,complete:m}=D);const H=A;return{next:Ue=>H(Ue&&As.getOrCreate(Ue)),error:g,complete:m}}class Pl{constructor(){this.providerId="phone",this._delegate=new Mu(hu(_.Z.auth()))}static credential(g,m){return Mu.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Pl.PHONE_SIGN_IN_METHOD=Mu.PHONE_SIGN_IN_METHOD,Pl.PROVIDER_ID=Mu.PROVIDER_ID;const Oo=Ye;class Xf{constructor(g,m,A=_.Z.app()){var H;Oo(null===(H=A.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Ji(g,m,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(D){D.INTERNAL.registerComponent(new ke.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),A=g.getProvider("auth");return new dd(m,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:$s,FacebookAuthProvider:oo,GithubAuthProvider:ys,GoogleAuthProvider:is,OAuthProvider:Ii,PhoneAuthProvider:Pl,PhoneMultiFactorGenerator:rd,RecaptchaVerifier:Xf,TwitterAuthProvider:Zs,Auth:dd,AuthCredential:kn,Error:ne.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.1.1")}(_.Z)},9344:(Bt,tt,G)=>{"use strict";G.d(tt,{Rh:()=>dn,_W:()=>le});var E=G(3018),_=G(7238),ne=G(9765),Se=G(9075),Ne=G(8583);const be=["toast-component",""];function ke(nt,at){if(1&nt){const ge=E.EpF();E.TgZ(0,"button",5),E.NdJ("click",function(){return E.CHM(ge),E.oxw().remove()}),E.TgZ(1,"span",6),E._uU(2,"\xd7"),E.qZA(),E.qZA()}}function ye(nt,at){if(1&nt&&(E.ynx(0),E._uU(1),E.BQk()),2&nt){const ge=E.oxw(2);E.xp6(1),E.hij("[",ge.duplicatesCount+1,"]")}}function ue(nt,at){if(1&nt&&(E.TgZ(0,"div"),E._uU(1),E.YNc(2,ye,2,1,"ng-container",4),E.qZA()),2&nt){const ge=E.oxw();E.Tol(ge.options.titleClass),E.uIk("aria-label",ge.title),E.xp6(1),E.hij(" ",ge.title," "),E.xp6(1),E.Q6J("ngIf",ge.duplicatesCount)}}function ee(nt,at){if(1&nt&&E._UZ(0,"div",7),2&nt){const ge=E.oxw();E.Tol(ge.options.messageClass),E.Q6J("innerHTML",ge.message,E.oJD)}}function ae(nt,at){if(1&nt&&(E.TgZ(0,"div",8),E._uU(1),E.qZA()),2&nt){const ge=E.oxw();E.Tol(ge.options.messageClass),E.uIk("aria-label",ge.message),E.xp6(1),E.hij(" ",ge.message," ")}}function me(nt,at){if(1&nt&&(E.TgZ(0,"div"),E._UZ(1,"div",9),E.qZA()),2&nt){const ge=E.oxw();E.xp6(1),E.Udp("width",ge.width+"%")}}function fe(nt,at){if(1&nt){const ge=E.EpF();E.TgZ(0,"button",5),E.NdJ("click",function(){return E.CHM(ge),E.oxw().remove()}),E.TgZ(1,"span",6),E._uU(2,"\xd7"),E.qZA(),E.qZA()}}function Ae(nt,at){if(1&nt&&(E.ynx(0),E._uU(1),E.BQk()),2&nt){const ge=E.oxw(2);E.xp6(1),E.hij("[",ge.duplicatesCount+1,"]")}}function qe(nt,at){if(1&nt&&(E.TgZ(0,"div"),E._uU(1),E.YNc(2,Ae,2,1,"ng-container",4),E.qZA()),2&nt){const ge=E.oxw();E.Tol(ge.options.titleClass),E.uIk("aria-label",ge.title),E.xp6(1),E.hij(" ",ge.title," "),E.xp6(1),E.Q6J("ngIf",ge.duplicatesCount)}}function $e(nt,at){if(1&nt&&E._UZ(0,"div",7),2&nt){const ge=E.oxw();E.Tol(ge.options.messageClass),E.Q6J("innerHTML",ge.message,E.oJD)}}function je(nt,at){if(1&nt&&(E.TgZ(0,"div",8),E._uU(1),E.qZA()),2&nt){const ge=E.oxw();E.Tol(ge.options.messageClass),E.uIk("aria-label",ge.message),E.xp6(1),E.hij(" ",ge.message," ")}}function yt(nt,at){if(1&nt&&(E.TgZ(0,"div"),E._UZ(1,"div",9),E.qZA()),2&nt){const ge=E.oxw();E.xp6(1),E.Udp("width",ge.width+"%")}}class st{constructor(at,ge,we,Dt,Gt,En){this.toastId=at,this.config=ge,this.message=we,this.title=Dt,this.toastType=Gt,this.toastRef=En,this._onTap=new ne.xQ,this._onAction=new ne.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(at){this._onAction.next(at)}onAction(){return this._onAction.asObservable()}}const Me={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},pe=new E.OlP("ToastConfig");class Ye{constructor(at,ge){this.component=at,this.injector=ge}attach(at,ge){return this._attachedHost=at,at.attach(this,ge)}detach(){const at=this._attachedHost;if(at)return this._attachedHost=void 0,at.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(at){this._attachedHost=at}}class Pt extends class{attach(at,ge){return this._attachedPortal=at,this.attachComponentPortal(at,ge)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(at){this._disposeFn=at}}{constructor(at,ge,we){super(),this._hostDomElement=at,this._componentFactoryResolver=ge,this._appRef=we}attachComponentPortal(at,ge){const we=this._componentFactoryResolver.resolveComponentFactory(at.component);let Dt;return Dt=we.create(at.injector),this._appRef.attachView(Dt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Dt.hostView),Dt.destroy()}),ge?this._hostDomElement.insertBefore(this._getComponentRootNode(Dt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Dt)),Dt}_getComponentRootNode(at){return at.hostView.rootNodes[0]}}let Oe=(()=>{class nt{constructor(ge){this._document=ge}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const ge=this._document.createElement("div");ge.classList.add("overlay-container"),this._document.body.appendChild(ge),this._containerElement=ge}}return nt.\u0275fac=function(ge){return new(ge||nt)(E.LFG(Ne.K0))},nt.\u0275prov=E.Yz7({factory:function(){return new nt(E.LFG(Ne.K0))},token:nt,providedIn:"root"}),nt})();class Ge{constructor(at){this._portalHost=at}attach(at,ge=!0){return this._portalHost.attach(at,ge)}detach(){return this._portalHost.detach()}}let Je=(()=>{class nt{constructor(ge,we,Dt,Gt){this._overlayContainer=ge,this._componentFactoryResolver=we,this._appRef=Dt,this._document=Gt,this._paneElements=new Map}create(ge,we){return this._createOverlayRef(this.getPaneElement(ge,we))}getPaneElement(ge="",we){return this._paneElements.get(we)||this._paneElements.set(we,{}),this._paneElements.get(we)[ge]||(this._paneElements.get(we)[ge]=this._createPaneElement(ge,we)),this._paneElements.get(we)[ge]}_createPaneElement(ge,we){const Dt=this._document.createElement("div");return Dt.id="toast-container",Dt.classList.add(ge),Dt.classList.add("toast-container"),we?we.getContainerElement().appendChild(Dt):this._overlayContainer.getContainerElement().appendChild(Dt),Dt}_createPortalHost(ge){return new Pt(ge,this._componentFactoryResolver,this._appRef)}_createOverlayRef(ge){return new Ge(this._createPortalHost(ge))}}return nt.\u0275fac=function(ge){return new(ge||nt)(E.LFG(Oe),E.LFG(E._Vd),E.LFG(E.z2F),E.LFG(Ne.K0))},nt.\u0275prov=E.Yz7({factory:function(){return new nt(E.LFG(Oe),E.LFG(E._Vd),E.LFG(E.z2F),E.LFG(Ne.K0))},token:nt,providedIn:"root"}),nt})();class rt{constructor(at){this._overlayRef=at,this.duplicatesCount=0,this._afterClosed=new ne.xQ,this._activate=new ne.xQ,this._manualClose=new ne.xQ,this._resetTimeout=new ne.xQ,this._countDuplicate=new ne.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(at,ge){at&&this._resetTimeout.next(),ge&&this._countDuplicate.next(++this.duplicatesCount)}}class et{constructor(at,ge){this._toastPackage=at,this._parentInjector=ge}get(at,ge,we){return at===st?this._toastPackage:this._parentInjector.get(at,ge,we)}}let le=(()=>{class nt{constructor(ge,we,Dt,Gt,En){this.overlay=we,this._injector=Dt,this.sanitizer=Gt,this.ngZone=En,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},ge.default),ge.config),ge.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},ge.default.iconClasses),ge.config.iconClasses))}show(ge,we,Dt={},Gt=""){return this._preBuildNotification(Gt,ge,we,this.applyConfig(Dt))}success(ge,we,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",ge,we,this.applyConfig(Dt))}error(ge,we,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",ge,we,this.applyConfig(Dt))}info(ge,we,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",ge,we,this.applyConfig(Dt))}warning(ge,we,Dt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",ge,we,this.applyConfig(Dt))}clear(ge){for(const we of this.toasts)if(void 0!==ge){if(we.toastId===ge)return void we.toastRef.manualClose()}else we.toastRef.manualClose()}remove(ge){const we=this._findToast(ge);if(!we||(we.activeToast.toastRef.close(),this.toasts.splice(we.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Dt=this.toasts[this.currentlyActive].toastRef;Dt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Dt.activate())}return!0}findDuplicate(ge="",we="",Dt,Gt){const{includeTitleDuplicates:En}=this.toastrConfig;for(const mn of this.toasts){const rr=En&&mn.title===ge;if((!En||rr)&&mn.message===we)return mn.toastRef.onDuplicate(Dt,Gt),mn}return null}applyConfig(ge={}){return Object.assign(Object.assign({},this.toastrConfig),ge)}_findToast(ge){for(let we=0;we<this.toasts.length;we++)if(this.toasts[we].toastId===ge)return{index:we,activeToast:this.toasts[we]};return null}_preBuildNotification(ge,we,Dt,Gt){return Gt.onActivateTick?this.ngZone.run(()=>this._buildNotification(ge,we,Dt,Gt)):this._buildNotification(ge,we,Dt,Gt)}_buildNotification(ge,we,Dt,Gt){if(!Gt.toastComponent)throw new Error("toastComponent required");const En=this.findDuplicate(Dt,we,this.toastrConfig.resetTimeoutOnDuplicate&&Gt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Dt||we)&&this.toastrConfig.preventDuplicates&&null!==En)return En;this.previousToastMessage=we;let mn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(mn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const rr=this.overlay.create(Gt.positionClass,this.overlayContainer);this.index=this.index+1;let or=we;we&&Gt.enableHtml&&(or=this.sanitizer.sanitize(E.q3G.HTML,we));const pn=new rt(rr),Vn=new st(this.index,Gt,or,Dt,ge,pn),Gn=new et(Vn,this._injector),ir=new Ye(Gt.toastComponent,Gn),Zn=rr.attach(ir,this.toastrConfig.newestOnTop);pn.componentInstance=Zn.instance;const yn={toastId:this.index,title:Dt||"",message:we||"",toastRef:pn,onShown:pn.afterActivate(),onHidden:pn.afterClosed(),onTap:Vn.onTap(),onAction:Vn.onAction(),portal:Zn};return mn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{yn.toastRef.activate()})),this.toasts.push(yn),yn}}return nt.\u0275fac=function(ge){return new(ge||nt)(E.LFG(pe),E.LFG(Je),E.LFG(E.zs3),E.LFG(Se.H7),E.LFG(E.R0b))},nt.\u0275prov=E.Yz7({factory:function(){return new nt(E.LFG(pe),E.LFG(Je),E.LFG(E.gxx),E.LFG(Se.H7),E.LFG(E.R0b))},token:nt,providedIn:"root"}),nt})(),vt=(()=>{class nt{constructor(ge,we,Dt){this.toastrService=ge,this.toastPackage=we,this.ngZone=Dt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=we.message,this.title=we.title,this.options=we.config,this.originalTimeout=we.config.timeOut,this.toastClasses=`${we.toastType} ${we.config.toastClass}`,this.sub=we.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=we.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=we.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=we.toastRef.countDuplicate().subscribe(Gt=>{this.duplicatesCount=Gt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ge=(new Date).getTime();this.width=(this.hideTime-ge)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(ge,we){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(ge),we)):this.timeout=setTimeout(()=>ge(),we)}outsideInterval(ge,we){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(ge),we)):this.intervalId=setInterval(()=>ge(),we)}runInsideAngular(ge){this.ngZone?this.ngZone.run(()=>ge()):ge()}}return nt.\u0275fac=function(ge){return new(ge||nt)(E.Y36(le),E.Y36(st),E.Y36(E.R0b))},nt.\u0275cmp=E.Xpm({type:nt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(ge,we){1&ge&&E.NdJ("click",function(){return we.tapToast()})("mouseenter",function(){return we.stickAround()})("mouseleave",function(){return we.delayedHideToast()}),2&ge&&(E.d8E("@flyInOut",we.state),E.Tol(we.toastClasses),E.Udp("display",we.displayStyle))},attrs:be,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(ge,we){1&ge&&(E.YNc(0,ke,3,0,"button",0),E.YNc(1,ue,3,5,"div",1),E.YNc(2,ee,1,3,"div",2),E.YNc(3,ae,2,4,"div",3),E.YNc(4,me,2,2,"div",4)),2&ge&&(E.Q6J("ngIf",we.options.closeButton),E.xp6(1),E.Q6J("ngIf",we.title),E.xp6(1),E.Q6J("ngIf",we.message&&we.options.enableHtml),E.xp6(1),E.Q6J("ngIf",we.message&&!we.options.enableHtml),E.xp6(1),E.Q6J("ngIf",we.options.progressBar))},directives:[Ne.O5],encapsulation:2,data:{animation:[(0,_.X$)("flyInOut",[(0,_.SB)("inactive",(0,_.oB)({opacity:0})),(0,_.SB)("active",(0,_.oB)({opacity:1})),(0,_.SB)("removed",(0,_.oB)({opacity:0})),(0,_.eR)("inactive => active",(0,_.jt)("{{ easeTime }}ms {{ easing }}")),(0,_.eR)("active => removed",(0,_.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),nt})();const _t=Object.assign(Object.assign({},Me),{toastComponent:vt});let dn=(()=>{class nt{static forRoot(ge={}){return{ngModule:nt,providers:[{provide:pe,useValue:{default:_t,config:ge}}]}}}return nt.\u0275fac=function(ge){return new(ge||nt)},nt.\u0275mod=E.oAB({type:nt}),nt.\u0275inj=E.cJS({imports:[[Ne.ez]]}),nt})(),xt=(()=>{class nt{constructor(ge,we,Dt){this.toastrService=ge,this.toastPackage=we,this.appRef=Dt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=we.message,this.title=we.title,this.options=we.config,this.originalTimeout=we.config.timeOut,this.toastClasses=`${we.toastType} ${we.config.toastClass}`,this.sub=we.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=we.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=we.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=we.toastRef.countDuplicate().subscribe(Gt=>{this.duplicatesCount=Gt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const ge=(new Date).getTime();this.width=(this.hideTime-ge)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return nt.\u0275fac=function(ge){return new(ge||nt)(E.Y36(le),E.Y36(st),E.Y36(E.z2F))},nt.\u0275cmp=E.Xpm({type:nt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(ge,we){1&ge&&E.NdJ("click",function(){return we.tapToast()})("mouseenter",function(){return we.stickAround()})("mouseleave",function(){return we.delayedHideToast()}),2&ge&&(E.Tol(we.toastClasses),E.Udp("display",we.displayStyle))},attrs:be,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(ge,we){1&ge&&(E.YNc(0,fe,3,0,"button",0),E.YNc(1,qe,3,5,"div",1),E.YNc(2,$e,1,3,"div",2),E.YNc(3,je,2,4,"div",3),E.YNc(4,yt,2,2,"div",4)),2&ge&&(E.Q6J("ngIf",we.options.closeButton),E.xp6(1),E.Q6J("ngIf",we.title),E.xp6(1),E.Q6J("ngIf",we.message&&we.options.enableHtml),E.xp6(1),E.Q6J("ngIf",we.message&&!we.options.enableHtml),E.xp6(1),E.Q6J("ngIf",we.options.progressBar))},directives:[Ne.O5],encapsulation:2}),nt})();Object.assign(Object.assign({},Me),{toastComponent:xt})},7574:(Bt,tt,G)=>{"use strict";G.d(tt,{y:()=>ae});var E=G(7393),ne=G(9181),Se=G(6490),be=G(6554),ke=G(4487);var ee=G(2494);let ae=(()=>{class fe{constructor(qe){this._isScalar=!1,qe&&(this._subscribe=qe)}lift(qe){const $e=new fe;return $e.source=this,$e.operator=qe,$e}subscribe(qe,$e,je){const{operator:yt}=this,Ke=function(fe,Ae,qe){if(fe){if(fe instanceof E.L)return fe;if(fe[ne.b])return fe[ne.b]()}return fe||Ae||qe?new E.L(fe,Ae,qe):new E.L(Se.c)}(qe,$e,je);if(Ke.add(yt?yt.call(Ke,this.source):this.source||ee.v.useDeprecatedSynchronousErrorHandling&&!Ke.syncErrorThrowable?this._subscribe(Ke):this._trySubscribe(Ke)),ee.v.useDeprecatedSynchronousErrorHandling&&Ke.syncErrorThrowable&&(Ke.syncErrorThrowable=!1,Ke.syncErrorThrown))throw Ke.syncErrorValue;return Ke}_trySubscribe(qe){try{return this._subscribe(qe)}catch($e){ee.v.useDeprecatedSynchronousErrorHandling&&(qe.syncErrorThrown=!0,qe.syncErrorValue=$e),function(fe){for(;fe;){const{closed:Ae,destination:qe,isStopped:$e}=fe;if(Ae||$e)return!1;fe=qe&&qe instanceof E.L?qe:null}return!0}(qe)?qe.error($e):console.warn($e)}}forEach(qe,$e){return new($e=me($e))((je,yt)=>{let Ke;Ke=this.subscribe(It=>{try{qe(It)}catch(st){yt(st),Ke&&Ke.unsubscribe()}},yt,je)})}_subscribe(qe){const{source:$e}=this;return $e&&$e.subscribe(qe)}[be.L](){return this}pipe(...qe){return 0===qe.length?this:function(fe){return 0===fe.length?ke.y:1===fe.length?fe[0]:function(qe){return fe.reduce(($e,je)=>je($e),qe)}}(qe)(this)}toPromise(qe){return new(qe=me(qe))(($e,je)=>{let yt;this.subscribe(Ke=>yt=Ke,Ke=>je(Ke),()=>$e(yt))})}}return fe.create=Ae=>new fe(Ae),fe})();function me(fe){if(fe||(fe=ee.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},6490:(Bt,tt,G)=>{"use strict";G.d(tt,{c:()=>ne});var E=G(2494),_=G(4449);const ne={closed:!0,next(Se){},error(Se){if(E.v.useDeprecatedSynchronousErrorHandling)throw Se;(0,_.z)(Se)},complete(){}}},9765:(Bt,tt,G)=>{"use strict";G.d(tt,{Yc:()=>ke,xQ:()=>ye});var E=G(7574),_=G(7393),ne=G(5319),Se=G(7971),Ne=G(8858),be=G(9181);class ke extends _.L{constructor(ae){super(ae),this.destination=ae}}let ye=(()=>{class ee extends E.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[be.b](){return new ke(this)}lift(me){const fe=new ue(this,this);return fe.operator=me,fe}next(me){if(this.closed)throw new Se.N;if(!this.isStopped){const{observers:fe}=this,Ae=fe.length,qe=fe.slice();for(let $e=0;$e<Ae;$e++)qe[$e].next(me)}}error(me){if(this.closed)throw new Se.N;this.hasError=!0,this.thrownError=me,this.isStopped=!0;const{observers:fe}=this,Ae=fe.length,qe=fe.slice();for(let $e=0;$e<Ae;$e++)qe[$e].error(me);this.observers.length=0}complete(){if(this.closed)throw new Se.N;this.isStopped=!0;const{observers:me}=this,fe=me.length,Ae=me.slice();for(let qe=0;qe<fe;qe++)Ae[qe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(me){if(this.closed)throw new Se.N;return super._trySubscribe(me)}_subscribe(me){if(this.closed)throw new Se.N;return this.hasError?(me.error(this.thrownError),ne.w.EMPTY):this.isStopped?(me.complete(),ne.w.EMPTY):(this.observers.push(me),new Ne.W(this,me))}asObservable(){const me=new E.y;return me.source=this,me}}return ee.create=(ae,me)=>new ue(ae,me),ee})();class ue extends ye{constructor(ae,me){super(),this.destination=ae,this.source=me}next(ae){const{destination:me}=this;me&&me.next&&me.next(ae)}error(ae){const{destination:me}=this;me&&me.error&&this.destination.error(ae)}complete(){const{destination:ae}=this;ae&&ae.complete&&this.destination.complete()}_subscribe(ae){const{source:me}=this;return me?this.source.subscribe(ae):ne.w.EMPTY}}},8858:(Bt,tt,G)=>{"use strict";G.d(tt,{W:()=>_});var E=G(5319);class _ extends E.w{constructor(Se,Ne){super(),this.subject=Se,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Se=this.subject,Ne=Se.observers;if(this.subject=null,!Ne||0===Ne.length||Se.isStopped||Se.closed)return;const be=Ne.indexOf(this.subscriber);-1!==be&&Ne.splice(be,1)}}},7393:(Bt,tt,G)=>{"use strict";G.d(tt,{L:()=>ke});var E=G(9105),_=G(6490),ne=G(5319),Se=G(9181),Ne=G(2494),be=G(4449);class ke extends ne.w{constructor(ee,ae,me){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=_.c;break;case 1:if(!ee){this.destination=_.c;break}if("object"==typeof ee){ee instanceof ke?(this.syncErrorThrowable=ee.syncErrorThrowable,this.destination=ee,ee.add(this)):(this.syncErrorThrowable=!0,this.destination=new ye(this,ee));break}default:this.syncErrorThrowable=!0,this.destination=new ye(this,ee,ae,me)}}[Se.b](){return this}static create(ee,ae,me){const fe=new ke(ee,ae,me);return fe.syncErrorThrowable=!1,fe}next(ee){this.isStopped||this._next(ee)}error(ee){this.isStopped||(this.isStopped=!0,this._error(ee))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ee){this.destination.next(ee)}_error(ee){this.destination.error(ee),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ee}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ee,this}}class ye extends ke{constructor(ee,ae,me,fe){super(),this._parentSubscriber=ee;let Ae,qe=this;(0,E.m)(ae)?Ae=ae:ae&&(Ae=ae.next,me=ae.error,fe=ae.complete,ae!==_.c&&(qe=Object.create(ae),(0,E.m)(qe.unsubscribe)&&this.add(qe.unsubscribe.bind(qe)),qe.unsubscribe=this.unsubscribe.bind(this))),this._context=qe,this._next=Ae,this._error=me,this._complete=fe}next(ee){if(!this.isStopped&&this._next){const{_parentSubscriber:ae}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable?this.__tryOrSetError(ae,this._next,ee)&&this.unsubscribe():this.__tryOrUnsub(this._next,ee)}}error(ee){if(!this.isStopped){const{_parentSubscriber:ae}=this,{useDeprecatedSynchronousErrorHandling:me}=Ne.v;if(this._error)me&&ae.syncErrorThrowable?(this.__tryOrSetError(ae,this._error,ee),this.unsubscribe()):(this.__tryOrUnsub(this._error,ee),this.unsubscribe());else if(ae.syncErrorThrowable)me?(ae.syncErrorValue=ee,ae.syncErrorThrown=!0):(0,be.z)(ee),this.unsubscribe();else{if(this.unsubscribe(),me)throw ee;(0,be.z)(ee)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ee}=this;if(this._complete){const ae=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,ae),this.unsubscribe()):(this.__tryOrUnsub(ae),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ee,ae){try{ee.call(this._context,ae)}catch(me){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw me;(0,be.z)(me)}}__tryOrSetError(ee,ae,me){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ae.call(this._context,me)}catch(fe){return Ne.v.useDeprecatedSynchronousErrorHandling?(ee.syncErrorValue=fe,ee.syncErrorThrown=!0,!0):((0,be.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ee}=this;this._context=null,this._parentSubscriber=null,ee.unsubscribe()}}},5319:(Bt,tt,G)=>{"use strict";G.d(tt,{w:()=>be});var E=G(9796),_=G(1555),ne=G(9105);const Ne=(()=>{function ye(ue){return Error.call(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ee,ae)=>`${ae+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue,this}return ye.prototype=Object.create(Error.prototype),ye})();class be{constructor(ue){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ue&&(this._ctorUnsubscribe=!0,this._unsubscribe=ue)}unsubscribe(){let ue;if(this.closed)return;let{_parentOrParents:ee,_ctorUnsubscribe:ae,_unsubscribe:me,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ee instanceof be)ee.remove(this);else if(null!==ee)for(let Ae=0;Ae<ee.length;++Ae)ee[Ae].remove(this);if((0,ne.m)(me)){ae&&(this._unsubscribe=void 0);try{me.call(this)}catch(Ae){ue=Ae instanceof Ne?ke(Ae.errors):[Ae]}}if((0,E.k)(fe)){let Ae=-1,qe=fe.length;for(;++Ae<qe;){const $e=fe[Ae];if((0,_.K)($e))try{$e.unsubscribe()}catch(je){ue=ue||[],je instanceof Ne?ue=ue.concat(ke(je.errors)):ue.push(je)}}}if(ue)throw new Ne(ue)}add(ue){let ee=ue;if(!ue)return be.EMPTY;switch(typeof ue){case"function":ee=new be(ue);case"object":if(ee===this||ee.closed||"function"!=typeof ee.unsubscribe)return ee;if(this.closed)return ee.unsubscribe(),ee;if(!(ee instanceof be)){const fe=ee;ee=new be,ee._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+ue+" added to Subscription.")}let{_parentOrParents:ae}=ee;if(null===ae)ee._parentOrParents=this;else if(ae instanceof be){if(ae===this)return ee;ee._parentOrParents=[ae,this]}else{if(-1!==ae.indexOf(this))return ee;ae.push(this)}const me=this._subscriptions;return null===me?this._subscriptions=[ee]:me.push(ee),ee}remove(ue){const ee=this._subscriptions;if(ee){const ae=ee.indexOf(ue);-1!==ae&&ee.splice(ae,1)}}}var ye;function ke(ye){return ye.reduce((ue,ee)=>ue.concat(ee instanceof Ne?ee.errors:ee),[])}be.EMPTY=((ye=new be).closed=!0,ye)},2494:(Bt,tt,G)=>{"use strict";G.d(tt,{v:()=>_});let E=!1;const _={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ne){if(ne){const Se=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Se.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=ne},get useDeprecatedSynchronousErrorHandling(){return E}}},5345:(Bt,tt,G)=>{"use strict";G.d(tt,{IY:()=>Se,Ds:()=>be,ft:()=>ye});var E=G(7393),_=G(7574),ne=G(7444);class Se extends E.L{constructor(ee){super(),this.parent=ee}_next(ee){this.parent.notifyNext(ee)}_error(ee){this.parent.notifyError(ee),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class be extends E.L{notifyNext(ee){this.destination.next(ee)}notifyError(ee){this.destination.error(ee)}notifyComplete(){this.destination.complete()}}function ye(ue,ee){if(ee.closed)return;if(ue instanceof _.y)return ue.subscribe(ee);let ae;try{ae=(0,ne.s)(ue)(ee)}catch(me){ee.error(me)}return ae}},2441:(Bt,tt,G)=>{"use strict";G.d(tt,{c:()=>Ne,N:()=>be});var E=G(9765),_=G(7574),ne=G(5319),Se=G(1307);class Ne extends _.y{constructor(ae,me){super(),this.source=ae,this.subjectFactory=me,this._refCount=0,this._isComplete=!1}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ae=this._connection;return ae||(this._isComplete=!1,ae=this._connection=new ne.w,ae.add(this.source.subscribe(new ke(this.getSubject(),this))),ae.closed&&(this._connection=null,ae=ne.w.EMPTY)),ae}refCount(){return(0,Se.x)()(this)}}const be=(()=>{const ee=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ee._subscribe},_isComplete:{value:ee._isComplete,writable:!0},getSubject:{value:ee.getSubject},connect:{value:ee.connect},refCount:{value:ee.refCount}}})();class ke extends E.Yc{constructor(ae,me){super(ae),this.connectable=me}_error(ae){this._unsubscribe(),super._error(ae)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ae=this.connectable;if(ae){this.connectable=null;const me=ae._connection;ae._refCount=0,ae._subject=null,ae._connection=null,me&&me.unsubscribe()}}}},8071:(Bt,tt,G)=>{"use strict";G.d(tt,{z:()=>Se});var E=G(5917),_=G(3282);function Se(...Ne){return(0,_.J)(1)((0,E.of)(...Ne))}},9193:(Bt,tt,G)=>{"use strict";G.d(tt,{E:()=>_,c:()=>ne});var E=G(7574);const _=new E.y(Ne=>Ne.complete());function ne(Ne){return Ne?function(Ne){return new E.y(be=>Ne.schedule(()=>be.complete()))}(Ne):_}},4402:(Bt,tt,G)=>{"use strict";G.d(tt,{D:()=>qe});var E=G(7574),_=G(7444),ne=G(5319),Se=G(6554),ke=G(4087),ye=G(377),ae=G(4072),me=G(9489);function qe($e,je){return je?function($e,je){if(null!=$e){if(function($e){return $e&&"function"==typeof $e[Se.L]}($e))return function($e,je){return new E.y(yt=>{const Ke=new ne.w;return Ke.add(je.schedule(()=>{const It=$e[Se.L]();Ke.add(It.subscribe({next(st){Ke.add(je.schedule(()=>yt.next(st)))},error(st){Ke.add(je.schedule(()=>yt.error(st)))},complete(){Ke.add(je.schedule(()=>yt.complete()))}}))})),Ke})}($e,je);if((0,ae.t)($e))return function($e,je){return new E.y(yt=>{const Ke=new ne.w;return Ke.add(je.schedule(()=>$e.then(It=>{Ke.add(je.schedule(()=>{yt.next(It),Ke.add(je.schedule(()=>yt.complete()))}))},It=>{Ke.add(je.schedule(()=>yt.error(It)))}))),Ke})}($e,je);if((0,me.z)($e))return(0,ke.r)($e,je);if(function($e){return $e&&"function"==typeof $e[ye.hZ]}($e)||"string"==typeof $e)return function($e,je){if(!$e)throw new Error("Iterable cannot be null");return new E.y(yt=>{const Ke=new ne.w;let It;return Ke.add(()=>{It&&"function"==typeof It.return&&It.return()}),Ke.add(je.schedule(()=>{It=$e[ye.hZ](),Ke.add(je.schedule(function(){if(yt.closed)return;let st,Me;try{const pe=It.next();st=pe.value,Me=pe.done}catch(pe){return void yt.error(pe)}Me?yt.complete():(yt.next(st),this.schedule())}))})),Ke})}($e,je)}throw new TypeError((null!==$e&&typeof $e||$e)+" is not observable")}($e,je):$e instanceof E.y?$e:new E.y((0,_.s)($e))}},6693:(Bt,tt,G)=>{"use strict";G.d(tt,{n:()=>Se});var E=G(7574),_=G(5015),ne=G(4087);function Se(Ne,be){return be?(0,ne.r)(Ne,be):new E.y((0,_.V)(Ne))}},6682:(Bt,tt,G)=>{"use strict";G.d(tt,{T:()=>Ne});var E=G(7574),_=G(4869),ne=G(3282),Se=G(6693);function Ne(...be){let ke=Number.POSITIVE_INFINITY,ye=null,ue=be[be.length-1];return(0,_.K)(ue)?(ye=be.pop(),be.length>1&&"number"==typeof be[be.length-1]&&(ke=be.pop())):"number"==typeof ue&&(ke=be.pop()),null===ye&&1===be.length&&be[0]instanceof E.y?be[0]:(0,ne.J)(ke)((0,Se.n)(be,ye))}},5917:(Bt,tt,G)=>{"use strict";G.d(tt,{of:()=>Se});var E=G(4869),_=G(6693),ne=G(4087);function Se(...Ne){let be=Ne[Ne.length-1];return(0,E.K)(be)?(Ne.pop(),(0,ne.r)(Ne,be)):(0,_.n)(Ne)}},4612:(Bt,tt,G)=>{"use strict";G.d(tt,{b:()=>_});var E=G(9773);function _(ne,Se){return(0,E.zg)(ne,Se,1)}},5242:(Bt,tt,G)=>{"use strict";G.d(tt,{d:()=>_});var E=G(7393);function _(Ne=null){return be=>be.lift(new ne(Ne))}class ne{constructor(be){this.defaultValue=be}call(be,ke){return ke.subscribe(new Se(be,this.defaultValue))}}class Se extends E.L{constructor(be,ke){super(be),this.defaultValue=ke,this.isEmpty=!0}_next(be){this.isEmpty=!1,this.destination.next(be)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Bt,tt,G)=>{"use strict";G.d(tt,{h:()=>_});var E=G(7393);function _(Ne,be){return function(ye){return ye.lift(new ne(Ne,be))}}class ne{constructor(be,ke){this.predicate=be,this.thisArg=ke}call(be,ke){return ke.subscribe(new Se(be,this.predicate,this.thisArg))}}class Se extends E.L{constructor(be,ke,ye){super(be),this.predicate=ke,this.thisArg=ye,this.count=0}_next(be){let ke;try{ke=this.predicate.call(this.thisArg,be,this.count++)}catch(ye){return void this.destination.error(ye)}ke&&this.destination.next(be)}}},8049:(Bt,tt,G)=>{"use strict";G.d(tt,{P:()=>ke});var E=G(3410),_=G(5435),ne=G(5257),Se=G(5242),Ne=G(4635),be=G(4487);function ke(ye,ue){const ee=arguments.length>=2;return ae=>ae.pipe(ye?(0,_.h)((me,fe)=>ye(me,fe,ae)):be.y,(0,ne.q)(1),ee?(0,Se.d)(ue):(0,Ne.T)(()=>new E.K))}},8002:(Bt,tt,G)=>{"use strict";G.d(tt,{U:()=>_});var E=G(7393);function _(Ne,be){return function(ye){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ye.lift(new ne(Ne,be))}}class ne{constructor(be,ke){this.project=be,this.thisArg=ke}call(be,ke){return ke.subscribe(new Se(be,this.project,this.thisArg))}}class Se extends E.L{constructor(be,ke,ye){super(be),this.project=ke,this.count=0,this.thisArg=ye||this}_next(be){let ke;try{ke=this.project.call(this.thisArg,be,this.count++)}catch(ye){return void this.destination.error(ye)}this.destination.next(ke)}}},3282:(Bt,tt,G)=>{"use strict";G.d(tt,{J:()=>ne});var E=G(9773),_=G(4487);function ne(Se=Number.POSITIVE_INFINITY){return(0,E.zg)(_.y,Se)}},9773:(Bt,tt,G)=>{"use strict";G.d(tt,{zg:()=>Se});var E=G(8002),_=G(4402),ne=G(5345);function Se(ye,ue,ee=Number.POSITIVE_INFINITY){return"function"==typeof ue?ae=>ae.pipe(Se((me,fe)=>(0,_.D)(ye(me,fe)).pipe((0,E.U)((Ae,qe)=>ue(me,Ae,fe,qe))),ee)):("number"==typeof ue&&(ee=ue),ae=>ae.lift(new Ne(ye,ee)))}class Ne{constructor(ue,ee=Number.POSITIVE_INFINITY){this.project=ue,this.concurrent=ee}call(ue,ee){return ee.subscribe(new be(ue,this.project,this.concurrent))}}class be extends ne.Ds{constructor(ue,ee,ae=Number.POSITIVE_INFINITY){super(ue),this.project=ee,this.concurrent=ae,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ue){this.active<this.concurrent?this._tryNext(ue):this.buffer.push(ue)}_tryNext(ue){let ee;const ae=this.index++;try{ee=this.project(ue,ae)}catch(me){return void this.destination.error(me)}this.active++,this._innerSub(ee)}_innerSub(ue){const ee=new ne.IY(this),ae=this.destination;ae.add(ee);const me=(0,ne.ft)(ue,ee);me!==ee&&ae.add(me)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ue){this.destination.next(ue)}notifyComplete(){const ue=this.buffer;this.active--,ue.length>0?this._next(ue.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Bt,tt,G)=>{"use strict";G.d(tt,{ht:()=>ae,QV:()=>ue});var E=G(7393),_=G(9193),ne=G(5917),Se=G(7574);class ye{constructor(Ae,qe,$e){this.kind=Ae,this.value=qe,this.error=$e,this.hasValue="N"===Ae}observe(Ae){switch(this.kind){case"N":return Ae.next&&Ae.next(this.value);case"E":return Ae.error&&Ae.error(this.error);case"C":return Ae.complete&&Ae.complete()}}do(Ae,qe,$e){switch(this.kind){case"N":return Ae&&Ae(this.value);case"E":return qe&&qe(this.error);case"C":return $e&&$e()}}accept(Ae,qe,$e){return Ae&&"function"==typeof Ae.next?this.observe(Ae):this.do(Ae,qe,$e)}toObservable(){switch(this.kind){case"N":return(0,ne.of)(this.value);case"E":return fe=this.error,new Se.y(qe=>qe.error(fe));case"C":return(0,_.c)()}var fe;throw new Error("unexpected notification kind value")}static createNext(Ae){return void 0!==Ae?new ye("N",Ae):ye.undefinedValueNotification}static createError(Ae){return new ye("E",void 0,Ae)}static createComplete(){return ye.completeNotification}}function ue(fe,Ae=0){return function($e){return $e.lift(new ee(fe,Ae))}}ye.completeNotification=new ye("C"),ye.undefinedValueNotification=new ye("N",void 0);class ee{constructor(Ae,qe=0){this.scheduler=Ae,this.delay=qe}call(Ae,qe){return qe.subscribe(new ae(Ae,this.scheduler,this.delay))}}class ae extends E.L{constructor(Ae,qe,$e=0){super(Ae),this.scheduler=qe,this.delay=$e}static dispatch(Ae){const{notification:qe,destination:$e}=Ae;qe.observe($e),this.unsubscribe()}scheduleMessage(Ae){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new me(Ae,this.destination)))}_next(Ae){this.scheduleMessage(ye.createNext(Ae))}_error(Ae){this.scheduleMessage(ye.createError(Ae)),this.unsubscribe()}_complete(){this.scheduleMessage(ye.createComplete()),this.unsubscribe()}}class me{constructor(Ae,qe){this.notification=Ae,this.destination=qe}}},1307:(Bt,tt,G)=>{"use strict";G.d(tt,{x:()=>_});var E=G(7393);function _(){return function(be){return be.lift(new ne(be))}}class ne{constructor(be){this.connectable=be}call(be,ke){const{connectable:ye}=this;ye._refCount++;const ue=new Se(be,ye),ee=ke.subscribe(ue);return ue.closed||(ue.connection=ye.connect()),ee}}class Se extends E.L{constructor(be,ke){super(be),this.connectable=ke}_unsubscribe(){const{connectable:be}=this;if(!be)return void(this.connection=null);this.connectable=null;const ke=be._refCount;if(ke<=0)return void(this.connection=null);if(be._refCount=ke-1,ke>1)return void(this.connection=null);const{connection:ye}=this,ue=be._connection;this.connection=null,ue&&(!ye||ue===ye)&&ue.unsubscribe()}}},2145:(Bt,tt,G)=>{"use strict";G.d(tt,{R:()=>_});var E=G(7393);function _(Ne,be){let ke=!1;return arguments.length>=2&&(ke=!0),function(ue){return ue.lift(new ne(Ne,be,ke))}}class ne{constructor(be,ke,ye=!1){this.accumulator=be,this.seed=ke,this.hasSeed=ye}call(be,ke){return ke.subscribe(new Se(be,this.accumulator,this.seed,this.hasSeed))}}class Se extends E.L{constructor(be,ke,ye,ue){super(be),this.accumulator=ke,this._seed=ye,this.hasSeed=ue,this.index=0}get seed(){return this._seed}set seed(be){this.hasSeed=!0,this._seed=be}_next(be){if(this.hasSeed)return this._tryNext(be);this.seed=be,this.destination.next(be)}_tryNext(be){const ke=this.index++;let ye;try{ye=this.accumulator(this.seed,be,ke)}catch(ue){this.destination.error(ue)}this.seed=ye,this.destination.next(ye)}}},9761:(Bt,tt,G)=>{"use strict";G.d(tt,{O:()=>ne});var E=G(8071),_=G(4869);function ne(...Se){const Ne=Se[Se.length-1];return(0,_.K)(Ne)?(Se.pop(),be=>(0,E.z)(Se,be,Ne)):be=>(0,E.z)(Se,be)}},2639:(Bt,tt,G)=>{"use strict";G.d(tt,{R:()=>$e});var E=G(7574);let _=1;const ne=Promise.resolve(),Se={};function Ne(yt){return yt in Se&&(delete Se[yt],!0)}const be={setImmediate(yt){const Ke=_++;return Se[Ke]=!0,ne.then(()=>Ne(Ke)&&yt()),Ke},clearImmediate(yt){Ne(yt)}};var ye=G(6465),ee=G(6102);const fe=new class extends ee.v{flush(Ke){this.active=!0,this.scheduled=void 0;const{actions:It}=this;let st,Me=-1,pe=It.length;Ke=Ke||It.shift();do{if(st=Ke.execute(Ke.state,Ke.delay))break}while(++Me<pe&&(Ke=It.shift()));if(this.active=!1,st){for(;++Me<pe&&(Ke=It.shift());)Ke.unsubscribe();throw st}}}(class extends ye.o{constructor(Ke,It){super(Ke,It),this.scheduler=Ke,this.work=It}requestAsyncId(Ke,It,st=0){return null!==st&&st>0?super.requestAsyncId(Ke,It,st):(Ke.actions.push(this),Ke.scheduled||(Ke.scheduled=be.setImmediate(Ke.flush.bind(Ke,null))))}recycleAsyncId(Ke,It,st=0){if(null!==st&&st>0||null===st&&this.delay>0)return super.recycleAsyncId(Ke,It,st);0===Ke.actions.length&&(be.clearImmediate(It),Ke.scheduled=void 0)}});var Ae=G(6561);class qe extends E.y{constructor(Ke,It=0,st=fe){super(),this.source=Ke,this.delayTime=It,this.scheduler=st,(!(0,Ae.k)(It)||It<0)&&(this.delayTime=0),(!st||"function"!=typeof st.schedule)&&(this.scheduler=fe)}static create(Ke,It=0,st=fe){return new qe(Ke,It,st)}static dispatch(Ke){const{source:It,subscriber:st}=Ke;return this.add(It.subscribe(st))}_subscribe(Ke){return this.scheduler.schedule(qe.dispatch,this.delayTime,{source:this.source,subscriber:Ke})}}function $e(yt,Ke=0){return function(st){return st.lift(new je(yt,Ke))}}class je{constructor(Ke,It){this.scheduler=Ke,this.delay=It}call(Ke,It){return new qe(It,this.delay,this.scheduler).subscribe(Ke)}}},3190:(Bt,tt,G)=>{"use strict";G.d(tt,{w:()=>Se});var E=G(8002),_=G(4402),ne=G(5345);function Se(ke,ye){return"function"==typeof ye?ue=>ue.pipe(Se((ee,ae)=>(0,_.D)(ke(ee,ae)).pipe((0,E.U)((me,fe)=>ye(ee,me,ae,fe))))):ue=>ue.lift(new Ne(ke))}class Ne{constructor(ye){this.project=ye}call(ye,ue){return ue.subscribe(new be(ye,this.project))}}class be extends ne.Ds{constructor(ye,ue){super(ye),this.project=ue,this.index=0}_next(ye){let ue;const ee=this.index++;try{ue=this.project(ye,ee)}catch(ae){return void this.destination.error(ae)}this._innerSub(ue)}_innerSub(ye){const ue=this.innerSubscription;ue&&ue.unsubscribe();const ee=new ne.IY(this),ae=this.destination;ae.add(ee),this.innerSubscription=(0,ne.ft)(ye,ee),this.innerSubscription!==ee&&ae.add(this.innerSubscription)}_complete(){const{innerSubscription:ye}=this;(!ye||ye.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ye){this.destination.next(ye)}}},5257:(Bt,tt,G)=>{"use strict";G.d(tt,{q:()=>Se});var E=G(7393),_=G(7108),ne=G(9193);function Se(ke){return ye=>0===ke?(0,ne.c)():ye.lift(new Ne(ke))}class Ne{constructor(ye){if(this.total=ye,this.total<0)throw new _.W}call(ye,ue){return ue.subscribe(new be(ye,this.total))}}class be extends E.L{constructor(ye,ue){super(ye),this.total=ue,this.count=0}_next(ye){const ue=this.total,ee=++this.count;ee<=ue&&(this.destination.next(ye),ee===ue&&(this.destination.complete(),this.unsubscribe()))}}},3342:(Bt,tt,G)=>{"use strict";G.d(tt,{b:()=>Se});var E=G(7393);function _(){}var ne=G(9105);function Se(ke,ye,ue){return function(ae){return ae.lift(new Ne(ke,ye,ue))}}class Ne{constructor(ye,ue,ee){this.nextOrObserver=ye,this.error=ue,this.complete=ee}call(ye,ue){return ue.subscribe(new be(ye,this.nextOrObserver,this.error,this.complete))}}class be extends E.L{constructor(ye,ue,ee,ae){super(ye),this._tapNext=_,this._tapError=_,this._tapComplete=_,this._tapError=ee||_,this._tapComplete=ae||_,(0,ne.m)(ue)?(this._context=this,this._tapNext=ue):ue&&(this._context=ue,this._tapNext=ue.next||_,this._tapError=ue.error||_,this._tapComplete=ue.complete||_)}_next(ye){try{this._tapNext.call(this._context,ye)}catch(ue){return void this.destination.error(ue)}this.destination.next(ye)}_error(ye){try{this._tapError.call(this._context,ye)}catch(ue){return void this.destination.error(ue)}this.destination.error(ye)}_complete(){try{this._tapComplete.call(this._context)}catch(ye){return void this.destination.error(ye)}return this.destination.complete()}}},4635:(Bt,tt,G)=>{"use strict";G.d(tt,{T:()=>ne});var E=G(3410),_=G(7393);function ne(ke=be){return ye=>ye.lift(new Se(ke))}class Se{constructor(ye){this.errorFactory=ye}call(ye,ue){return ue.subscribe(new Ne(ye,this.errorFactory))}}class Ne extends _.L{constructor(ye,ue){super(ye),this.errorFactory=ue,this.hasValue=!1}_next(ye){this.hasValue=!0,this.destination.next(ye)}_complete(){if(this.hasValue)return this.destination.complete();{let ye;try{ye=this.errorFactory()}catch(ue){ye=ue}this.destination.error(ye)}}}function be(){return new E.K}},4087:(Bt,tt,G)=>{"use strict";G.d(tt,{r:()=>ne});var E=G(7574),_=G(5319);function ne(Se,Ne){return new E.y(be=>{const ke=new _.w;let ye=0;return ke.add(Ne.schedule(function(){ye!==Se.length?(be.next(Se[ye++]),be.closed||ke.add(this.schedule())):be.complete()})),ke})}},6465:(Bt,tt,G)=>{"use strict";G.d(tt,{o:()=>ne});var E=G(5319);class _ extends E.w{constructor(Ne,be){super()}schedule(Ne,be=0){return this}}class ne extends _{constructor(Ne,be){super(Ne,be),this.scheduler=Ne,this.work=be,this.pending=!1}schedule(Ne,be=0){if(this.closed)return this;this.state=Ne;const ke=this.id,ye=this.scheduler;return null!=ke&&(this.id=this.recycleAsyncId(ye,ke,be)),this.pending=!0,this.delay=be,this.id=this.id||this.requestAsyncId(ye,this.id,be),this}requestAsyncId(Ne,be,ke=0){return setInterval(Ne.flush.bind(Ne,this),ke)}recycleAsyncId(Ne,be,ke=0){if(null!==ke&&this.delay===ke&&!1===this.pending)return be;clearInterval(be)}execute(Ne,be){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ke=this._execute(Ne,be);if(ke)return ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,be){let ye,ke=!1;try{this.work(Ne)}catch(ue){ke=!0,ye=!!ue&&ue||new Error(ue)}if(ke)return this.unsubscribe(),ye}_unsubscribe(){const Ne=this.id,be=this.scheduler,ke=be.actions,ye=ke.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==ye&&ke.splice(ye,1),null!=Ne&&(this.id=this.recycleAsyncId(be,Ne,null)),this.delay=null}}},6102:(Bt,tt,G)=>{"use strict";G.d(tt,{v:()=>_});let E=(()=>{class ne{constructor(Ne,be=ne.now){this.SchedulerAction=Ne,this.now=be}schedule(Ne,be=0,ke){return new this.SchedulerAction(this,Ne).schedule(ke,be)}}return ne.now=()=>Date.now(),ne})();class _ extends E{constructor(Se,Ne=E.now){super(Se,()=>_.delegate&&_.delegate!==this?_.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Se,Ne=0,be){return _.delegate&&_.delegate!==this?_.delegate.schedule(Se,Ne,be):super.schedule(Se,Ne,be)}flush(Se){const{actions:Ne}=this;if(this.active)return void Ne.push(Se);let be;this.active=!0;do{if(be=Se.execute(Se.state,Se.delay))break}while(Se=Ne.shift());if(this.active=!1,be){for(;Se=Ne.shift();)Se.unsubscribe();throw be}}}},3637:(Bt,tt,G)=>{"use strict";G.d(tt,{z:()=>ne,P:()=>Se});var E=G(6465);const ne=new(G(6102).v)(E.o),Se=ne},7771:(Bt,tt,G)=>{"use strict";G.d(tt,{c:()=>be,N:()=>Ne});var E=G(6465),ne=G(6102);const Ne=new class extends ne.v{}(class extends E.o{constructor(ye,ue){super(ye,ue),this.scheduler=ye,this.work=ue}schedule(ye,ue=0){return ue>0?super.schedule(ye,ue):(this.delay=ue,this.state=ye,this.scheduler.flush(this),this)}execute(ye,ue){return ue>0||this.closed?super.execute(ye,ue):this._execute(ye,ue)}requestAsyncId(ye,ue,ee=0){return null!==ee&&ee>0||null===ee&&this.delay>0?super.requestAsyncId(ye,ue,ee):ye.flush(this)}}),be=Ne},377:(Bt,tt,G)=>{"use strict";G.d(tt,{hZ:()=>_});const _="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Bt,tt,G)=>{"use strict";G.d(tt,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Bt,tt,G)=>{"use strict";G.d(tt,{b:()=>E});const E="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Bt,tt,G)=>{"use strict";G.d(tt,{W:()=>_});const _=(()=>{function ne(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ne.prototype=Object.create(Error.prototype),ne})()},3410:(Bt,tt,G)=>{"use strict";G.d(tt,{K:()=>_});const _=(()=>{function ne(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ne.prototype=Object.create(Error.prototype),ne})()},7971:(Bt,tt,G)=>{"use strict";G.d(tt,{N:()=>_});const _=(()=>{function ne(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ne.prototype=Object.create(Error.prototype),ne})()},4449:(Bt,tt,G)=>{"use strict";function E(_){setTimeout(()=>{throw _},0)}G.d(tt,{z:()=>E})},4487:(Bt,tt,G)=>{"use strict";function E(_){return _}G.d(tt,{y:()=>E})},9796:(Bt,tt,G)=>{"use strict";G.d(tt,{k:()=>E});const E=Array.isArray||(_=>_&&"number"==typeof _.length)},9489:(Bt,tt,G)=>{"use strict";G.d(tt,{z:()=>E});const E=_=>_&&"number"==typeof _.length&&"function"!=typeof _},9105:(Bt,tt,G)=>{"use strict";function E(_){return"function"==typeof _}G.d(tt,{m:()=>E})},6561:(Bt,tt,G)=>{"use strict";G.d(tt,{k:()=>_});var E=G(9796);function _(ne){return!(0,E.k)(ne)&&ne-parseFloat(ne)+1>=0}},1555:(Bt,tt,G)=>{"use strict";function E(_){return null!==_&&"object"==typeof _}G.d(tt,{K:()=>E})},4072:(Bt,tt,G)=>{"use strict";function E(_){return!!_&&"function"!=typeof _.subscribe&&"function"==typeof _.then}G.d(tt,{t:()=>E})},4869:(Bt,tt,G)=>{"use strict";function E(_){return _&&"function"==typeof _.schedule}G.d(tt,{K:()=>E})},7444:(Bt,tt,G)=>{"use strict";G.d(tt,{s:()=>ae});var E=G(5015),_=G(4449),Se=G(377),be=G(6554),ye=G(9489),ue=G(4072),ee=G(1555);const ae=me=>{if(me&&"function"==typeof me[be.L])return(me=>fe=>{const Ae=me[be.L]();if("function"!=typeof Ae.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ae.subscribe(fe)})(me);if((0,ye.z)(me))return(0,E.V)(me);if((0,ue.t)(me))return(me=>fe=>(me.then(Ae=>{fe.closed||(fe.next(Ae),fe.complete())},Ae=>fe.error(Ae)).then(null,_.z),fe))(me);if(me&&"function"==typeof me[Se.hZ])return(me=>fe=>{const Ae=me[Se.hZ]();for(;;){let qe;try{qe=Ae.next()}catch($e){return fe.error($e),fe}if(qe.done){fe.complete();break}if(fe.next(qe.value),fe.closed)break}return"function"==typeof Ae.return&&fe.add(()=>{Ae.return&&Ae.return()}),fe})(me);{const Ae=`You provided ${(0,ee.K)(me)?"an invalid object":`'${me}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ae)}}},5015:(Bt,tt,G)=>{"use strict";G.d(tt,{V:()=>E});const E=_=>ne=>{for(let Se=0,Ne=_.length;Se<Ne&&!ne.closed;Se++)ne.next(_[Se]);ne.complete()}},7129:(Bt,tt,G)=>{"use strict";G.d(tt,{n:()=>E});class E{constructor(){this.iduser="",this.nombre="",this.apellido="",this.password="",this.cpassword="",this.fechaIngreso=new Date}}},6893:(Bt,tt,G)=>{"use strict";G.d(tt,{e:()=>Ne});var E=G(8239),_=G(3018),ne=G(8006),Se=G(5391);let Ne=(()=>{class be{constructor(ye,ue){this.auth=ye,this.afs=ue,this.codigoError="",this.estaLogueado=!1}login(ye){var ue=this;return(0,E.Z)(function*(){try{return yield ue.auth.signInWithEmailAndPassword(ye.email,ye.password)}catch(ee){console.log("Error en login de AuthService",ee)}})()}register(ye){var ue=this;return(0,E.Z)(function*(){try{return yield ue.auth.createUserWithEmailAndPassword(ye.email,ye.password)}catch(ee){console.log("Error en register de AuthService",ee)}})()}logOut(){return this.auth.signOut()}isLoggedIn(){return this.auth.authState}}return be.\u0275fac=function(ye){return new(ye||be)(_.LFG(ne.zQ),_.LFG(Se.ST))},be.\u0275prov=_.Yz7({token:be,factory:be.\u0275fac,providedIn:"root"}),be})()},1125:(Bt,tt,G)=>{"use strict";G.d(tt,{w:()=>Se});var E=G(8239),_=G(3018),ne=G(5391);let Se=(()=>{class Ne{constructor(ke){this.firestore=ke}alta(ke,ye){var ue=this;return(0,E.Z)(function*(){try{return yield ue.firestore.collection(ye).add(ke)}catch(ee){console.log("Error en alta jugadorService: ",ee)}})()}update(ke,ye,ue){var ee=this;return(0,E.Z)(function*(){try{return yield ee.firestore.collection(ye).doc(ke).set(ue)}catch(ae){console.log("Error en update jugadorService: ",ae)}})()}baja(ke,ye){var ue=this;return(0,E.Z)(function*(){try{return yield ue.firestore.collection(ye).doc(ke).delete()}catch(ee){console.log("Error en baja jugadorService: ",ee)}})()}getAll(ke){var ye=this;return(0,E.Z)(function*(){try{return yield ye.firestore.collection(ke).snapshotChanges()}catch(ue){console.log("Error en getAll jugadorService: ",ue)}})()}getById(ke,ye){return this.firestore.collection(ye).doc(ke).snapshotChanges()}}return Ne.\u0275fac=function(ke){return new(ke||Ne)(_.LFG(ne.ST))},Ne.\u0275prov=_.Yz7({token:Ne,factory:Ne.\u0275fac,providedIn:"root"}),Ne})()},3233:(Bt,tt,G)=>{"use strict";var E=G(9075),_=G(3018),ne=G(665),Se=G(6893),Ne=G(1125),be=G(9344),ke=G(4363),ye=G(8583);function ue(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"El nombre es requerido"),_.qZA())}function ee(V,b){1&V&&(_.TgZ(0,"small",31),_._uU(1,"El apellido es requerido"),_.qZA())}function ae(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"La edad minima es de 18 y la m\xe1xima de 99"),_.qZA())}function me(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"La edad es requerida"),_.qZA())}function fe(V,b){1&V&&(_.TgZ(0,"small",32),_._uU(1,"El tel\xe9fono debe tener una extensi\xf3n de 10 n\xfameros"),_.qZA())}function Ae(V,b){1&V&&(_.TgZ(0,"small",32),_._uU(1,"El tel\xe9fono es requerido"),_.qZA())}function qe(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"El g\xe9nero es requerido"),_.qZA())}function $e(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"El g\xe9nero es requerido"),_.qZA())}function je(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"El comentario no puede tener menos de 100 y m\xe1s de 300 caracteres"),_.qZA())}function yt(V,b){1&V&&(_.TgZ(0,"small",30),_._uU(1,"Es necesario dejar una opini\xf3n para avanzar"),_.qZA())}let Ke=(()=>{class V{constructor(w,R,Z,J,ce){this.fb=w,this.authSrv=R,this.baseService=Z,this.toastr=J,this.router=ce,this.id="",this.email="",this.jugadorEncuesta={},this.formulario=w.group({nombre:["",ne.kI.required],apellido:["",ne.kI.required],edad:["",[ne.kI.required,ne.kI.min(18),ne.kI.max(99)]],telefono:["",[ne.kI.required,this.validarDiezNumerosTel]],genero:["",ne.kI.required],gusto:["",ne.kI.required],opinion:["",[ne.kI.required,this.validarLength]]})}ngOnInit(){this.obtenerDatosUserLog()}aceptar(){this.altaEncuesta(this.formulario.value)}validarLength(w){const Z=w.value.length;return(Z<=100||Z>=300)&&{extension:!0}}validarDiezNumerosTel(w){return 10!=w.value.length&&{noDiezNumeros:!0}}obtenerDatosUserLog(){this.authSrv.isLoggedIn().subscribe(w=>{this.id=null==w?void 0:w.uid,this.email=null==w?void 0:w.email})}altaEncuesta(w){this.jugadorEncuesta={id:this.id,email:this.email,nombre:w.nombre,apellido:w.apellido,edad:w.edad,telefono:w.telefono,genero:w.genero,gusto:w.gusto,opinion:w.opinion},this.baseService.alta(this.jugadorEncuesta,"Encusta").then(()=>{this.toastr.success("La encuesta fue enviada con \xe9xito","Gracias por responder",{positionClass:"toast-bottom-right",timeOut:1e4}),w.value=""}).catch(R=>{this.toastr.error("Se produjo un error al enviar la encuesta","Error al envair",{positionClass:"toast-bottom-right",timeOut:1e4}),console.log(R)})}}return V.\u0275fac=function(w){return new(w||V)(_.Y36(ne.qu),_.Y36(Se.e),_.Y36(Ne.w),_.Y36(be._W),_.Y36(ke.F0))},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-encuesta"]],decls:69,vars:12,consts:[[1,"container","container-encuesta","mt-3"],[1,"card",2,"width","60"],[1,"card-header","text-center","text-uppercase","text-white","bg-dark"],[1,"container","text-left","formularioDiv"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputNombre"],["type","text","formControlName","nombre","id","exampleInputNombre",1,"form-control"],["id","nombreHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputApellido"],["type","text","formControlName","apellido","id","exampleInputApellido",1,"form-control"],["id","apellidoHelp","class","form-text text-muted",4,"ngIf"],["for","exampleInputEdad"],["type","number","formControlName","edad","id","exampleInputEdad",1,"form-control"],["for","exampleInputTelefono"],["type","text","formControlName","telefono","id","exampleInputTelefono","placeholder","Ingrese n\xfamero (Cod. \xc1rea + Tel\xe9fono sin 15)",1,"form-control"],["id","telHelp","class","form-text text-muted",4,"ngIf"],[1,"row"],[1,"form-group","col-6"],["for","exampleGenero"],["id","exampleGenero","formControlName","genero",1,"form-control"],[1,"form-check","form-check-inline"],["type","radio","name","gusto","id","inlineRadio1","value","Si","formControlName","gusto",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","name","gusto","id","inlineRadio2","value","No","formControlName","gusto",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],["for","exampleOpinion"],["id","exampleOpinion","rows","3","formControlName","opinion",1,"form-control"],[1,"container"],["type","submit",1,"btn","btn-outline-primary","btn-lg","btn-block","mb-2","mt-2",3,"disabled"],["id","nombreHelp",1,"form-text","text-muted"],["id","apellidoHelp",1,"form-text","text-muted"],["id","telHelp",1,"form-text","text-muted"]],template:function(w,R){if(1&w&&(_.TgZ(0,"div",0),_.TgZ(1,"div",1),_.TgZ(2,"div",2),_._uU(3," Encuesta "),_.qZA(),_.TgZ(4,"div",3),_.TgZ(5,"form",4),_.NdJ("ngSubmit",function(){return R.aceptar()}),_.TgZ(6,"div",5),_.TgZ(7,"label",6),_._uU(8,"Nombre"),_.qZA(),_._UZ(9,"input",7),_.YNc(10,ue,2,0,"small",8),_.qZA(),_.TgZ(11,"div",5),_.TgZ(12,"label",9),_._uU(13,"Apellido"),_.qZA(),_._UZ(14,"input",10),_.YNc(15,ee,2,0,"small",11),_.qZA(),_.TgZ(16,"div",5),_.TgZ(17,"label",12),_._uU(18,"Edad"),_.qZA(),_._UZ(19,"input",13),_.YNc(20,ae,2,0,"small",8),_.YNc(21,me,2,0,"small",8),_.qZA(),_.TgZ(22,"div",5),_.TgZ(23,"label",14),_._uU(24,"Tel\xe9fono"),_.qZA(),_._UZ(25,"input",15),_.YNc(26,fe,2,0,"small",16),_._UZ(27,"br"),_.YNc(28,Ae,2,0,"small",16),_.qZA(),_.TgZ(29,"div",17),_.TgZ(30,"div",18),_.TgZ(31,"label",19),_._uU(32,"G\xe9nero"),_.qZA(),_.TgZ(33,"select",20),_.TgZ(34,"option"),_._uU(35,"Masculino"),_.qZA(),_.TgZ(36,"option"),_._uU(37,"Femenino"),_.qZA(),_.TgZ(38,"option"),_._uU(39,"No binario"),_.qZA(),_.TgZ(40,"option"),_._uU(41,"Trans"),_.qZA(),_.TgZ(42,"option"),_._uU(43,"Otro"),_.qZA(),_.qZA(),_.YNc(44,qe,2,0,"small",8),_.qZA(),_.TgZ(45,"div",18),_.TgZ(46,"label",19),_._uU(47,"\xbfTe gust\xf3 la sala de juegos?"),_.qZA(),_._UZ(48,"br"),_.TgZ(49,"div",21),_._UZ(50,"input",22),_.TgZ(51,"label",23),_._uU(52,"Si"),_.qZA(),_.qZA(),_.TgZ(53,"div",21),_._UZ(54,"input",24),_.TgZ(55,"label",25),_._uU(56,"No"),_.qZA(),_.qZA(),_.YNc(57,$e,2,0,"small",8),_.qZA(),_.qZA(),_.TgZ(58,"div",5),_.TgZ(59,"label",26),_._uU(60,"Danos tu opini\xf3n"),_.qZA(),_._UZ(61,"textarea",27),_.YNc(62,je,2,0,"small",8),_._UZ(63,"br"),_.YNc(64,yt,2,0,"small",8),_.qZA(),_.TgZ(65,"div",28),_.TgZ(66,"div",17),_.TgZ(67,"button",29),_._uU(68,"ENVIAR"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&w){let Z,J,ce,_e,He,ht,Tt,qt,sn,Rn;_.xp6(5),_.Q6J("formGroup",R.formulario),_.xp6(5),_.Q6J("ngIf",(null==(Z=R.formulario.get("nombre"))?null:Z.hasError("required"))&&(null==(Z=R.formulario.get("nombre"))?null:Z.touched)),_.xp6(5),_.Q6J("ngIf",(null==(J=R.formulario.get("apellido"))?null:J.hasError("required"))&&(null==(J=R.formulario.get("apellido"))?null:J.touched)),_.xp6(5),_.Q6J("ngIf",(null==(ce=R.formulario.get("edad"))?null:ce.hasError("min"))||(null==(ce=R.formulario.get("edad"))?null:ce.hasError("max"))),_.xp6(1),_.Q6J("ngIf",(null==(_e=R.formulario.get("edad"))?null:_e.hasError("required"))&&(null==(_e=R.formulario.get("edad"))?null:_e.touched)),_.xp6(5),_.Q6J("ngIf",(null==(He=R.formulario.get("telefono"))?null:He.hasError("noDiezNumeros"))&&(null==(He=R.formulario.get("telefono"))?null:He.touched)),_.xp6(2),_.Q6J("ngIf",(null==(ht=R.formulario.get("telefono"))?null:ht.hasError("required"))&&(null==(ht=R.formulario.get("telefono"))?null:ht.touched)),_.xp6(16),_.Q6J("ngIf",(null==(Tt=R.formulario.get("genero"))?null:Tt.hasError("required"))&&(null==(Tt=R.formulario.get("genero"))?null:Tt.touched)),_.xp6(13),_.Q6J("ngIf",null==(qt=R.formulario.get("gusto"))?null:qt.hasError("required")),_.xp6(5),_.Q6J("ngIf",(null==(sn=R.formulario.get("opinion"))?null:sn.hasError("extension"))&&(null==(sn=R.formulario.get("opinion"))?null:sn.touched)),_.xp6(2),_.Q6J("ngIf",(null==(Rn=R.formulario.get("opinion"))?null:Rn.hasError("required"))&&(null==(Rn=R.formulario.get("opinion"))?null:Rn.touched)),_.xp6(3),_.Q6J("disabled",R.formulario.invalid)}},directives:[ne._Y,ne.JL,ne.sg,ne.Fj,ne.JJ,ne.u,ye.O5,ne.wV,ne.EJ,ne.YN,ne.Kr,ne._],styles:["small[_ngcontent-%COMP%]{color:red!important}.container[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{margin-top:5px}"]}),V})();var It=G(7129),st=G(8002),Me=G(5391);let pe=(()=>{class V{constructor(w){this.afs=w,this.chats=[],this.itemsCollection=this.afs.collection("chats")}cargarMensaje(){return this.itemsCollection=this.afs.collection("chats",w=>w.orderBy("fecha","desc").limit(30)),this.itemsCollection.valueChanges().pipe((0,st.U)(w=>{this.chats=w,this.chats=[];for(let R of w)this.chats.unshift(R);return this.chats}))}agregarMensaje(w,R){let Z={nombre:R.email,mensaje:w,fecha:(new Date).getTime(),uid:R.iduser};return this.itemsCollection.add(Z)}}return V.\u0275fac=function(w){return new(w||V)(_.LFG(Me.ST))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Ye(V,b){if(1&V){const w=_.EpF();_.TgZ(0,"a",3),_.NdJ("click",function(){return _.CHM(w),_.oxw(2).openChats()}),_._UZ(1,"i",4),_.qZA()}}function cn(V,b){if(1&V&&(_.TgZ(0,"div"),_.YNc(1,Ye,2,0,"a",2),_.ALo(2,"async"),_.qZA()),2&V){const w=_.oxw();_.xp6(1),_.Q6J("ngIf",_.lcZ(2,1,w.isLogged))}}const Pt=function(V){return{"text-right":V}},Oe=function(V,b){return{"badge-success":V,"badge-primary":b}};function Ge(V,b){if(1&V&&(_.TgZ(0,"div",16),_.TgZ(1,"span",17),_._uU(2),_.qZA(),_.TgZ(3,"p"),_._uU(4),_.qZA(),_.qZA()),2&V){const w=b.$implicit,R=_.oxw(2);_.Q6J("ngClass",_.VKq(4,Pt,R.usuarioLogueado.iduser==w.uid)),_.xp6(1),_.Q6J("ngClass",_.WLB(6,Oe,R.usuarioLogueado.iduser==w.uid,R.usuarioLogueado.iduser!=w.uid)),_.xp6(1),_.hij(" ",w.nombre," "),_.xp6(2),_.Oqu(w.mensaje)}}function Je(V,b){if(1&V){const w=_.EpF();_.TgZ(0,"div",5),_.TgZ(1,"div",6),_.TgZ(2,"h3"),_._uU(3,"CHAT"),_.qZA(),_.TgZ(4,"button",7),_.NdJ("click",function(){return _.CHM(w),_.oxw().openChat=!1}),_._uU(5,"X"),_.qZA(),_.qZA(),_.TgZ(6,"div",8),_.TgZ(7,"div",9),_.YNc(8,Ge,5,9,"div",10),_.qZA(),_.TgZ(9,"div",11),_.TgZ(10,"input",12),_.NdJ("ngModelChange",function(Z){return _.CHM(w),_.oxw().mensaje=Z})("keyup.enter",function(){return _.CHM(w),_.oxw().enviarMensaje()}),_.qZA(),_.TgZ(11,"div",13),_.TgZ(12,"button",14),_.NdJ("click",function(){return _.CHM(w),_.oxw().enviarMensaje()}),_._UZ(13,"i",15),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&V){const w=_.oxw();_.xp6(8),_.Q6J("ngForOf",w.chatSrv.chats),_.xp6(2),_.Q6J("ngModel",w.mensaje)}}let rt=(()=>{class V{constructor(w,R){this.chatSrv=w,this.auth=R,this.openChat=!1,this.mensaje="",this.elemento=document.getElementById("divMensajes"),this.usuarioLogueado=new It.n,this.auth.isLoggedIn().subscribe(Z=>{Z&&(this.usuarioLogueado.iduser=Z.uid,this.usuarioLogueado.email=Z.email)})}ngOnInit(){}openChats(){this.openChat=!0,this.chatSrv.cargarMensaje().subscribe(()=>{setTimeout(()=>{this.scrollToTheLastElementByClass()},20)})}enviarMensaje(){this.chatSrv.agregarMensaje(this.mensaje,this.usuarioLogueado).then(()=>{setTimeout(()=>{this.scrollToTheLastElementByClass()},20),this.mensaje=""}).catch(w=>console.error("Error al enviar",w))}scrollToTheLastElementByClass(){var w,R=document.getElementsByClassName("mensajeDiv");let Z=R[R.length-1],J=null==Z?void 0:Z.offsetTop;null===(w=document.getElementById("divMensajes"))||void 0===w||(w.scrollTop=J)}}return V.\u0275fac=function(w){return new(w||V)(_.Y36(pe),_.Y36(Se.e))},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-chat"]],inputs:{isLogged:"isLogged"},decls:2,vars:2,consts:[[4,"ngIf"],["class","card chat-window",4,"ngIf"],["href","#","class","float",3,"click",4,"ngIf"],["href","#",1,"float",3,"click"],[1,"fa","fa-comments","fa-lg","my-float"],[1,"card","chat-window"],[1,"card-header","d-flex","justify-content-between"],[1,"btn","btn-outline-danger",3,"click"],[1,"card-body"],["id","divMensajes",1,"app-mensajes","mb-1"],["class","mensajeDiv",3,"ngClass",4,"ngFor","ngForOf"],[1,"input-group","mb-3"],["type","text","placeholder","Ingresar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-success",3,"click"],["aria-hidden","true",1,"fa","fa-paper-plane","fa-xs"],[1,"mensajeDiv",3,"ngClass"],[1,"badge","badge-success",3,"ngClass"]],template:function(w,R){1&w&&(_.YNc(0,cn,3,3,"div",0),_.YNc(1,Je,14,2,"div",1)),2&w&&(_.Q6J("ngIf",!R.openChat),_.xp6(1),_.Q6J("ngIf",R.openChat))},directives:[ye.O5,ye.sg,ne.Fj,ne.JJ,ne.On,ye.mk],pipes:[ye.Ov],styles:[".float[_ngcontent-%COMP%]{position:fixed;width:60px;height:60px;bottom:40px;right:40px;background-color:#0c9;color:#fff;border-radius:50px;text-align:center;box-shadow:2px 2px 3px #999}.my-float[_ngcontent-%COMP%]{margin-top:22px}.puntero[_ngcontent-%COMP%]{cursor:pointer}.chat-window[_ngcontent-%COMP%]{position:fixed!important;z-index:2!important;right:15px!important;bottom:65px!important;width:300px;height:600px}.card-header[_ngcontent-%COMP%]{background-color:#0c9}.card-header[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:#fff}.app-mensajes[_ngcontent-%COMP%]{overflow-y:scroll;height:460px;padding:5px}.animated[_ngcontent-%COMP%]{animation-duration:1s;animation-fill-mode:both}.fast[_ngcontent-%COMP%]{animation-duration:.3s;animation-fill-mode:both}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation-name:fadeIn}.badge-primary[_ngcontent-%COMP%]{background-color:#6c757d!important}.badge-success[_ngcontent-%COMP%]{background-color:#0c9!important}.text-right[_ngcontent-%COMP%]{text-align:end!important}"]}),V})();const et=function(){return["/juegos/ahorcado"]};function le(V,b){1&V&&(_.TgZ(0,"button",60),_._UZ(1,"i",61),_._uU(2," Jugar "),_.qZA()),2&V&&_.Q6J("routerLink",_.DdM(1,et))}const vt=function(){return["/juegos/mayor-menor"]};function _t(V,b){1&V&&(_.TgZ(0,"button",60),_._UZ(1,"i",61),_._uU(2," Jugar "),_.qZA()),2&V&&_.Q6J("routerLink",_.DdM(1,vt))}const dn=function(){return["/juegos/preguntados"]};function Nt(V,b){1&V&&(_.TgZ(0,"button",60),_._UZ(1,"i",61),_._uU(2," Jugar "),_.qZA()),2&V&&_.Q6J("routerLink",_.DdM(1,dn))}const xt=function(){return["/juegos/golpear-carpincho"]};function Qt(V,b){1&V&&(_.TgZ(0,"button",60),_._UZ(1,"i",61),_._uU(2," Jugar "),_.qZA()),2&V&&_.Q6J("routerLink",_.DdM(1,xt))}const vn=function(){return["/quien-soy"]},at=function(){return["/juegos/golpear-carpincho"]},we=[{path:"",component:(()=>{class V{constructor(w,R){this.authService=w,this.route=R,this.logueado=this.authService.isLoggedIn()}ngOnInit(){}redirigeAlJuego(w){this.route.navigate([`/juegos/${w}`])}}return V.\u0275fac=function(w){return new(w||V)(_.Y36(Se.e),_.Y36(ke.F0))},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-home"]],decls:156,vars:15,consts:[[1,"masthead","bg-primary","text-white","text-center"],[1,"overlay"],["playsinline","playsinline","autoplay","autoplay","muted","muted","loop","loop"],["src","../../../assets/video/Casino.mp4","type","video/mp4"],[1,"container","d-flex","align-items-center","flex-column"],[1,"d-flex","h-100","text-center","align-items-center"],[1,"w-100","text-white"],[1,"masthead-heading","text-uppercase","d-flex","align-items-center"],["id","juegos",1,"page-section","portfolio"],[1,"container"],[1,"page-section-heading","text-center","text-uppercase","text-secondary","mb-0"],[1,"divider-custom"],[1,"divider-custom-line"],[1,"divider-custom-icon"],[1,"fa","fa-gamepad","fa-lg"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-6","col-lg-6","mb-3"],["data-bs-toggle","modal","data-bs-target","#ahorcado",1,"portfolio-item","mx-auto"],[1,"portfolio-item-caption","d-flex","align-items-center","justify-content-center","h-100","w-100"],[1,"portfolio-item-caption-content","text-center","text-white"],[1,"fa","fa-plus","fa-3x"],["src","../../../assets/imagenes/juego-ahorcado-portada.jpg","alt","...",1,"img-fluid","btn"],["data-bs-toggle","modal","data-bs-target","#portfolioModal2",1,"portfolio-item","mx-auto"],["src","../../../assets/imagenes/may-o-menor-front.jpg","alt","...",1,"img-fluid","btn"],["data-bs-toggle","modal","data-bs-target","#portfolioModal3",1,"portfolio-item","mx-auto"],["src","../../../assets/imagenes/preguntados-portada.jpg","alt","...",1,"img-fluid","btn"],["data-bs-toggle","modal","data-bs-target","#portfolioModal4",1,"portfolio-item","mx-auto"],["src","../../../assets/imagenes/wackamole.jpg","alt","...",1,"img-fluid","btn"],[1,"footer","text-center","bg-secondary","p-4"],[1,"row"],[1,"col-lg-4","mb-5","mb-lg-0"],[1,"text-uppercase","mb-4","text-white"],[1,"lead","mb-0","text-white"],["href","https://ar.linkedin.com/in/nicolasmiguenz",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fa","fa-linkedin"],["href","https://github.com/nmiguenz",1,"btn","btn-outline-light","btn-social","mx-1"],[1,"fa","fa-github"],[1,"col-lg-4"],[3,"routerLink"],[1,"copyright","py-4","text-center","text-white","bg-dark"],["id","ahorcado","tabindex","-1","aria-labelledby","ahorcado","aria-hidden","true",1,"portfolio-modal","modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","text-center","pb-5"],[1,"row","justify-content-center"],[1,"col-lg-8"],[1,"portfolio-modal-title","text-secondary","text-uppercase","mb-0"],[1,"fa","fa-bullseye"],["src","../../../assets/imagenes/juego-ahorcado-portada.jpg","alt","...",1,"img-fluid","rounded-circle","mb-5","img-desplegable"],[1,"mb-4"],["class","btn btn-primary","data-bs-dismiss","modal",3,"routerLink",4,"ngIf"],["id","portfolioModal2","tabindex","-1","aria-labelledby","portfolioModal2","aria-hidden","true",1,"portfolio-modal","modal","fade"],["src","../../../assets/imagenes/may-o-menor-front.jpg","alt","...",1,"img-fluid","rounded-circle","mb-5","img-desplegable"],["id","portfolioModal3","tabindex","-1","aria-labelledby","portfolioModal3","aria-hidden","true",1,"portfolio-modal","modal","fade"],["src","../../../assets/imagenes/preguntados-portada.jpg","alt","...",1,"img-fluid","rounded-circle","mb-5","img-desplegable"],["id","portfolioModal4","tabindex","-1","aria-labelledby","portfolioModal4","aria-hidden","true",1,"portfolio-modal","modal","fade"],["src","../../../assets/imagenes/wackamole.jpg","alt","...",1,"img-fluid","rounded-circle","mb-5","img-desplegable"],[3,"isLogged"],["data-bs-dismiss","modal",1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-play-circle","fa-fw"]],template:function(w,R){1&w&&(_.TgZ(0,"header",0),_._UZ(1,"div",1),_.TgZ(2,"video",2),_._UZ(3,"source",3),_.qZA(),_.TgZ(4,"div",4),_.TgZ(5,"div",5),_.TgZ(6,"div",6),_.TgZ(7,"h1",7),_._uU(8,"Sala de Juegos"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"section",8),_.TgZ(10,"div",9),_.TgZ(11,"h2",10),_._uU(12,"Juegos"),_.qZA(),_.TgZ(13,"div",11),_._UZ(14,"div",12),_.TgZ(15,"div",13),_._UZ(16,"i",14),_.qZA(),_._UZ(17,"div",12),_.qZA(),_.TgZ(18,"div",15),_.TgZ(19,"div",16),_.TgZ(20,"div",17),_.TgZ(21,"div",18),_.TgZ(22,"div",19),_._UZ(23,"i",20),_.qZA(),_.qZA(),_._UZ(24,"img",21),_.qZA(),_.qZA(),_.TgZ(25,"div",16),_.TgZ(26,"div",22),_.TgZ(27,"div",18),_.TgZ(28,"div",19),_._UZ(29,"i",20),_.qZA(),_.qZA(),_._UZ(30,"img",23),_.qZA(),_.qZA(),_.TgZ(31,"div",16),_.TgZ(32,"div",24),_.TgZ(33,"div",18),_.TgZ(34,"div",19),_._UZ(35,"i",20),_.qZA(),_.qZA(),_._UZ(36,"img",25),_.qZA(),_.qZA(),_.TgZ(37,"div",16),_.TgZ(38,"div",26),_.TgZ(39,"div",18),_.TgZ(40,"div",19),_._UZ(41,"i",20),_.qZA(),_.qZA(),_._UZ(42,"img",27),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(43,"footer",28),_.TgZ(44,"div",9),_.TgZ(45,"div",29),_.TgZ(46,"div",30),_.TgZ(47,"h4",31),_._uU(48,"Ubicaci\xf3n"),_.qZA(),_.TgZ(49,"p",32),_._uU(50," Buenos Aires "),_._UZ(51,"br"),_._uU(52," Argentina, AR "),_.qZA(),_.qZA(),_.TgZ(53,"div",30),_.TgZ(54,"h4",31),_._uU(55,"Around the Web"),_.qZA(),_.TgZ(56,"a",33),_._UZ(57,"i",34),_.qZA(),_.TgZ(58,"a",35),_._UZ(59,"i",36),_.qZA(),_.qZA(),_.TgZ(60,"div",37),_.TgZ(61,"h4",31),_._uU(62,"Sobre el desarrollador"),_.qZA(),_.TgZ(63,"p",32),_._uU(64," Programador en Soluciones tecnol\xf3gicas de la infomaci\xf3n y estudiante de la UTN. Pod\xe9s conocer m\xe1s de mi en la secci\xf3n "),_.TgZ(65,"a",38),_._uU(66,"\xbfqui\xe9n soy?"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(67,"div",39),_.TgZ(68,"div",9),_.TgZ(69,"small"),_._uU(70,"Copyright \xa9 Sala de juegos - 2021"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(71,"div",40),_.TgZ(72,"div",41),_.TgZ(73,"div",42),_.TgZ(74,"div",43),_._UZ(75,"button",44),_.qZA(),_.TgZ(76,"div",45),_.TgZ(77,"div",9),_.TgZ(78,"div",46),_.TgZ(79,"div",47),_.TgZ(80,"h2",48),_._uU(81,"Ahorcado"),_.qZA(),_.TgZ(82,"div",11),_._UZ(83,"div",12),_.TgZ(84,"div",13),_._UZ(85,"i",49),_.qZA(),_._UZ(86,"div",12),_.qZA(),_._UZ(87,"img",50),_.TgZ(88,"p",51),_._uU(89,"Es un juego de adivinanzas en la que el jugador tratar\xe1 de descubrir la palabra seg\xfan lo que sugieran los guiones. Si al presionar una letra, esta est\xe1 contenida en la palabra, los guiones se reemplazar\xe1n por la misma, caso contrario se dibujar\xe1 una parte del ahorcado. El jugador ganar\xe1 10 puntos cada vez que acierte la palabra oculta."),_.qZA(),_.YNc(90,le,3,2,"button",52),_.ALo(91,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(92,"div",53),_.TgZ(93,"div",41),_.TgZ(94,"div",42),_.TgZ(95,"div",43),_._UZ(96,"button",44),_.qZA(),_.TgZ(97,"div",45),_.TgZ(98,"div",9),_.TgZ(99,"div",46),_.TgZ(100,"div",47),_.TgZ(101,"h2",48),_._uU(102,"Mayor o menor"),_.qZA(),_.TgZ(103,"div",11),_._UZ(104,"div",12),_.TgZ(105,"div",13),_._UZ(106,"i",49),_.qZA(),_._UZ(107,"div",12),_.qZA(),_._UZ(108,"img",54),_.TgZ(109,"p",51),_._uU(110,"Mayor Menor es un juego de cartas donde el objetivo es adivinar si la siguiente carta en salir ser\xe1 mayor o menor que la que hay sobre el tapete. Cada acierto suma un punto y cada error descuenta la misma cantidad. El juego finaliza cuando solo queda una carta o se alcanzan los tres errores."),_.qZA(),_.YNc(111,_t,3,2,"button",52),_.ALo(112,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(113,"div",55),_.TgZ(114,"div",41),_.TgZ(115,"div",42),_.TgZ(116,"div",43),_._UZ(117,"button",44),_.qZA(),_.TgZ(118,"div",45),_.TgZ(119,"div",9),_.TgZ(120,"div",46),_.TgZ(121,"div",47),_.TgZ(122,"h2",48),_._uU(123,"Preguntados"),_.qZA(),_.TgZ(124,"div",11),_._UZ(125,"div",12),_.TgZ(126,"div",13),_._UZ(127,"i",49),_.qZA(),_._UZ(128,"div",12),_.qZA(),_._UZ(129,"img",56),_.TgZ(130,"p",51),_._uU(131,"Esta versi\xf3n del popular juego desafiar\xe1 el conocimiento que los participantes tengan de las banderas de cada pa\xeds. En cada partida se mostrar\xe1 una y se dar\xe1n tres opciones, si acierta suma un punto, si no lo resta. El juego finaliza al alcanzar los 3 errores."),_.qZA(),_.YNc(132,Nt,3,2,"button",52),_.ALo(133,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(134,"div",57),_.TgZ(135,"div",41),_.TgZ(136,"div",42),_.TgZ(137,"div",43),_._UZ(138,"button",44),_.qZA(),_.TgZ(139,"div",45),_.TgZ(140,"div",9),_.TgZ(141,"div",46),_.TgZ(142,"div",47),_.TgZ(143,"h2",48),_._uU(144,"Hit Carpincho"),_.qZA(),_.TgZ(145,"div",11),_._UZ(146,"div",12),_.TgZ(147,"div",13),_._UZ(148,"i",49),_.qZA(),_._UZ(149,"div",12),_.qZA(),_._UZ(150,"img",58),_.TgZ(151,"p",51),_._uU(152,"Los habitantes de Nordelta est\xe1n muy preocupados por la invasi\xf3n de sus preciosas casas, y salen a defenderlas con garrotes de los infames roedores gigantes. Tendr\xe1s un minuto para proteger tu casa y cada acierto sumar\xe1 un punto, pero ten cuidado porque aprenden con los golpes y se vuelven m\xe1s r\xe1pidos."),_.qZA(),_.YNc(153,Qt,3,2,"button",52),_.ALo(154,"async"),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_._UZ(155,"app-chat",59)),2&w&&(_.xp6(65),_.Q6J("routerLink",_.DdM(14,vn)),_.xp6(25),_.Q6J("ngIf",_.lcZ(91,6,R.logueado)),_.xp6(21),_.Q6J("ngIf",_.lcZ(112,8,R.logueado)),_.xp6(21),_.Q6J("ngIf",_.lcZ(133,10,R.logueado)),_.xp6(21),_.Q6J("ngIf",_.lcZ(154,12,R.logueado)),_.xp6(2),_.Q6J("isLogged",R.logueado))},directives:[ke.yS,ye.O5,rt,ke.rH],pipes:[ye.Ov],styles:["header[_ngcontent-%COMP%]{position:relative;background-color:#000;background-position:center;background-repeat:no-repeat;background-size:cover;height:100vh;min-height:25rem;width:100%;overflow:hidden;z-index:1}header[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;min-width:100%;min-height:100%;width:auto;height:auto;z-index:0;transform:translate(-50%) translateY(-50%)}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;z-index:2}header[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;width:100%;background-color:#000;opacity:.5;z-index:1}header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{height:95vh}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{cursor:pointer;position:relative;display:block;max-width:30rem;border-radius:.5rem;overflow:hidden}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]{position:absolute;top:0;left:0;transition:all .2s ease-in-out;opacity:0;background-color:#1abc9ce6}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]:hover{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]   .portfolio-item-caption[_ngcontent-%COMP%]   .portfolio-item-caption-content[_ngcontent-%COMP%]{font-size:1.5rem}"]}),V})()},{path:"ingreso",loadChildren:()=>G.e(354).then(G.bind(G,354)).then(V=>V.IngresoModule)},{path:"juegos",loadChildren:()=>G.e(699).then(G.bind(G,7699)).then(V=>V.JuegosModule)},{path:"encuesta",component:Ke},{path:"quien-soy",component:(()=>{class V{constructor(){}ngOnInit(){}}return V.\u0275fac=function(w){return new(w||V)},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-quien-soy"]],decls:19,vars:2,consts:[["id","quiwn",1,"container-fluid","bg-1","text-center"],[1,"margin"],["src","./assets/imagenes/foto_nm.jpg","alt","Bird","width","350","height","350",1,"img-responsive","rounded-circle","img-thumbnail","margin","top",2,"display","inline"],["id","que",1,"container-fluid","bg-2","text-center"],[1,"col-md-12","align","justify-content-center"],[1,"row","no-gutters","rounded","overflow-hidden","flex-md-row","mb-4","shadow-sm","h-md-250"],[1,"col","p-4","d-flex","flex-column","position-static"],[1,"card-text","mb-auto"],[1,"btn","btn-default","btn-lg","btn-primary",3,"routerLink"],[1,"glyphicon","glyphicon-file"],[1,"col-auto","d-none","d-lg-block"],["src","../../../assets/imagenes/wackamole.jpg","alt","","width","250","height","250",1,"bd-placeholder-img"]],template:function(w,R){1&w&&(_.TgZ(0,"div",0),_.TgZ(1,"h3",1),_._uU(2,"Nicol\xe1s Miguenz"),_.qZA(),_._UZ(3,"img",2),_.TgZ(4,"h3"),_._uU(5,"Soy alumno de la UTN FRA"),_.qZA(),_.qZA(),_.TgZ(6,"div",3),_.TgZ(7,"h3",1),_._uU(8,"Descripci\xf3n del juego propio"),_.qZA(),_.TgZ(9,"div",4),_.TgZ(10,"div",5),_.TgZ(11,"div",6),_.TgZ(12,"p",7),_._uU(13,"Los habitantes de Nordelta est\xe1n muy preocupados por la invasi\xf3n de sus preciosas casas, y salen a defenderlas con garrotes de los infames roedores gigantes. Tu tendr\xe1s un minuto para protegerla y cada acierto sumar\xe1 un punto, pero ten cuidado, porque aprenden con los golpes y se vuelven m\xe1s r\xe1pidos."),_.qZA(),_.TgZ(14,"a",8),_._UZ(15,"span",9),_._uU(16," Ir al juego "),_.qZA(),_.qZA(),_.TgZ(17,"div",10),_._UZ(18,"img",11),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&w&&(_.xp6(14),_.Q6J("routerLink",_.DdM(1,at)))},directives:[ke.yS],styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:100%}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}.github[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{height:500px;width:100%}"]}),V})()}];let Dt=(()=>{class V{}return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[[ke.Bz.forRoot(we)],ke.Bz]}),V})();const Gt=function(){return["/ingreso/login"]};function En(V,b){1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",10),_._uU(2,"Login"),_.qZA(),_.qZA()),2&V&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,Gt)))}const mn=function(){return["/ingreso/registro"]};function rr(V,b){1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",11),_._uU(2,"Registro"),_.qZA(),_.qZA()),2&V&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,mn)))}const or=function(){return["/quien-soy"]};function pn(V,b){1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",11),_._uU(2,"\xbfQui\xe9n soy?"),_.qZA(),_.qZA()),2&V&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,or)))}function Vn(V,b){1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",12),_._uU(2,"Juegos"),_.qZA(),_.qZA())}function Gn(V,b){if(1&V){const w=_.EpF();_.TgZ(0,"li",9),_.TgZ(1,"a",13),_.NdJ("click",function(){return _.CHM(w),_.oxw().onLogout()}),_._uU(2,"Logout"),_.qZA(),_.qZA()}}const ir=function(){return["/encuesta"]};function Zn(V,b){1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",14),_._uU(2,"Encuesta"),_.qZA(),_.qZA()),2&V&&(_.xp6(1),_.Q6J("routerLink",_.DdM(1,ir)))}const yn=function(){return["/juegos/listado-puntajes"]};function Dn(V,b){if(1&V&&(_.TgZ(0,"li",9),_.TgZ(1,"a",15),_._uU(2),_.qZA(),_.qZA()),2&V){const w=_.oxw();_.xp6(1),_.Q6J("routerLink",_.DdM(2,yn)),_.xp6(1),_.Oqu(null==w.user?null:w.user.email)}}const sr=function(){return[""]};let Ze=(()=>{class V{constructor(w,R){this.authService=w,this.route=R,this.isLogged=!1}ngOnInit(){this.authService.isLoggedIn().subscribe(w=>{this.user=w,this.isLogged=!!this.user},w=>console.log(w))}onLogout(){this.authService.logOut().then(()=>{console.log("Se cerr\xf3 la sesi\xf3n."),this.authService.estaLogueado=!1,this.isLogged=!1}).catch(()=>console.log("Error en el logout."))}}return V.\u0275fac=function(w){return new(w||V)(_.Y36(Se.e),_.Y36(ke.F0))},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-navbar"]],decls:16,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid","container-nav"],[1,"navbar-brand","text-uppercase","font-weight-bold",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"d-flex","justify-content-end"],[1,"navbar-nav","ml-auto","mt-2","mt-lg-0"],["class","nav-item",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["href","#juegos","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded"],["role","button",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"click"],["role","button","routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"],["routerLinkActive","active",1,"nav-link","py-3","px-0","px-lg-3","rounded",3,"routerLink"]],template:function(w,R){1&w&&(_.TgZ(0,"nav",0),_.TgZ(1,"div",1),_.TgZ(2,"a",2),_._uU(3,"SALA DE JUEGOS"),_.qZA(),_.TgZ(4,"button",3),_._UZ(5,"span",4),_.qZA(),_.TgZ(6,"div",5),_.TgZ(7,"div",6),_.TgZ(8,"ul",7),_.YNc(9,En,3,2,"li",8),_.YNc(10,rr,3,2,"li",8),_.YNc(11,pn,3,2,"li",8),_.YNc(12,Vn,3,0,"li",8),_.YNc(13,Gn,3,0,"li",8),_.YNc(14,Zn,3,2,"li",8),_.YNc(15,Dn,3,3,"li",8),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.qZA()),2&w&&(_.xp6(2),_.Q6J("routerLink",_.DdM(8,sr)),_.xp6(7),_.Q6J("ngIf",!R.isLogged),_.xp6(1),_.Q6J("ngIf",!R.isLogged),_.xp6(1),_.Q6J("ngIf",!R.isLogged),_.xp6(1),_.Q6J("ngIf",R.isLogged),_.xp6(1),_.Q6J("ngIf",R.isLogged),_.xp6(1),_.Q6J("ngIf",R.isLogged),_.xp6(1),_.Q6J("ngIf",R.isLogged))},directives:[ke.yS,ye.O5,ke.Od],styles:[".container-nav[_ngcontent-%COMP%]{margin-left:2rem;margin-right:2rem}.nav-link.active[_ngcontent-%COMP%]{color:#1abc9c!important;font-weight:700}"]}),V})(),re=(()=>{class V{constructor(){this.title="sala-de-juegos"}}return V.\u0275fac=function(w){return new(w||V)},V.\u0275cmp=_.Xpm({type:V,selectors:[["app-root"]],decls:2,vars:0,template:function(w,R){1&w&&(_._UZ(0,"app-navbar"),_._UZ(1,"router-outlet"))},directives:[Ze,ke.lC],styles:[""]}),V})();const Ce_firebaseConfig={apiKey:"AIzaSyBVzIlynyEz8g--BqO6R5uJVBilA2gWEkg",authDomain:"sala-de-juegos-24064.firebaseapp.com",projectId:"sala-de-juegos-24064",storageBucket:"sala-de-juegos-24064.appspot.com",messagingSenderId:"433986842570",appId:"1:433986842570:web:aaabba2cc862c78475a933",measurementId:"G-VWHYP9BT2J"};var gt=G(1841),dt=G(8939),Ut=G(8006),ft=G(7238);function kt(){return"undefined"!=typeof window&&void 0!==window.document}function fn(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qn(V){switch(V.length){case 0:return new ft.ZN;case 1:return V[0];default:return new ft.ZE(V)}}function ur(V,b,w,R,Z={},J={}){const ce=[],_e=[];let He=-1,ht=null;if(R.forEach(Tt=>{const qt=Tt.offset,sn=qt==He,Rn=sn&&ht||{};Object.keys(Tt).forEach(an=>{let ut=an,un=Tt[an];if("offset"!==an)switch(ut=b.normalizePropertyName(ut,ce),un){case ft.k1:un=Z[an];break;case ft.l3:un=J[an];break;default:un=b.normalizeStyleValue(an,ut,un,ce)}Rn[ut]=un}),sn||_e.push(Rn),ht=Rn,He=qt}),ce.length){const Tt="\n - ";throw new Error(`Unable to animate due to the following errors:${Tt}${ce.join(Tt)}`)}return _e}function Ln(V,b,w,R){switch(b){case"start":V.onStart(()=>R(w&&Jn(w,"start",V)));break;case"done":V.onDone(()=>R(w&&Jn(w,"done",V)));break;case"destroy":V.onDestroy(()=>R(w&&Jn(w,"destroy",V)))}}function Jn(V,b,w){const R=w.totalTime,J=Vt(V.element,V.triggerName,V.fromState,V.toState,b||V.phaseName,null==R?V.totalTime:R,!!w.disabled),ce=V._data;return null!=ce&&(J._data=ce),J}function Vt(V,b,w,R,Z="",J=0,ce){return{element:V,triggerName:b,fromState:w,toState:R,phaseName:Z,totalTime:J,disabled:!!ce}}function Yt(V,b,w){let R;return V instanceof Map?(R=V.get(b),R||V.set(b,R=w)):(R=V[b],R||(R=V[b]=w)),R}function Te(V){const b=V.indexOf(":");return[V.substring(1,b),V.substr(b+1)]}let se=(V,b)=>!1,Xe=(V,b)=>!1,mt=(V,b,w)=>[];const An=fn();(An||"undefined"!=typeof Element)&&(se=kt()?(V,b)=>{for(;b&&b!==document.documentElement;){if(b===V)return!0;b=b.parentNode||b.host}return!1}:(V,b)=>V.contains(b),Xe=(()=>{if(An||Element.prototype.matches)return(V,b)=>V.matches(b);{const V=Element.prototype,b=V.matchesSelector||V.mozMatchesSelector||V.msMatchesSelector||V.oMatchesSelector||V.webkitMatchesSelector;return b?(w,R)=>b.apply(w,[R]):Xe}})(),mt=(V,b,w)=>{let R=[];if(w){const Z=V.querySelectorAll(b);for(let J=0;J<Z.length;J++)R.push(Z[J])}else{const Z=V.querySelector(b);Z&&R.push(Z)}return R});let bn=null,yr=!1;function nn(V){bn||(bn=("undefined"!=typeof document?document.body:null)||{},yr=!!bn.style&&"WebkitAppearance"in bn.style);let b=!0;return bn.style&&!function(V){return"ebkit"==V.substring(1,6)}(V)&&(b=V in bn.style,!b&&yr&&(b="Webkit"+V.charAt(0).toUpperCase()+V.substr(1)in bn.style)),b}const Qr=Xe,Jr=se,ps=mt;function pi(V){const b={};return Object.keys(V).forEach(w=>{const R=w.replace(/([a-z])([A-Z])/g,"$1-$2");b[R]=V[w]}),b}let gi=(()=>{class V{validateStyleProperty(w){return nn(w)}matchesElement(w,R){return Qr(w,R)}containsElement(w,R){return Jr(w,R)}query(w,R,Z){return ps(w,R,Z)}computeStyle(w,R,Z){return Z||""}animate(w,R,Z,J,ce,_e=[],He){return new ft.ZN(Z,J)}}return V.\u0275fac=function(w){return new(w||V)},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})();class Oi{}Oi.NOOP=new gi;const zr="ng-enter",Vr="ng-leave",Xr="ng-trigger",In=".ng-trigger",zi="ng-animating",Ar=".ng-animating";function Rt(V){if("number"==typeof V)return V;const b=V.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:gn(parseFloat(b[1]),b[2])}function gn(V,b){switch(b){case"s":return 1e3*V;default:return V}}function Pn(V,b,w){return V.hasOwnProperty("duration")?V:function(V,b,w){let Z,J=0,ce="";if("string"==typeof V){const _e=V.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return b.push(`The provided timing value "${V}" is invalid.`),{duration:0,delay:0,easing:""};Z=gn(parseFloat(_e[1]),_e[2]);const He=_e[3];null!=He&&(J=gn(parseFloat(He),_e[4]));const ht=_e[5];ht&&(ce=ht)}else Z=V;if(!w){let _e=!1,He=b.length;Z<0&&(b.push("Duration values below 0 are not allowed for this animation step."),_e=!0),J<0&&(b.push("Delay values below 0 are not allowed for this animation step."),_e=!0),_e&&b.splice(He,0,`The provided timing value "${V}" is invalid.`)}return{duration:Z,delay:J,easing:ce}}(V,b,w)}function kn(V,b={}){return Object.keys(V).forEach(w=>{b[w]=V[w]}),b}function Pe(V,b,w={}){if(b)for(let R in V)w[R]=V[R];else kn(V,w);return w}function Ee(V,b,w){return w?b+":"+w+";":""}function oe(V){let b="";for(let w=0;w<V.style.length;w++){const R=V.style.item(w);b+=Ee(0,R,V.style.getPropertyValue(R))}for(const w in V.style)V.style.hasOwnProperty(w)&&!w.startsWith("_")&&(b+=Ee(0,Wn(w),V.style[w]));V.setAttribute("style",b)}function Be(V,b,w){V.style&&(Object.keys(b).forEach(R=>{const Z=Zr(R);w&&!w.hasOwnProperty(R)&&(w[R]=V.style[Z]),V.style[Z]=b[R]}),fn()&&oe(V))}function Qe(V,b){V.style&&(Object.keys(b).forEach(w=>{const R=Zr(w);V.style[R]=""}),fn()&&oe(V))}function tn(V){return Array.isArray(V)?1==V.length?V[0]:(0,ft.vP)(V):V}const qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Xn(V){let b=[];if("string"==typeof V){let w;for(;w=qn.exec(V);)b.push(w[1]);qn.lastIndex=0}return b}function Nr(V,b,w){const R=V.toString(),Z=R.replace(qn,(J,ce)=>{let _e=b[ce];return b.hasOwnProperty(ce)||(w.push(`Please provide a value for the animation param ${ce}`),_e=""),_e.toString()});return Z==R?V:Z}function ai(V){const b=[];let w=V.next();for(;!w.done;)b.push(w.value),w=V.next();return b}const Pi=/-+([a-z0-9])/g;function Zr(V){return V.replace(Pi,(...b)=>b[1].toUpperCase())}function Wn(V){return V.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wi(V,b){return 0===V||0===b}function Wi(V,b,w){const R=Object.keys(w);if(R.length&&b.length){let J=b[0],ce=[];if(R.forEach(_e=>{J.hasOwnProperty(_e)||ce.push(_e),J[_e]=w[_e]}),ce.length)for(var Z=1;Z<b.length;Z++){let _e=b[Z];ce.forEach(function(He){_e[He]=ei(V,He)})}}return b}function br(V,b,w){switch(b.type){case 7:return V.visitTrigger(b,w);case 0:return V.visitState(b,w);case 1:return V.visitTransition(b,w);case 2:return V.visitSequence(b,w);case 3:return V.visitGroup(b,w);case 4:return V.visitAnimate(b,w);case 5:return V.visitKeyframes(b,w);case 6:return V.visitStyle(b,w);case 8:return V.visitReference(b,w);case 9:return V.visitAnimateChild(b,w);case 10:return V.visitAnimateRef(b,w);case 11:return V.visitQuery(b,w);case 12:return V.visitStagger(b,w);default:throw new Error(`Unable to resolve animation metadata node #${b.type}`)}}function ei(V,b){return window.getComputedStyle(V)[b]}function Ki(V,b){const w=[];return"string"==typeof V?V.split(/\s*,\s*/).forEach(R=>function(V,b,w){if(":"==V[0]){const He=function(V,b){switch(V){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,R)=>parseFloat(R)>parseFloat(w);case":decrement":return(w,R)=>parseFloat(R)<parseFloat(w);default:return b.push(`The transition alias value "${V}" is not supported`),"* => *"}}(V,w);if("function"==typeof He)return void b.push(He);V=He}const R=V.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return w.push(`The provided transition expression "${V}" is not supported`),b;const Z=R[1],J=R[2],ce=R[3];b.push(pr(Z,ce));"<"==J[0]&&!("*"==Z&&"*"==ce)&&b.push(pr(ce,Z))}(R,w,b)):w.push(V),w}const _r=new Set(["true","1"]),Kr=new Set(["false","0"]);function pr(V,b){const w=_r.has(V)||Kr.has(V),R=_r.has(b)||Kr.has(b);return(Z,J)=>{let ce="*"==V||V==Z,_e="*"==b||b==J;return!ce&&w&&"boolean"==typeof Z&&(ce=Z?_r.has(V):Kr.has(V)),!_e&&R&&"boolean"==typeof J&&(_e=J?_r.has(b):Kr.has(b)),ce&&_e}}const es=new RegExp("s*:selfs*,?","g");function ki(V,b,w){return new gs(V).build(b,w)}class gs{constructor(b){this._driver=b}build(b,w){const R=new ts(w);return this._resetContextStyleTimingState(R),br(this,tn(b),R)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles={},b.collectedStyles[""]={},b.currentTime=0}visitTrigger(b,w){let R=w.queryCount=0,Z=w.depCount=0;const J=[],ce=[];return"@"==b.name.charAt(0)&&w.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),b.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(w),0==_e.type){const He=_e,ht=He.name;ht.toString().split(/\s*,\s*/).forEach(Tt=>{He.name=Tt,J.push(this.visitState(He,w))}),He.name=ht}else if(1==_e.type){const He=this.visitTransition(_e,w);R+=He.queryCount,Z+=He.depCount,ce.push(He)}else w.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:b.name,states:J,transitions:ce,queryCount:R,depCount:Z,options:null}}visitState(b,w){const R=this.visitStyle(b.styles,w),Z=b.options&&b.options.params||null;if(R.containsDynamicStyles){const J=new Set,ce=Z||{};if(R.styles.forEach(_e=>{if(Mr(_e)){const He=_e;Object.keys(He).forEach(ht=>{Xn(He[ht]).forEach(Tt=>{ce.hasOwnProperty(Tt)||J.add(Tt)})})}}),J.size){const _e=ai(J.values());w.errors.push(`state("${b.name}", ...) must define default values for all the following style substitutions: ${_e.join(", ")}`)}}return{type:0,name:b.name,style:R,options:Z?{params:Z}:null}}visitTransition(b,w){w.queryCount=0,w.depCount=0;const R=br(this,tn(b.animation),w);return{type:1,matchers:Ki(b.expr,w.errors),animation:R,queryCount:w.queryCount,depCount:w.depCount,options:Fi(b.options)}}visitSequence(b,w){return{type:2,steps:b.steps.map(R=>br(this,R,w)),options:Fi(b.options)}}visitGroup(b,w){const R=w.currentTime;let Z=0;const J=b.steps.map(ce=>{w.currentTime=R;const _e=br(this,ce,w);return Z=Math.max(Z,w.currentTime),_e});return w.currentTime=Z,{type:3,steps:J,options:Fi(b.options)}}visitAnimate(b,w){const R=function(V,b){let w=null;if(V.hasOwnProperty("duration"))w=V;else if("number"==typeof V)return Ti(Pn(V,b).duration,0,"");const R=V;if(R.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Ti(0,0,"");return J.dynamic=!0,J.strValue=R,J}return w=w||Pn(R,b),Ti(w.duration,w.delay,w.easing)}(b.timings,w.errors);w.currentAnimateTimings=R;let Z,J=b.styles?b.styles:(0,ft.oB)({});if(5==J.type)Z=this.visitKeyframes(J,w);else{let ce=b.styles,_e=!1;if(!ce){_e=!0;const ht={};R.easing&&(ht.easing=R.easing),ce=(0,ft.oB)(ht)}w.currentTime+=R.duration+R.delay;const He=this.visitStyle(ce,w);He.isEmptyStep=_e,Z=He}return w.currentAnimateTimings=null,{type:4,timings:R,style:Z,options:null}}visitStyle(b,w){const R=this._makeStyleAst(b,w);return this._validateStyleAst(R,w),R}_makeStyleAst(b,w){const R=[];Array.isArray(b.styles)?b.styles.forEach(ce=>{"string"==typeof ce?ce==ft.l3?R.push(ce):w.errors.push(`The provided style string value ${ce} is not allowed.`):R.push(ce)}):R.push(b.styles);let Z=!1,J=null;return R.forEach(ce=>{if(Mr(ce)){const _e=ce,He=_e.easing;if(He&&(J=He,delete _e.easing),!Z)for(let ht in _e)if(_e[ht].toString().indexOf("{{")>=0){Z=!0;break}}}),{type:6,styles:R,easing:J,offset:b.offset,containsDynamicStyles:Z,options:null}}_validateStyleAst(b,w){const R=w.currentAnimateTimings;let Z=w.currentTime,J=w.currentTime;R&&J>0&&(J-=R.duration+R.delay),b.styles.forEach(ce=>{"string"!=typeof ce&&Object.keys(ce).forEach(_e=>{if(!this._driver.validateStyleProperty(_e))return void w.errors.push(`The provided animation property "${_e}" is not a supported CSS property for animations`);const He=w.collectedStyles[w.currentQuerySelector],ht=He[_e];let Tt=!0;ht&&(J!=Z&&J>=ht.startTime&&Z<=ht.endTime&&(w.errors.push(`The CSS property "${_e}" that exists between the times of "${ht.startTime}ms" and "${ht.endTime}ms" is also being animated in a parallel animation between the times of "${J}ms" and "${Z}ms"`),Tt=!1),J=ht.startTime),Tt&&(He[_e]={startTime:J,endTime:Z}),w.options&&function(V,b,w){const R=b.params||{},Z=Xn(V);Z.length&&Z.forEach(J=>{R.hasOwnProperty(J)||w.push(`Unable to resolve the local animation param ${J} in the given list of values`)})}(ce[_e],w.options,w.errors)})})}visitKeyframes(b,w){const R={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push("keyframes() must be placed inside of a call to animate()"),R;let J=0;const ce=[];let _e=!1,He=!1,ht=0;const Tt=b.steps.map(lr=>{const Dr=this._makeStyleAst(lr,w);let Ht=null!=Dr.offset?Dr.offset:function(V){if("string"==typeof V)return null;let b=null;if(Array.isArray(V))V.forEach(w=>{if(Mr(w)&&w.hasOwnProperty("offset")){const R=w;b=parseFloat(R.offset),delete R.offset}});else if(Mr(V)&&V.hasOwnProperty("offset")){const w=V;b=parseFloat(w.offset),delete w.offset}return b}(Dr.styles),Jt=0;return null!=Ht&&(J++,Jt=Dr.offset=Ht),He=He||Jt<0||Jt>1,_e=_e||Jt<ht,ht=Jt,ce.push(Jt),Dr});He&&w.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_e&&w.errors.push("Please ensure that all keyframe offsets are in order");const qt=b.steps.length;let sn=0;J>0&&J<qt?w.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==J&&(sn=1/(qt-1));const Rn=qt-1,an=w.currentTime,ut=w.currentAnimateTimings,un=ut.duration;return Tt.forEach((lr,Dr)=>{const Ht=sn>0?Dr==Rn?1:sn*Dr:ce[Dr],Jt=Ht*un;w.currentTime=an+ut.delay+Jt,ut.duration=Jt,this._validateStyleAst(lr,w),lr.offset=Ht,R.styles.push(lr)}),R}visitReference(b,w){return{type:8,animation:br(this,tn(b.animation),w),options:Fi(b.options)}}visitAnimateChild(b,w){return w.depCount++,{type:9,options:Fi(b.options)}}visitAnimateRef(b,w){return{type:10,animation:this.visitReference(b.animation,w),options:Fi(b.options)}}visitQuery(b,w){const R=w.currentQuerySelector,Z=b.options||{};w.queryCount++,w.currentQuery=b;const[J,ce]=function(V){const b=!!V.split(/\s*,\s*/).find(w=>":self"==w);return b&&(V=V.replace(es,"")),[V=V.replace(/@\*/g,In).replace(/@\w+/g,w=>In+"-"+w.substr(1)).replace(/:animating/g,Ar),b]}(b.selector);w.currentQuerySelector=R.length?R+" "+J:J,Yt(w.collectedStyles,w.currentQuerySelector,{});const _e=br(this,tn(b.animation),w);return w.currentQuery=null,w.currentQuerySelector=R,{type:11,selector:J,limit:Z.limit||0,optional:!!Z.optional,includeSelf:ce,animation:_e,originalSelector:b.selector,options:Fi(b.options)}}visitStagger(b,w){w.currentQuery||w.errors.push("stagger() can only be used inside of query()");const R="full"===b.timings?{duration:0,delay:0,easing:"full"}:Pn(b.timings,w.errors,!0);return{type:12,animation:br(this,tn(b.animation),w),timings:R,options:null}}}class ts{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Mr(V){return!Array.isArray(V)&&"object"==typeof V}function Fi(V){return V?(V=kn(V)).params&&(V.params=function(V){return V?kn(V):null}(V.params)):V={},V}function Ti(V,b,w){return{duration:V,delay:b,easing:w}}function mi(V,b,w,R,Z,J,ce=null,_e=!1){return{type:1,element:V,keyframes:b,preStyleProps:w,postStyleProps:R,duration:Z,delay:J,totalTime:Z+J,easing:ce,subTimeline:_e}}class Ns{constructor(){this._map=new Map}consume(b){let w=this._map.get(b);return w?this._map.delete(b):w=[],w}append(b,w){let R=this._map.get(b);R||this._map.set(b,R=[]),R.push(...w)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const rs=new RegExp(":enter","g"),oo=new RegExp(":leave","g");function is(V,b,w,R,Z,J={},ce={},_e,He,ht=[]){return(new ys).buildKeyframes(V,b,w,R,Z,J,ce,_e,He,ht)}class ys{buildKeyframes(b,w,R,Z,J,ce,_e,He,ht,Tt=[]){ht=ht||new Ns;const qt=new ti(b,w,ht,Z,J,Tt,[]);qt.options=He,qt.currentTimeline.setStyles([ce],null,qt.errors,He),br(this,R,qt);const sn=qt.timelines.filter(Rn=>Rn.containsAnimation());if(sn.length&&Object.keys(_e).length){const Rn=sn[sn.length-1];Rn.allowOnlyTimelineStyles()||Rn.setStyles([_e],null,qt.errors,He)}return sn.length?sn.map(Rn=>Rn.buildKeyframes()):[mi(w,[],[],[],0,0,"",!1)]}visitTrigger(b,w){}visitState(b,w){}visitTransition(b,w){}visitAnimateChild(b,w){const R=w.subInstructions.consume(w.element);if(R){const Z=w.createSubContext(b.options),J=w.currentTimeline.currentTime,ce=this._visitSubInstructions(R,Z,Z.options);J!=ce&&w.transformIntoNewTimeline(ce)}w.previousNode=b}visitAnimateRef(b,w){const R=w.createSubContext(b.options);R.transformIntoNewTimeline(),this.visitReference(b.animation,R),w.transformIntoNewTimeline(R.currentTimeline.currentTime),w.previousNode=b}_visitSubInstructions(b,w,R){let J=w.currentTimeline.currentTime;const ce=null!=R.duration?Rt(R.duration):null,_e=null!=R.delay?Rt(R.delay):null;return 0!==ce&&b.forEach(He=>{const ht=w.appendInstructionToTimeline(He,ce,_e);J=Math.max(J,ht.duration+ht.delay)}),J}visitReference(b,w){w.updateOptions(b.options,!0),br(this,b.animation,w),w.previousNode=b}visitSequence(b,w){const R=w.subContextCount;let Z=w;const J=b.options;if(J&&(J.params||J.delay)&&(Z=w.createSubContext(J),Z.transformIntoNewTimeline(),null!=J.delay)){6==Z.previousNode.type&&(Z.currentTimeline.snapshotCurrentStyles(),Z.previousNode=Vi);const ce=Rt(J.delay);Z.delayNextStep(ce)}b.steps.length&&(b.steps.forEach(ce=>br(this,ce,Z)),Z.currentTimeline.applyStylesToKeyframe(),Z.subContextCount>R&&Z.transformIntoNewTimeline()),w.previousNode=b}visitGroup(b,w){const R=[];let Z=w.currentTimeline.currentTime;const J=b.options&&b.options.delay?Rt(b.options.delay):0;b.steps.forEach(ce=>{const _e=w.createSubContext(b.options);J&&_e.delayNextStep(J),br(this,ce,_e),Z=Math.max(Z,_e.currentTimeline.currentTime),R.push(_e.currentTimeline)}),R.forEach(ce=>w.currentTimeline.mergeTimelineCollectedStyles(ce)),w.transformIntoNewTimeline(Z),w.previousNode=b}_visitTiming(b,w){if(b.dynamic){const R=b.strValue;return Pn(w.params?Nr(R,w.params,w.errors):R,w.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,w){const R=w.currentAnimateTimings=this._visitTiming(b.timings,w),Z=w.currentTimeline;R.delay&&(w.incrementTime(R.delay),Z.snapshotCurrentStyles());const J=b.style;5==J.type?this.visitKeyframes(J,w):(w.incrementTime(R.duration),this.visitStyle(J,w),Z.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=b}visitStyle(b,w){const R=w.currentTimeline,Z=w.currentAnimateTimings;!Z&&R.getCurrentStyleProperties().length&&R.forwardFrame();const J=Z&&Z.easing||b.easing;b.isEmptyStep?R.applyEmptyStep(J):R.setStyles(b.styles,J,w.errors,w.options),w.previousNode=b}visitKeyframes(b,w){const R=w.currentAnimateTimings,Z=w.currentTimeline.duration,J=R.duration,_e=w.createSubContext().currentTimeline;_e.easing=R.easing,b.styles.forEach(He=>{_e.forwardTime((He.offset||0)*J),_e.setStyles(He.styles,He.easing,w.errors,w.options),_e.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(_e),w.transformIntoNewTimeline(Z+J),w.previousNode=b}visitQuery(b,w){const R=w.currentTimeline.currentTime,Z=b.options||{},J=Z.delay?Rt(Z.delay):0;J&&(6===w.previousNode.type||0==R&&w.currentTimeline.getCurrentStyleProperties().length)&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Vi);let ce=R;const _e=w.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!Z.optional,w.errors);w.currentQueryTotal=_e.length;let He=null;_e.forEach((ht,Tt)=>{w.currentQueryIndex=Tt;const qt=w.createSubContext(b.options,ht);J&&qt.delayNextStep(J),ht===w.element&&(He=qt.currentTimeline),br(this,b.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),ce=Math.max(ce,qt.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(ce),He&&(w.currentTimeline.mergeTimelineCollectedStyles(He),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=b}visitStagger(b,w){const R=w.parentContext,Z=w.currentTimeline,J=b.timings,ce=Math.abs(J.duration),_e=ce*(w.currentQueryTotal-1);let He=ce*w.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":He=_e-He;break;case"full":He=R.currentStaggerTime}const Tt=w.currentTimeline;He&&Tt.delayNextStep(He);const qt=Tt.currentTime;br(this,b.animation,w),w.previousNode=b,R.currentStaggerTime=Z.currentTime-qt+(Z.startTime-R.currentTimeline.startTime)}}const Vi={};class ti{constructor(b,w,R,Z,J,ce,_e,He){this._driver=b,this.element=w,this.subInstructions=R,this._enterClassName=Z,this._leaveClassName=J,this.errors=ce,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=He||new wo(this._driver,w,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,w){if(!b)return;const R=b;let Z=this.options;null!=R.duration&&(Z.duration=Rt(R.duration)),null!=R.delay&&(Z.delay=Rt(R.delay));const J=R.params;if(J){let ce=Z.params;ce||(ce=this.options.params={}),Object.keys(J).forEach(_e=>{(!w||!ce.hasOwnProperty(_e))&&(ce[_e]=Nr(J[_e],ce,this.errors))})}}_copyOptions(){const b={};if(this.options){const w=this.options.params;if(w){const R=b.params={};Object.keys(w).forEach(Z=>{R[Z]=w[Z]})}}return b}createSubContext(b=null,w,R){const Z=w||this.element,J=new ti(this._driver,Z,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Z,R||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(b),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(b){return this.previousNode=Vi,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,w,R){const Z={duration:null!=w?w:b.duration,delay:this.currentTimeline.currentTime+(null!=R?R:0)+b.delay,easing:""},J=new ss(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,Z,b.stretchStartingKeyframe);return this.timelines.push(J),Z}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,w,R,Z,J,ce){let _e=[];if(Z&&_e.push(this.element),b.length>0){b=(b=b.replace(rs,"."+this._enterClassName)).replace(oo,"."+this._leaveClassName);let ht=this._driver.query(this.element,b,1!=R);0!==R&&(ht=R<0?ht.slice(ht.length+R,ht.length):ht.slice(0,R)),_e.push(...ht)}return!J&&0==_e.length&&ce.push(`\`query("${w}")\` returned zero elements. (Use \`query("${w}", { optional: true })\` if you wish to allow this.)`),_e}}class wo{constructor(b,w,R,Z){this._driver=b,this.element=w,this.startTime=R,this._elementTimelineStylesLookup=Z,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const w=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||w?(this.forwardTime(this.currentTime+b),w&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,w){return this.applyStylesToKeyframe(),new wo(this._driver,b,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,w){this._localTimelineStyles[b]=w,this._globalTimelineStyles[b]=w,this._styleSummary[b]={time:this.currentTime,value:w}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&(this._previousKeyframe.easing=b),Object.keys(this._globalTimelineStyles).forEach(w=>{this._backFill[w]=this._globalTimelineStyles[w]||ft.l3,this._currentKeyframe[w]=ft.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,w,R,Z){w&&(this._previousKeyframe.easing=w);const J=Z&&Z.params||{},ce=function(V,b){const w={};let R;return V.forEach(Z=>{"*"===Z?(R=R||Object.keys(b),R.forEach(J=>{w[J]=ft.l3})):Pe(Z,!1,w)}),w}(b,this._globalTimelineStyles);Object.keys(ce).forEach(_e=>{const He=Nr(ce[_e],J,R);this._pendingStyles[_e]=He,this._localTimelineStyles.hasOwnProperty(_e)||(this._backFill[_e]=this._globalTimelineStyles.hasOwnProperty(_e)?this._globalTimelineStyles[_e]:ft.l3),this._updateStyle(_e,He)})}applyStylesToKeyframe(){const b=this._pendingStyles,w=Object.keys(b);0!=w.length&&(this._pendingStyles={},w.forEach(R=>{this._currentKeyframe[R]=b[R]}),Object.keys(this._localTimelineStyles).forEach(R=>{this._currentKeyframe.hasOwnProperty(R)||(this._currentKeyframe[R]=this._localTimelineStyles[R])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(b=>{const w=this._localTimelineStyles[b];this._pendingStyles[b]=w,this._updateStyle(b,w)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let w in this._currentKeyframe)b.push(w);return b}mergeTimelineCollectedStyles(b){Object.keys(b._styleSummary).forEach(w=>{const R=this._styleSummary[w],Z=b._styleSummary[w];(!R||Z.time>R.time)&&this._updateStyle(w,Z.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,w=new Set,R=1===this._keyframes.size&&0===this.duration;let Z=[];this._keyframes.forEach((_e,He)=>{const ht=Pe(_e,!0);Object.keys(ht).forEach(Tt=>{const qt=ht[Tt];qt==ft.k1?b.add(Tt):qt==ft.l3&&w.add(Tt)}),R||(ht.offset=He/this.duration),Z.push(ht)});const J=b.size?ai(b.values()):[],ce=w.size?ai(w.values()):[];if(R){const _e=Z[0],He=kn(_e);_e.offset=0,He.offset=1,Z=[_e,He]}return mi(this.element,Z,J,ce,this.duration,this.startTime,this.easing,!1)}}class ss extends wo{constructor(b,w,R,Z,J,ce,_e=!1){super(b,w,ce.delay),this.keyframes=R,this.preStyleProps=Z,this.postStyleProps=J,this._stretchStartingKeyframe=_e,this.timings={duration:ce.duration,delay:ce.delay,easing:ce.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:w,duration:R,easing:Z}=this.timings;if(this._stretchStartingKeyframe&&w){const J=[],ce=R+w,_e=w/ce,He=Pe(b[0],!1);He.offset=0,J.push(He);const ht=Pe(b[0],!1);ht.offset=Zs(_e),J.push(ht);const Tt=b.length-1;for(let qt=1;qt<=Tt;qt++){let sn=Pe(b[qt],!1);sn.offset=Zs((w+sn.offset*R)/ce),J.push(sn)}R=ce,w=0,Z="",b=J}return mi(this.element,b,this.preStyleProps,this.postStyleProps,R,w,Z,!0)}}function Zs(V,b=3){const w=Math.pow(10,b-1);return Math.round(V*w)/w}class Br{}class Bo extends Br{normalizePropertyName(b,w){return Zr(b)}normalizeStyleValue(b,w,R,Z){let J="";const ce=R.toString().trim();if(os[w]&&0!==R&&"0"!==R)if("number"==typeof R)J="px";else{const _e=R.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&Z.push(`Please provide a CSS unit value for ${b}:${R}`)}return ce+J}}const os=(()=>function(V){const b={};return V.forEach(w=>b[w]=!0),b}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function as(V,b,w,R,Z,J,ce,_e,He,ht,Tt,qt,sn){return{type:0,element:V,triggerName:b,isRemovalTransition:Z,fromState:w,fromStyles:J,toState:R,toStyles:ce,timelines:_e,queriedElements:He,preStyleProps:ht,postStyleProps:Tt,totalTime:qt,errors:sn}}const Pr={};class vs{constructor(b,w,R){this._triggerName=b,this.ast=w,this._stateStyles=R}match(b,w,R,Z){return function(V,b,w,R,Z){return V.some(J=>J(b,w,R,Z))}(this.ast.matchers,b,w,R,Z)}buildStyles(b,w,R){const Z=this._stateStyles["*"],J=this._stateStyles[b],ce=Z?Z.buildStyles(w,R):{};return J?J.buildStyles(w,R):ce}build(b,w,R,Z,J,ce,_e,He,ht,Tt){const qt=[],sn=this.ast.options&&this.ast.options.params||Pr,an=this.buildStyles(R,_e&&_e.params||Pr,qt),ut=He&&He.params||Pr,un=this.buildStyles(Z,ut,qt),lr=new Set,Dr=new Map,Ht=new Map,Jt="void"===Z,zo={params:Object.assign(Object.assign({},sn),ut)},x=Tt?[]:is(b,w,this.ast.animation,J,ce,an,un,zo,ht,qt);let I=0;if(x.forEach(O=>{I=Math.max(O.duration+O.delay,I)}),qt.length)return as(w,this._triggerName,R,Z,Jt,an,un,[],[],Dr,Ht,I,qt);x.forEach(O=>{const j=O.element,K=Yt(Dr,j,{});O.preStyleProps.forEach(Ie=>K[Ie]=!0);const de=Yt(Ht,j,{});O.postStyleProps.forEach(Ie=>de[Ie]=!0),j!==w&&lr.add(j)});const T=ai(lr.values());return as(w,this._triggerName,R,Z,Jt,an,un,x,T,Dr,Ht,I)}}class qs{constructor(b,w,R){this.styles=b,this.defaultParams=w,this.normalizer=R}buildStyles(b,w){const R={},Z=kn(this.defaultParams);return Object.keys(b).forEach(J=>{const ce=b[J];null!=ce&&(Z[J]=ce)}),this.styles.styles.forEach(J=>{if("string"!=typeof J){const ce=J;Object.keys(ce).forEach(_e=>{let He=ce[_e];He.length>1&&(He=Nr(He,Z,w));const ht=this.normalizer.normalizePropertyName(_e,w);He=this.normalizer.normalizeStyleValue(_e,ht,He,w),R[ht]=He})}}),R}}class W{constructor(b,w,R){this.name=b,this.ast=w,this._normalizer=R,this.transitionFactories=[],this.states={},w.states.forEach(Z=>{this.states[Z.name]=new qs(Z.style,Z.options&&Z.options.params||{},R)}),Y(this.states,"true","1"),Y(this.states,"false","0"),w.transitions.forEach(Z=>{this.transitionFactories.push(new vs(b,Z,this.states))}),this.fallbackTransition=function(V,b,w){return new vs(V,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ce,_e)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,w,R,Z){return this.transitionFactories.find(ce=>ce.match(b,w,R,Z))||null}matchStyles(b,w,R){return this.fallbackTransition.buildStyles(b,w,R)}}function Y(V,b,w){V.hasOwnProperty(b)?V.hasOwnProperty(w)||(V[w]=V[b]):V.hasOwnProperty(w)&&(V[b]=V[w])}const De=new Ns;class We{constructor(b,w,R){this.bodyNode=b,this._driver=w,this._normalizer=R,this._animations={},this._playersById={},this.players=[]}register(b,w){const R=[],Z=ki(this._driver,w,R);if(R.length)throw new Error(`Unable to build the animation due to the following errors: ${R.join("\n")}`);this._animations[b]=Z}_buildPlayer(b,w,R){const Z=b.element,J=ur(0,this._normalizer,0,b.keyframes,w,R);return this._driver.animate(Z,J,b.duration,b.delay,b.easing,[],!0)}create(b,w,R={}){const Z=[],J=this._animations[b];let ce;const _e=new Map;if(J?(ce=is(this._driver,w,J,zr,Vr,{},{},R,De,Z),ce.forEach(Tt=>{const qt=Yt(_e,Tt.element,{});Tt.postStyleProps.forEach(sn=>qt[sn]=null)})):(Z.push("The requested animation doesn't exist or has already been destroyed"),ce=[]),Z.length)throw new Error(`Unable to create the animation due to the following errors: ${Z.join("\n")}`);_e.forEach((Tt,qt)=>{Object.keys(Tt).forEach(sn=>{Tt[sn]=this._driver.computeStyle(qt,sn,ft.l3)})});const ht=Qn(ce.map(Tt=>{const qt=_e.get(Tt.element);return this._buildPlayer(Tt,{},qt)}));return this._playersById[b]=ht,ht.onDestroy(()=>this.destroy(b)),this.players.push(ht),ht}destroy(b){const w=this._getPlayer(b);w.destroy(),delete this._playersById[b];const R=this.players.indexOf(w);R>=0&&this.players.splice(R,1)}_getPlayer(b){const w=this._playersById[b];if(!w)throw new Error(`Unable to find the timeline player referenced by ${b}`);return w}listen(b,w,R,Z){const J=Vt(w,"","","");return Ln(this._getPlayer(b),R,J,Z),()=>{}}command(b,w,R,Z){if("register"==R)return void this.register(b,Z[0]);if("create"==R)return void this.create(b,w,Z[0]||{});const J=this._getPlayer(b);switch(R){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(Z[0]));break;case"destroy":this.destroy(b)}}}const bt="ng-animate-queued",P="ng-animate-disabled",M=".ng-animate-disabled",Ot=[],Xt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ar={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},er="__ng_removed";class gr{constructor(b,w=""){this.namespaceId=w;const R=b&&b.hasOwnProperty("value");if(this.value=null!=(V=R?b.value:b)?V:null,R){const J=kn(b);delete J.value,this.options=J}else this.options={};var V;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(b){const w=b.params;if(w){const R=this.options.params;Object.keys(w).forEach(Z=>{null==R[Z]&&(R[Z]=w[Z])})}}}const Kn="void",ni=new gr(Kn);class zs{constructor(b,w,R){this.id=b,this.hostElement=w,this._engine=R,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Bi(w,this._hostClassName)}listen(b,w,R,Z){if(!this._triggers.hasOwnProperty(w))throw new Error(`Unable to listen on the animation trigger event "${R}" because the animation trigger "${w}" doesn't exist!`);if(null==R||0==R.length)throw new Error(`Unable to listen on the animation trigger "${w}" because the provided event is undefined!`);if("start"!=(V=R)&&"done"!=V)throw new Error(`The provided animation trigger event "${R}" for the animation trigger "${w}" is not supported!`);var V;const J=Yt(this._elementListeners,b,[]),ce={name:w,phase:R,callback:Z};J.push(ce);const _e=Yt(this._engine.statesByElement,b,{});return _e.hasOwnProperty(w)||(Bi(b,Xr),Bi(b,Xr+"-"+w),_e[w]=ni),()=>{this._engine.afterFlush(()=>{const He=J.indexOf(ce);He>=0&&J.splice(He,1),this._triggers[w]||delete _e[w]})}}register(b,w){return!this._triggers[b]&&(this._triggers[b]=w,!0)}_getTrigger(b){const w=this._triggers[b];if(!w)throw new Error(`The provided animation trigger "${b}" has not been registered!`);return w}trigger(b,w,R,Z=!0){const J=this._getTrigger(w),ce=new Ui(this.id,w,b);let _e=this._engine.statesByElement.get(b);_e||(Bi(b,Xr),Bi(b,Xr+"-"+w),this._engine.statesByElement.set(b,_e={}));let He=_e[w];const ht=new gr(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&He&&ht.absorbOptions(He.options),_e[w]=ht,He||(He=ni),ht.value!==Kn&&He.value===ht.value){if(!function(V,b){const w=Object.keys(V),R=Object.keys(b);if(w.length!=R.length)return!1;for(let Z=0;Z<w.length;Z++){const J=w[Z];if(!b.hasOwnProperty(J)||V[J]!==b[J])return!1}return!0}(He.params,ht.params)){const ut=[],un=J.matchStyles(He.value,He.params,ut),lr=J.matchStyles(ht.value,ht.params,ut);ut.length?this._engine.reportError(ut):this._engine.afterFlush(()=>{Qe(b,un),Be(b,lr)})}return}const sn=Yt(this._engine.playersByElement,b,[]);sn.forEach(ut=>{ut.namespaceId==this.id&&ut.triggerName==w&&ut.queued&&ut.destroy()});let Rn=J.matchTransition(He.value,ht.value,b,ht.params),an=!1;if(!Rn){if(!Z)return;Rn=J.fallbackTransition,an=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:w,transition:Rn,fromState:He,toState:ht,player:ce,isFallbackTransition:an}),an||(Bi(b,bt),ce.onStart(()=>{wt(b,bt)})),ce.onDone(()=>{let ut=this.players.indexOf(ce);ut>=0&&this.players.splice(ut,1);const un=this._engine.playersByElement.get(b);if(un){let lr=un.indexOf(ce);lr>=0&&un.splice(lr,1)}}),this.players.push(ce),sn.push(ce),ce}deregister(b){delete this._triggers[b],this._engine.statesByElement.forEach((w,R)=>{delete w[b]}),this._elementListeners.forEach((w,R)=>{this._elementListeners.set(R,w.filter(Z=>Z.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const w=this._engine.playersByElement.get(b);w&&(w.forEach(R=>R.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,w){const R=this._engine.driver.query(b,In,!0);R.forEach(Z=>{if(Z[er])return;const J=this._engine.fetchNamespacesByElement(Z);J.size?J.forEach(ce=>ce.triggerLeaveAnimation(Z,w,!1,!0)):this.clearElementCache(Z)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(Z=>this.clearElementCache(Z)))}triggerLeaveAnimation(b,w,R,Z){const J=this._engine.statesByElement.get(b);if(J){const ce=[];if(Object.keys(J).forEach(_e=>{if(this._triggers[_e]){const He=this.trigger(b,_e,Kn,Z);He&&ce.push(He)}}),ce.length)return this._engine.markElementAsRemoved(this.id,b,!0,w),R&&Qn(ce).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const w=this._elementListeners.get(b),R=this._engine.statesByElement.get(b);if(w&&R){const Z=new Set;w.forEach(J=>{const ce=J.name;if(Z.has(ce))return;Z.add(ce);const He=this._triggers[ce].fallbackTransition,ht=R[ce]||ni,Tt=new gr(Kn),qt=new Ui(this.id,ce,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:ce,transition:He,fromState:ht,toState:Tt,player:qt,isFallbackTransition:!0})})}}removeNode(b,w){const R=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,w),this.triggerLeaveAnimation(b,w,!0))return;let Z=!1;if(R.totalAnimations){const J=R.players.length?R.playersByQueriedElement.get(b):[];if(J&&J.length)Z=!0;else{let ce=b;for(;ce=ce.parentNode;)if(R.statesByElement.get(ce)){Z=!0;break}}}if(this.prepareLeaveAnimationListeners(b),Z)R.markElementAsRemoved(this.id,b,!1,w);else{const J=b[er];(!J||J===Xt)&&(R.afterFlush(()=>this.clearElementCache(b)),R.destroyInnerAnimations(b),R._onRemovalComplete(b,w))}}insertNode(b,w){Bi(b,this._hostClassName)}drainQueuedTransitions(b){const w=[];return this._queue.forEach(R=>{const Z=R.player;if(Z.destroyed)return;const J=R.element,ce=this._elementListeners.get(J);ce&&ce.forEach(_e=>{if(_e.name==R.triggerName){const He=Vt(J,R.triggerName,R.fromState.value,R.toState.value);He._data=b,Ln(R.player,_e.phase,He,_e.callback)}}),Z.markedForDestroy?this._engine.afterFlush(()=>{Z.destroy()}):w.push(R)}),this._queue=[],w.sort((R,Z)=>{const J=R.transition.ast.depCount,ce=Z.transition.ast.depCount;return 0==J||0==ce?J-ce:this._engine.driver.containsElement(R.element,Z.element)?1:-1})}destroy(b){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let w=!1;return this._elementListeners.has(b)&&(w=!0),w=!!this._queue.find(R=>R.element===b)||w,w}}class Es{constructor(b,w,R){this.bodyNode=b,this.driver=w,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Z,J)=>{}}_onRemovalComplete(b,w){this.onRemovalComplete(b,w)}get queuedPlayers(){const b=[];return this._namespaceList.forEach(w=>{w.players.forEach(R=>{R.queued&&b.push(R)})}),b}createNamespace(b,w){const R=new zs(b,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(R,w):(this.newHostElements.set(w,R),this.collectEnterElement(w)),this._namespaceLookup[b]=R}_balanceNamespaceList(b,w){const R=this._namespaceList.length-1;if(R>=0){let Z=!1;for(let J=R;J>=0;J--)if(this.driver.containsElement(this._namespaceList[J].hostElement,w)){this._namespaceList.splice(J+1,0,b),Z=!0;break}Z||this._namespaceList.splice(0,0,b)}else this._namespaceList.push(b);return this.namespacesByHostElement.set(w,b),b}register(b,w){let R=this._namespaceLookup[b];return R||(R=this.createNamespace(b,w)),R}registerTrigger(b,w,R){let Z=this._namespaceLookup[b];Z&&Z.register(w,R)&&this.totalAnimations++}destroy(b,w){if(!b)return;const R=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[b];const Z=this._namespaceList.indexOf(R);Z>=0&&this._namespaceList.splice(Z,1)}),this.afterFlushAnimationsDone(()=>R.destroy(w))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const w=new Set,R=this.statesByElement.get(b);if(R){const Z=Object.keys(R);for(let J=0;J<Z.length;J++){const ce=R[Z[J]].namespaceId;if(ce){const _e=this._fetchNamespace(ce);_e&&w.add(_e)}}}return w}trigger(b,w,R,Z){if(on(w)){const J=this._fetchNamespace(b);if(J)return J.trigger(w,R,Z),!0}return!1}insertNode(b,w,R,Z){if(!on(w))return;const J=w[er];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const ce=this.collectedLeaveElements.indexOf(w);ce>=0&&this.collectedLeaveElements.splice(ce,1)}if(b){const ce=this._fetchNamespace(b);ce&&ce.insertNode(w,R)}Z&&this.collectEnterElement(w)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,w){w?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Bi(b,P)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),wt(b,P))}removeNode(b,w,R,Z){if(on(w)){const J=b?this._fetchNamespace(b):null;if(J?J.removeNode(w,Z):this.markElementAsRemoved(b,w,!1,Z),R){const ce=this.namespacesByHostElement.get(w);ce&&ce.id!==b&&ce.removeNode(w,Z)}}else this._onRemovalComplete(w,Z)}markElementAsRemoved(b,w,R,Z){this.collectedLeaveElements.push(w),w[er]={namespaceId:b,setForRemoval:Z,hasAnimation:R,removedBeforeQueried:!1}}listen(b,w,R,Z,J){return on(w)?this._fetchNamespace(b).listen(w,R,Z,J):()=>{}}_buildInstruction(b,w,R,Z,J){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,R,Z,b.fromState.options,b.toState.options,w,J)}destroyInnerAnimations(b){let w=this.driver.query(b,In,!0);w.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(b,Ar,!0),w.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(b){const w=this.playersByElement.get(b);w&&w.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(b){const w=this.playersByQueriedElement.get(b);w&&w.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return Qn(this.players).onDone(()=>b());b()})}processLeaveNode(b){const w=b[er];if(w&&w.setForRemoval){if(b[er]=Xt,w.namespaceId){this.destroyInnerAnimations(b);const R=this._fetchNamespace(w.namespaceId);R&&R.clearElementCache(b)}this._onRemovalComplete(b,w.setForRemoval)}this.driver.matchesElement(b,M)&&this.markElementAsDisabled(b,!1),this.driver.query(b,M,!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(b=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,Z)=>this._balanceNamespaceList(R,Z)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Bi(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{w=this._flushAnimations(R,b)}finally{for(let Z=0;Z<R.length;Z++)R[Z]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],w.length?Qn(w).onDone(()=>{R.forEach(Z=>Z())}):R.forEach(Z=>Z())}}reportError(b){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${b.join("\n")}`)}_flushAnimations(b,w){const R=new Ns,Z=[],J=new Map,ce=[],_e=new Map,He=new Map,ht=new Map,Tt=new Set;this.disabledNodes.forEach(ct=>{Tt.add(ct);const Mt=this.driver.query(ct,".ng-animate-queued",!0);for(let zt=0;zt<Mt.length;zt++)Tt.add(Mt[zt])});const qt=this.bodyNode,sn=Array.from(this.statesByElement.keys()),Rn=Ws(sn,this.collectedEnterElements),an=new Map;let ut=0;Rn.forEach((ct,Mt)=>{const zt=zr+ut++;an.set(Mt,zt),ct.forEach(At=>Bi(At,zt))});const un=[],lr=new Set,Dr=new Set;for(let ct=0;ct<this.collectedLeaveElements.length;ct++){const Mt=this.collectedLeaveElements[ct],zt=Mt[er];zt&&zt.setForRemoval&&(un.push(Mt),lr.add(Mt),zt.hasAnimation?this.driver.query(Mt,".ng-star-inserted",!0).forEach(At=>lr.add(At)):Dr.add(Mt))}const Ht=new Map,Jt=Ws(sn,Array.from(lr));Jt.forEach((ct,Mt)=>{const zt=Vr+ut++;Ht.set(Mt,zt),ct.forEach(At=>Bi(At,zt))}),b.push(()=>{Rn.forEach((ct,Mt)=>{const zt=an.get(Mt);ct.forEach(At=>wt(At,zt))}),Jt.forEach((ct,Mt)=>{const zt=Ht.get(Mt);ct.forEach(At=>wt(At,zt))}),un.forEach(ct=>{this.processLeaveNode(ct)})});const zo=[],x=[];for(let ct=this._namespaceList.length-1;ct>=0;ct--)this._namespaceList[ct].drainQueuedTransitions(w).forEach(zt=>{const At=zt.player,zn=zt.element;if(zo.push(At),this.collectedEnterElements.length){const ls=zn[er];if(ls&&ls.setForMove)return void At.destroy()}const xr=!qt||!this.driver.containsElement(qt,zn),xn=Ht.get(zn),hn=an.get(zn),Yn=this._buildInstruction(zt,R,hn,xn,xr);if(Yn.errors&&Yn.errors.length)x.push(Yn);else{if(xr)return At.onStart(()=>Qe(zn,Yn.fromStyles)),At.onDestroy(()=>Be(zn,Yn.toStyles)),void Z.push(At);if(zt.isFallbackTransition)return At.onStart(()=>Qe(zn,Yn.fromStyles)),At.onDestroy(()=>Be(zn,Yn.toStyles)),void Z.push(At);Yn.timelines.forEach(ls=>ls.stretchStartingKeyframe=!0),R.append(zn,Yn.timelines),ce.push({instruction:Yn,player:At,element:zn}),Yn.queriedElements.forEach(ls=>Yt(_e,ls,[]).push(At)),Yn.preStyleProps.forEach((ls,Ys)=>{const tr=Object.keys(ls);if(tr.length){let No=He.get(Ys);No||He.set(Ys,No=new Set),tr.forEach(Un=>No.add(Un))}}),Yn.postStyleProps.forEach((ls,Ys)=>{const tr=Object.keys(ls);let No=ht.get(Ys);No||ht.set(Ys,No=new Set),tr.forEach(Un=>No.add(Un))})}});if(x.length){const ct=[];x.forEach(Mt=>{ct.push(`@${Mt.triggerName} has failed due to:\n`),Mt.errors.forEach(zt=>ct.push(`- ${zt}\n`))}),zo.forEach(Mt=>Mt.destroy()),this.reportError(ct)}const I=new Map,T=new Map;ce.forEach(ct=>{const Mt=ct.element;R.has(Mt)&&(T.set(Mt,Mt),this._beforeAnimationBuild(ct.player.namespaceId,ct.instruction,I))}),Z.forEach(ct=>{const Mt=ct.element;this._getPreviousPlayers(Mt,!1,ct.namespaceId,ct.triggerName,null).forEach(At=>{Yt(I,Mt,[]).push(At),At.destroy()})});const O=un.filter(ct=>bs(ct,He,ht)),j=new Map;Wa(j,this.driver,Dr,ht,ft.l3).forEach(ct=>{bs(ct,He,ht)&&O.push(ct)});const de=new Map;Rn.forEach((ct,Mt)=>{Wa(de,this.driver,new Set(ct),He,ft.k1)}),O.forEach(ct=>{const Mt=j.get(ct),zt=de.get(ct);j.set(ct,Object.assign(Object.assign({},Mt),zt))});const Ie=[],pt=[],Zt={};ce.forEach(ct=>{const{element:Mt,player:zt,instruction:At}=ct;if(R.has(Mt)){if(Tt.has(Mt))return zt.onDestroy(()=>Be(Mt,At.toStyles)),zt.disabled=!0,zt.overrideTotalTime(At.totalTime),void Z.push(zt);let zn=Zt;if(T.size>1){let xn=Mt;const hn=[];for(;xn=xn.parentNode;){const Yn=T.get(xn);if(Yn){zn=Yn;break}hn.push(xn)}hn.forEach(Yn=>T.set(Yn,zn))}const xr=this._buildAnimation(zt.namespaceId,At,I,J,de,j);if(zt.setRealPlayer(xr),zn===Zt)Ie.push(zt);else{const xn=this.playersByElement.get(zn);xn&&xn.length&&(zt.parentPlayer=Qn(xn)),Z.push(zt)}}else Qe(Mt,At.fromStyles),zt.onDestroy(()=>Be(Mt,At.toStyles)),pt.push(zt),Tt.has(Mt)&&Z.push(zt)}),pt.forEach(ct=>{const Mt=J.get(ct.element);if(Mt&&Mt.length){const zt=Qn(Mt);ct.setRealPlayer(zt)}}),Z.forEach(ct=>{ct.parentPlayer?ct.syncPlayerEvents(ct.parentPlayer):ct.destroy()});for(let ct=0;ct<un.length;ct++){const Mt=un[ct],zt=Mt[er];if(wt(Mt,Vr),zt&&zt.hasAnimation)continue;let At=[];if(_e.size){let xr=_e.get(Mt);xr&&xr.length&&At.push(...xr);let xn=this.driver.query(Mt,Ar,!0);for(let hn=0;hn<xn.length;hn++){let Yn=_e.get(xn[hn]);Yn&&Yn.length&&At.push(...Yn)}}const zn=At.filter(xr=>!xr.destroyed);zn.length?Hn(this,Mt,zn):this.processLeaveNode(Mt)}return un.length=0,Ie.forEach(ct=>{this.players.push(ct),ct.onDone(()=>{ct.destroy();const Mt=this.players.indexOf(ct);this.players.splice(Mt,1)}),ct.play()}),Ie}elementContainsData(b,w){let R=!1;const Z=w[er];return Z&&Z.setForRemoval&&(R=!0),this.playersByElement.has(w)&&(R=!0),this.playersByQueriedElement.has(w)&&(R=!0),this.statesByElement.has(w)&&(R=!0),this._fetchNamespace(b).elementContainsData(w)||R}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,w,R,Z,J){let ce=[];if(w){const _e=this.playersByQueriedElement.get(b);_e&&(ce=_e)}else{const _e=this.playersByElement.get(b);if(_e){const He=!J||J==Kn;_e.forEach(ht=>{ht.queued||!He&&ht.triggerName!=Z||ce.push(ht)})}}return(R||Z)&&(ce=ce.filter(_e=>!(R&&R!=_e.namespaceId||Z&&Z!=_e.triggerName))),ce}_beforeAnimationBuild(b,w,R){const J=w.element,ce=w.isRemovalTransition?void 0:b,_e=w.isRemovalTransition?void 0:w.triggerName;for(const He of w.timelines){const ht=He.element,Tt=ht!==J,qt=Yt(R,ht,[]);this._getPreviousPlayers(ht,Tt,ce,_e,w.toState).forEach(Rn=>{const an=Rn.getRealPlayer();an.beforeDestroy&&an.beforeDestroy(),Rn.destroy(),qt.push(Rn)})}Qe(J,w.fromStyles)}_buildAnimation(b,w,R,Z,J,ce){const _e=w.triggerName,He=w.element,ht=[],Tt=new Set,qt=new Set,sn=w.timelines.map(an=>{const ut=an.element;Tt.add(ut);const un=ut[er];if(un&&un.removedBeforeQueried)return new ft.ZN(an.duration,an.delay);const lr=ut!==He,Dr=function(V){const b=[];return Tr(V,b),b}((R.get(ut)||Ot).map(I=>I.getRealPlayer())).filter(I=>!!I.element&&I.element===ut),Ht=J.get(ut),Jt=ce.get(ut),zo=ur(0,this._normalizer,0,an.keyframes,Ht,Jt),x=this._buildPlayer(an,zo,Dr);if(an.subTimeline&&Z&&qt.add(ut),lr){const I=new Ui(b,_e,ut);I.setRealPlayer(x),ht.push(I)}return x});ht.forEach(an=>{Yt(this.playersByQueriedElement,an.element,[]).push(an),an.onDone(()=>function(V,b,w){let R;if(V instanceof Map){if(R=V.get(b),R){if(R.length){const Z=R.indexOf(w);R.splice(Z,1)}0==R.length&&V.delete(b)}}else if(R=V[b],R){if(R.length){const Z=R.indexOf(w);R.splice(Z,1)}0==R.length&&delete V[b]}return R}(this.playersByQueriedElement,an.element,an))}),Tt.forEach(an=>Bi(an,zi));const Rn=Qn(sn);return Rn.onDestroy(()=>{Tt.forEach(an=>wt(an,zi)),Be(He,w.toStyles)}),qt.forEach(an=>{Yt(Z,an,[]).push(Rn)}),Rn}_buildPlayer(b,w,R){return w.length>0?this.driver.animate(b.element,w,b.duration,b.delay,b.easing,R):new ft.ZN(b.duration,b.delay)}}class Ui{constructor(b,w,R){this.namespaceId=b,this.triggerName=w,this.element=R,this._player=new ft.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,Object.keys(this._queuedCallbacks).forEach(w=>{this._queuedCallbacks[w].forEach(R=>Ln(b,w,void 0,R))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const w=this._player;w.triggerCallback&&b.onStart(()=>w.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,w){Yt(this._queuedCallbacks,b,[]).push(w)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const w=this._player;w.triggerCallback&&w.triggerCallback(b)}}function on(V){return V&&1===V.nodeType}function aa(V,b){const w=V.style.display;return V.style.display=null!=b?b:"none",w}function Wa(V,b,w,R,Z){const J=[];w.forEach(He=>J.push(aa(He)));const ce=[];R.forEach((He,ht)=>{const Tt={};He.forEach(qt=>{const sn=Tt[qt]=b.computeStyle(ht,qt,Z);(!sn||0==sn.length)&&(ht[er]=ar,ce.push(ht))}),V.set(ht,Tt)});let _e=0;return w.forEach(He=>aa(He,J[_e++])),ce}function Ws(V,b){const w=new Map;if(V.forEach(_e=>w.set(_e,[])),0==b.length)return w;const Z=new Set(b),J=new Map;function ce(_e){if(!_e)return 1;let He=J.get(_e);if(He)return He;const ht=_e.parentNode;return He=w.has(ht)?ht:Z.has(ht)?1:ce(ht),J.set(_e,He),He}return b.forEach(_e=>{const He=ce(_e);1!==He&&w.get(He).push(_e)}),w}const Io="$$classes";function Bi(V,b){if(V.classList)V.classList.add(b);else{let w=V[Io];w||(w=V[Io]={}),w[b]=!0}}function wt(V,b){if(V.classList)V.classList.remove(b);else{let w=V[Io];w&&delete w[b]}}function Hn(V,b,w){Qn(w).onDone(()=>V.processLeaveNode(b))}function Tr(V,b){for(let w=0;w<V.length;w++){const R=V[w];R instanceof ft.ZE?Tr(R.players,b):b.push(R)}}function bs(V,b,w){const R=w.get(V);if(!R)return!1;let Z=b.get(V);return Z?R.forEach(J=>Z.add(J)):b.set(V,R),w.delete(V),!0}class _i{constructor(b,w,R){this.bodyNode=b,this._driver=w,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(Z,J)=>{},this._transitionEngine=new Es(b,w,R),this._timelineEngine=new We(b,w,R),this._transitionEngine.onRemovalComplete=(Z,J)=>this.onRemovalComplete(Z,J)}registerTrigger(b,w,R,Z,J){const ce=b+"-"+Z;let _e=this._triggerCache[ce];if(!_e){const He=[],ht=ki(this._driver,J,He);if(He.length)throw new Error(`The animation trigger "${Z}" has failed to build due to the following errors:\n - ${He.join("\n - ")}`);_e=function(V,b,w){return new W(V,b,w)}(Z,ht,this._normalizer),this._triggerCache[ce]=_e}this._transitionEngine.registerTrigger(w,Z,_e)}register(b,w){this._transitionEngine.register(b,w)}destroy(b,w){this._transitionEngine.destroy(b,w)}onInsert(b,w,R,Z){this._transitionEngine.insertNode(b,w,R,Z)}onRemove(b,w,R,Z){this._transitionEngine.removeNode(b,w,Z||!1,R)}disableAnimations(b,w){this._transitionEngine.markElementAsDisabled(b,w)}process(b,w,R,Z){if("@"==R.charAt(0)){const[J,ce]=Te(R);this._timelineEngine.command(J,w,ce,Z)}else this._transitionEngine.trigger(b,w,R,Z)}listen(b,w,R,Z,J){if("@"==R.charAt(0)){const[ce,_e]=Te(R);return this._timelineEngine.listen(ce,w,_e,J)}return this._transitionEngine.listen(b,w,R,Z,J)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ho(V,b){let w=null,R=null;return Array.isArray(b)&&b.length?(w=Su(b[0]),b.length>1&&(R=Su(b[b.length-1]))):b&&(w=Su(b)),w||R?new ji(V,w,R):null}class ji{constructor(b,w,R){this._element=b,this._startStyles=w,this._endStyles=R,this._state=0;let Z=ji.initialStylesByElement.get(b);Z||ji.initialStylesByElement.set(b,Z={}),this._initialStyles=Z}start(){this._state<1&&(this._startStyles&&Be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Be(this._element,this._initialStyles),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ji.initialStylesByElement.delete(this._element),this._startStyles&&(Qe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),Be(this._element,this._initialStyles),this._state=3)}}function Su(V){let b=null;const w=Object.keys(V);for(let R=0;R<w.length;R++){const Z=w[R];Ya(Z)&&(b=b||{},b[Z]=V[Z])}return b}function Ya(V){return"display"===V||"position"===V}ji.initialStylesByElement=new WeakMap;const ws="animation",Yr="animationend";class Qa{constructor(b,w,R,Z,J,ce,_e){this._element=b,this._name=w,this._duration=R,this._delay=Z,this._easing=J,this._fillMode=ce,this._onDoneFn=_e,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=He=>this._handleCallback(He)}apply(){(function(V,b){const w=Zo(V,"").trim();let R=0;w.length&&(function(V,b){let w=0;for(let R=0;R<V.length;R++)","===V.charAt(R)&&w++;return w}(w)+1,b=`${w}, ${b}`),Cs(V,"",b)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),xu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Yi(this._element,this._name,"paused")}resume(){Yi(this._element,this._name,"running")}setPosition(b){const w=Or(this._element,this._name);this._position=b*this._duration,Cs(this._element,"Delay",`-${this._position}ms`,w)}getPosition(){return this._position}_handleCallback(b){const w=b._ngTestManualTimestamp||Date.now(),R=1e3*parseFloat(b.elapsedTime.toFixed(3));b.animationName==this._name&&Math.max(w-this._startTime,0)>=this._delay&&R>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),xu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(V,b){const R=Zo(V,"").split(","),Z=$o(R,b);Z>=0&&(R.splice(Z,1),Cs(V,"",R.join(",")))}(this._element,this._name))}}function Yi(V,b,w){Cs(V,"PlayState",w,Or(V,b))}function Or(V,b){const w=Zo(V,"");return w.indexOf(",")>0?$o(w.split(","),b):$o([w],b)}function $o(V,b){for(let w=0;w<V.length;w++)if(V[w].indexOf(b)>=0)return w;return-1}function xu(V,b,w){w?V.removeEventListener(Yr,b):V.addEventListener(Yr,b)}function Cs(V,b,w,R){const Z=ws+b;if(null!=R){const J=V.style[Z];if(J.length){const ce=J.split(",");ce[R]=w,w=ce.join(",")}}V.style[Z]=w}function Zo(V,b){return V.style[ws+b]||""}class ua{constructor(b,w,R,Z,J,ce,_e,He){this.element=b,this.keyframes=w,this.animationName=R,this._duration=Z,this._delay=J,this._finalStyles=_e,this._specialStyles=He,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ce||"linear",this.totalTime=Z+J,this._buildStyler()}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(b=>b()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(b=>b()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(b){this._styler.setPosition(b)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Qa(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(b){const w="start"==b?this._onStartFns:this._onDoneFns;w.forEach(R=>R()),w.length=0}beforeDestroy(){this.init();const b={};if(this.hasStarted()){const w=this._state>=3;Object.keys(this._finalStyles).forEach(R=>{"offset"!=R&&(b[R]=w?this._finalStyles[R]:ei(this.element,R))})}this.currentSnapshot=b}}class uo extends ft.ZN{constructor(b,w){super(),this.element=b,this._startingStyles={},this.__initialized=!1,this._styles=pi(w)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(b=>{this._startingStyles[b]=this.element.style[b]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(b=>this.element.style.setProperty(b,this._styles[b])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(b=>{const w=this._startingStyles[b];w?this.element.style.setProperty(b,w):this.element.style.removeProperty(b)}),this._startingStyles=null,super.destroy())}}class nu{constructor(){this._count=0}validateStyleProperty(b){return nn(b)}matchesElement(b,w){return Qr(b,w)}containsElement(b,w){return Jr(b,w)}query(b,w,R){return ps(b,w,R)}computeStyle(b,w,R){return window.getComputedStyle(b)[w]}buildKeyframeElement(b,w,R){R=R.map(_e=>pi(_e));let Z=`@keyframes ${w} {\n`,J="";R.forEach(_e=>{J=" ";const He=parseFloat(_e.offset);Z+=`${J}${100*He}% {\n`,J+=" ",Object.keys(_e).forEach(ht=>{const Tt=_e[ht];switch(ht){case"offset":return;case"easing":return void(Tt&&(Z+=`${J}animation-timing-function: ${Tt};\n`));default:return void(Z+=`${J}${ht}: ${Tt};\n`)}}),Z+=`${J}}\n`}),Z+="}\n";const ce=document.createElement("style");return ce.textContent=Z,ce}animate(b,w,R,Z,J,ce=[],_e){const He=ce.filter(un=>un instanceof ua),ht={};wi(R,Z)&&He.forEach(un=>{let lr=un.currentSnapshot;Object.keys(lr).forEach(Dr=>ht[Dr]=lr[Dr])});const Tt=function(V){let b={};return V&&(Array.isArray(V)?V:[V]).forEach(R=>{Object.keys(R).forEach(Z=>{"offset"==Z||"easing"==Z||(b[Z]=R[Z])})}),b}(w=Wi(b,w,ht));if(0==R)return new uo(b,Tt);const qt="gen_css_kf_"+this._count++,sn=this.buildKeyframeElement(b,qt,w);(function(V){var b;const w=null===(b=V.getRootNode)||void 0===b?void 0:b.call(V);return"undefined"!=typeof ShadowRoot&&w instanceof ShadowRoot?w:document.head})(b).appendChild(sn);const an=Ho(b,w),ut=new ua(b,w,qt,R,Z,J,Tt,an);return ut.onDestroy(()=>{var V;(V=sn).parentNode.removeChild(V)}),ut}}class ii{constructor(b,w,R,Z){this.element=b,this.keyframes=w,this.options=R,this._specialStyles=Z,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(b,w,R){return b.animate(w,R)}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(w=>{"offset"!=w&&(b[w]=this._finished?this._finalKeyframe[w]:ei(this.element,w))}),this.currentSnapshot=b}triggerCallback(b){const w="start"==b?this._onStartFns:this._onDoneFns;w.forEach(R=>R()),w.length=0}}class Ir{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Go().toString()),this._cssKeyframesDriver=new nu}validateStyleProperty(b){return nn(b)}matchesElement(b,w){return Qr(b,w)}containsElement(b,w){return Jr(b,w)}query(b,w,R){return ps(b,w,R)}computeStyle(b,w,R){return window.getComputedStyle(b)[w]}overrideWebAnimationsSupport(b){this._isNativeImpl=b}animate(b,w,R,Z,J,ce=[],_e){if(!_e&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(b,w,R,Z,J,ce);const Tt={duration:R,delay:Z,fill:0==Z?"both":"forwards"};J&&(Tt.easing=J);const qt={},sn=ce.filter(an=>an instanceof ii);wi(R,Z)&&sn.forEach(an=>{let ut=an.currentSnapshot;Object.keys(ut).forEach(un=>qt[un]=ut[un])});const Rn=Ho(b,w=Wi(b,w=w.map(an=>Pe(an,!1)),qt));return new ii(b,w,Tt,Rn)}}function Go(){return kt()&&Element.prototype.animate||{}}let El=(()=>{class V extends ft._j{constructor(w,R){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(R.body,{id:"0",encapsulation:_.ifc.None,styles:[],data:{animation:[]}})}build(w){const R=this._nextAnimationId.toString();this._nextAnimationId++;const Z=Array.isArray(w)?(0,ft.vP)(w):w;return da(this._renderer,null,R,"register",[Z]),new Ao(R,this._renderer)}}return V.\u0275fac=function(w){return new(w||V)(_.LFG(_.FYo),_.LFG(ye.K0))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})();class Ao extends ft.LC{constructor(b,w){super(),this._id=b,this._renderer=w}create(b,w){return new So(this._id,b,w||{},this._renderer)}}class So{constructor(b,w,R,Z){this.id=b,this.element=w,this._renderer=Z,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(b,w){return this._renderer.listen(this.element,`@@${this.id}:${b}`,w)}_command(b,...w){return da(this._renderer,this.element,this.id,b,w)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,w;return null!==(w=null===(b=this._renderer.engine.players[+this.id])||void 0===b?void 0:b.getPosition())&&void 0!==w?w:0}}function da(V,b,w,R,Z){return V.setProperty(b,`@@${w}:${R}`,Z)}const Rs="@.disabled";let co=(()=>{class V{constructor(w,R,Z){this.delegate=w,this.engine=R,this._zone=Z,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(J,ce)=>{ce&&ce.parentNode(J)&&ce.removeChild(J.parentNode,J)}}createRenderer(w,R){const J=this.delegate.createRenderer(w,R);if(!(w&&R&&R.data&&R.data.animation)){let Tt=this._rendererCache.get(J);return Tt||(Tt=new ha("",J,this.engine),this._rendererCache.set(J,Tt)),Tt}const ce=R.id,_e=R.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,w);const He=Tt=>{Array.isArray(Tt)?Tt.forEach(He):this.engine.registerTrigger(ce,_e,w,Tt.name,Tt)};return R.data.animation.forEach(He),new fa(this,_e,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,R,Z){w>=0&&w<this._microtaskId?this._zone.run(()=>R(Z)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[ce,_e]=J;ce(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,Z]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return V.\u0275fac=function(w){return new(w||V)(_.LFG(_.FYo),_.LFG(_i),_.LFG(_.R0b))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})();class ha{constructor(b,w,R){this.namespaceId=b,this.delegate=w,this.engine=R,this.destroyNode=this.delegate.destroyNode?Z=>w.destroyNode(Z):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(b,w){return this.delegate.createElement(b,w)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,w){this.delegate.appendChild(b,w),this.engine.onInsert(this.namespaceId,w,b,!1)}insertBefore(b,w,R,Z=!0){this.delegate.insertBefore(b,w,R),this.engine.onInsert(this.namespaceId,w,b,Z)}removeChild(b,w,R){this.engine.onRemove(this.namespaceId,w,this.delegate,R)}selectRootElement(b,w){return this.delegate.selectRootElement(b,w)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,w,R,Z){this.delegate.setAttribute(b,w,R,Z)}removeAttribute(b,w,R){this.delegate.removeAttribute(b,w,R)}addClass(b,w){this.delegate.addClass(b,w)}removeClass(b,w){this.delegate.removeClass(b,w)}setStyle(b,w,R,Z){this.delegate.setStyle(b,w,R,Z)}removeStyle(b,w,R){this.delegate.removeStyle(b,w,R)}setProperty(b,w,R){"@"==w.charAt(0)&&w==Rs?this.disableAnimations(b,!!R):this.delegate.setProperty(b,w,R)}setValue(b,w){this.delegate.setValue(b,w)}listen(b,w,R){return this.delegate.listen(b,w,R)}disableAnimations(b,w){this.engine.disableAnimations(b,w)}}class fa extends ha{constructor(b,w,R,Z){super(w,R,Z),this.factory=b,this.namespaceId=w}setProperty(b,w,R){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Rs?this.disableAnimations(b,R=void 0===R||!!R):this.engine.process(this.namespaceId,b,w.substr(1),R):this.delegate.setProperty(b,w,R)}listen(b,w,R){if("@"==w.charAt(0)){const Z=function(V){switch(V){case"body":return document.body;case"document":return document;case"window":return window;default:return V}}(b);let J=w.substr(1),ce="";return"@"!=J.charAt(0)&&([J,ce]=function(V){const b=V.indexOf(".");return[V.substring(0,b),V.substr(b+1)]}(J)),this.engine.listen(this.namespaceId,Z,J,ce,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,R,_e)})}return this.delegate.listen(b,w,R)}}let li=(()=>{class V extends _i{constructor(w,R,Z){super(w.body,R,Z)}ngOnDestroy(){this.flush()}}return V.\u0275fac=function(w){return new(w||V)(_.LFG(ye.K0),_.LFG(Oi),_.LFG(Br))},V.\u0275prov=_.Yz7({token:V,factory:V.\u0275fac}),V})();const qo=new _.OlP("AnimationModuleType"),Ks=[{provide:ft._j,useClass:El},{provide:Br,useFactory:function(){return new Bo}},{provide:_i,useClass:li},{provide:_.FYo,useFactory:function(V,b,w){return new co(V,b,w)},deps:[E.se,_i,_.R0b]}],Ei=[{provide:Oi,useFactory:function(){return"function"==typeof Go()?new Ir:new nu}},{provide:qo,useValue:"BrowserAnimations"},...Ks],Gr=[{provide:Oi,useClass:gi},{provide:qo,useValue:"NoopAnimations"},...Ks];let Ru=(()=>{class V{static withConfig(w){return{ngModule:V,providers:w.disableAnimations?Gr:Ei}}}return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({providers:Ei,imports:[E.b2]}),V})(),Da=(()=>{class V{}return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=_.oAB({type:V,bootstrap:[re]}),V.\u0275inj=_.cJS({providers:[],imports:[[E.b2,Dt,dt.hO.initializeApp(Ce_firebaseConfig),Ut.ww,Me.yb,ne.UX,be.Rh.forRoot(),Ru,ne.u5,gt.JF]]}),V})();(0,_.G48)(),E.q6().bootstrapModule(Da).catch(V=>console.error(V))},4762:(Bt,tt,G)=>{"use strict";G.d(tt,{ZT:()=>_,pi:()=>ne,_T:()=>Se,mG:()=>ye,Jh:()=>ue,XA:()=>me,CR:()=>fe,ev:()=>$e});var E=function(Oe,Ge){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Je,rt){Je.__proto__=rt}||function(Je,rt){for(var et in rt)Object.prototype.hasOwnProperty.call(rt,et)&&(Je[et]=rt[et])})(Oe,Ge)};function _(Oe,Ge){if("function"!=typeof Ge&&null!==Ge)throw new TypeError("Class extends value "+String(Ge)+" is not a constructor or null");function Je(){this.constructor=Oe}E(Oe,Ge),Oe.prototype=null===Ge?Object.create(Ge):(Je.prototype=Ge.prototype,new Je)}var ne=function(){return(ne=Object.assign||function(Ge){for(var Je,rt=1,et=arguments.length;rt<et;rt++)for(var le in Je=arguments[rt])Object.prototype.hasOwnProperty.call(Je,le)&&(Ge[le]=Je[le]);return Ge}).apply(this,arguments)};function Se(Oe,Ge){var Je={};for(var rt in Oe)Object.prototype.hasOwnProperty.call(Oe,rt)&&Ge.indexOf(rt)<0&&(Je[rt]=Oe[rt]);if(null!=Oe&&"function"==typeof Object.getOwnPropertySymbols){var et=0;for(rt=Object.getOwnPropertySymbols(Oe);et<rt.length;et++)Ge.indexOf(rt[et])<0&&Object.prototype.propertyIsEnumerable.call(Oe,rt[et])&&(Je[rt[et]]=Oe[rt[et]])}return Je}function ye(Oe,Ge,Je,rt){return new(Je||(Je=Promise))(function(le,vt){function _t(xt){try{Nt(rt.next(xt))}catch(Qt){vt(Qt)}}function dn(xt){try{Nt(rt.throw(xt))}catch(Qt){vt(Qt)}}function Nt(xt){xt.done?le(xt.value):function(le){return le instanceof Je?le:new Je(function(vt){vt(le)})}(xt.value).then(_t,dn)}Nt((rt=rt.apply(Oe,Ge||[])).next())})}function ue(Oe,Ge){var rt,et,le,vt,Je={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return vt={next:_t(0),throw:_t(1),return:_t(2)},"function"==typeof Symbol&&(vt[Symbol.iterator]=function(){return this}),vt;function _t(Nt){return function(xt){return function(Nt){if(rt)throw new TypeError("Generator is already executing.");for(;Je;)try{if(rt=1,et&&(le=2&Nt[0]?et.return:Nt[0]?et.throw||((le=et.return)&&le.call(et),0):et.next)&&!(le=le.call(et,Nt[1])).done)return le;switch(et=0,le&&(Nt=[2&Nt[0],le.value]),Nt[0]){case 0:case 1:le=Nt;break;case 4:return Je.label++,{value:Nt[1],done:!1};case 5:Je.label++,et=Nt[1],Nt=[0];continue;case 7:Nt=Je.ops.pop(),Je.trys.pop();continue;default:if(!(le=(le=Je.trys).length>0&&le[le.length-1])&&(6===Nt[0]||2===Nt[0])){Je=0;continue}if(3===Nt[0]&&(!le||Nt[1]>le[0]&&Nt[1]<le[3])){Je.label=Nt[1];break}if(6===Nt[0]&&Je.label<le[1]){Je.label=le[1],le=Nt;break}if(le&&Je.label<le[2]){Je.label=le[2],Je.ops.push(Nt);break}le[2]&&Je.ops.pop(),Je.trys.pop();continue}Nt=Ge.call(Oe,Je)}catch(xt){Nt=[6,xt],et=0}finally{rt=le=0}if(5&Nt[0])throw Nt[1];return{value:Nt[0]?Nt[1]:void 0,done:!0}}([Nt,xt])}}}function me(Oe){var Ge="function"==typeof Symbol&&Symbol.iterator,Je=Ge&&Oe[Ge],rt=0;if(Je)return Je.call(Oe);if(Oe&&"number"==typeof Oe.length)return{next:function(){return Oe&&rt>=Oe.length&&(Oe=void 0),{value:Oe&&Oe[rt++],done:!Oe}}};throw new TypeError(Ge?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(Oe,Ge){var Je="function"==typeof Symbol&&Oe[Symbol.iterator];if(!Je)return Oe;var et,vt,rt=Je.call(Oe),le=[];try{for(;(void 0===Ge||Ge-- >0)&&!(et=rt.next()).done;)le.push(et.value)}catch(_t){vt={error:_t}}finally{try{et&&!et.done&&(Je=rt.return)&&Je.call(rt)}finally{if(vt)throw vt.error}}return le}function $e(Oe,Ge,Je){if(Je||2===arguments.length)for(var le,rt=0,et=Ge.length;rt<et;rt++)(le||!(rt in Ge))&&(le||(le=Array.prototype.slice.call(Ge,0,rt)),le[rt]=Ge[rt]);return Oe.concat(le||Array.prototype.slice.call(Ge))}},8239:(Bt,tt,G)=>{"use strict";function E(ne,Se,Ne,be,ke,ye,ue){try{var ee=ne[ye](ue),ae=ee.value}catch(me){return void Ne(me)}ee.done?Se(ae):Promise.resolve(ae).then(be,ke)}function _(ne){return function(){var Se=this,Ne=arguments;return new Promise(function(be,ke){var ye=ne.apply(Se,Ne);function ue(ae){E(ye,be,ke,ue,ee,"next",ae)}function ee(ae){E(ye,be,ke,ue,ee,"throw",ae)}ue(void 0)})}}G.d(tt,{Z:()=>_})}},Bt=>{Bt(Bt.s=3233)}]);